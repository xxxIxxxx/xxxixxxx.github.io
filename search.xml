<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åˆ©ç”¨ hexo å’Œ github æ­å»ºè‡ªå·±çš„åšå®¢</title>
    <url>/2020/12/18/000/</url>
    <content><![CDATA[<h1 id="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"><a href="#åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦" class="headerlink" title="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"></a><a class="link"   href="https://www.jianshu.com/u/192abcc5117c" >åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>è¿ç§»çš„æ–‡ç« æ—¶é—´æœªåŒæ­¥ã€‚ä¸ºäº†é˜²æ­¢æ¯æ¬¡å‘å¸ƒï¼Œæ—¶é—´è·Ÿç€æ”¹å˜ã€‚éšæœºç»™äº†ä¸€ä¸ªæ—¶é—´ã€‚</p>
</blockquote>
<h1 id="Hexo-æ•™ç¨‹"><a href="#Hexo-æ•™ç¨‹" class="headerlink" title="Hexo æ•™ç¨‹"></a><a class="link"   href="https://hexo.io/zh-cn/" >Hexo æ•™ç¨‹<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Hexo-ä¸»é¢˜-Keep"><a href="#Hexo-ä¸»é¢˜-Keep" class="headerlink" title="Hexo ä¸»é¢˜ Keep"></a><a class="link"   href="https://keep.xpoet.cn/" >Hexo ä¸»é¢˜ Keep<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>Keepä¸»é¢˜ ç²¾ç®€å¥½çœ‹ å°±æ˜¯æˆ‘ç”¨çš„è¿™å¥—ä¸»é¢˜</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>Swift GCD barrier</title>
    <url>/2020/11/02/100-Swift-GCD-barrier/</url>
    <content><![CDATA[<h1 id="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"><a href="#å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ" class="headerlink" title="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"></a>å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">&#x2F;&#x2F; âš ï¸âš ï¸ è¿™é‡ŒåŠ äº†åˆ¤æ–­çœ‹ä¼¼å®‰å…¨ï¼Œä½†åœ¨å¼‚æ­¥æ“ä½œæ—¶ åˆ¤æ–­ array.count &gt; 0 çš„åŒæ—¶å¯èƒ½å°±æœ‰ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œæ”¹å˜äº†æ•°ç»„</span><br><span class="line">    if array.count &gt; 0 &#123;</span><br><span class="line">        return array[array.count - 1]</span><br><span class="line">    &#125;</span><br><span class="line">    return -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">    array.removeLast()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨-barrier"><a href="#ä½¿ç”¨-barrier" class="headerlink" title="ä½¿ç”¨ barrier"></a>ä½¿ç”¨ barrier</h1><blockquote>
<p>ä¼šä¿è¯åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ .barrier æ‰§è¡Œå®Œä¹‹åæ‰ä¼šå»åšå…¶ä»–çº¿ç¨‹æ“ä½œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line">let arrayQueue &#x3D; DispatchQueue(label: &quot;arrayQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">    arrayQueue.sync &#123; () -&gt; Int in</span><br><span class="line">        if array.count &gt; 0 &#123;</span><br><span class="line">            return array[array.count - 1]</span><br><span class="line">        &#125;</span><br><span class="line">        return -1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">&#x2F;&#x2F;âš ï¸âš ï¸ è¿™é‡Œä½¿ç”¨ barrier </span><br><span class="line">    let workItem &#x3D; DispatchWorkItem(qos: DispatchQoS.default, flags: DispatchWorkItemFlags.barrier) &#123;</span><br><span class="line">        array.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">    arrayQueue.async(execute: workItem)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD æ­»é”</title>
    <url>/2020/11/04/100-Swift-GCD-%E6%AD%BB%E9%94%81/</url>
    <content><![CDATA[<h1 id="1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"><a href="#1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡" class="headerlink" title="1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"></a>1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ç”±äºæ²¡æœ‰å®šä¹‰ attributes æ‰€ä»¥æ˜¯ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">    queue.sync &#123;</span><br><span class="line">        print(&quot;----- task 2 -------&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âš ï¸è§£å†³æ–¹æ³•</span><br><span class="line">&#x2F;&#x2F;&#x2F; è§£å†³æ–¹æ³•å°†ä¸²è¡Œæ”¹ä¸ºå¹¶è¡Œ</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="2-ä¸»çº¿ç¨‹åŒæ­¥"><a href="#2-ä¸»çº¿ç¨‹åŒæ­¥" class="headerlink" title="2. ä¸»çº¿ç¨‹åŒæ­¥"></a>2. ä¸»çº¿ç¨‹åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue.main</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD çš„ä¸²è¡Œé˜Ÿåˆ—ä¸å¹¶è¡Œé˜Ÿåˆ—</title>
    <url>/2020/11/07/100-Swift-GCD-%E7%9A%84%E4%B8%B2%E8%A1%8C%E9%98%9F%E5%88%97%E4%B8%8E%E5%B9%B6%E8%A1%8C%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>é˜Ÿåˆ—</th>
<th>å¼‚æ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>åŒæ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>æ‰§è¡Œé¡ºåº</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸²è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>æŒ‰æ·»åŠ é¡ºåº</td>
</tr>
<tr>
<td>å¹¶è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>åŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</td>
</tr>
</tbody></table>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"><a href="#ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"></a>ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº</h1><h1 id="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"><a href="#å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"></a>å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</h1><hr>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
<h1 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 5)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift String æˆªå–å­—ç¬¦ä¸²ï¼ŒString è½¬ NSString</title>
    <url>/2020/11/09/100-Swift-String-%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C-String-%E8%BD%AC-NSString/</url>
    <content><![CDATA[<h1 id="String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"><a href="#String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†" class="headerlink" title="String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"></a>String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è½¬ä¸º NSString</span><br><span class="line"> (&quot;ABCD&quot; as NSString)</span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨ NSString çš„æ–¹æ³•</span><br><span class="line"> (&quot;ABCD&quot; as NSString).substring(to: 1)</span><br></pre></td></tr></table></figure>

<h1 id="Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–"><a href="#Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–"></a>Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let str &#x3D; &quot;ABCDEFGHIGK&quot;</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰5ä¸ª&quot; + &quot;\(str.prefix(5))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å‰5ä¸ªABCDE</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰150ä¸ª&quot; + str.prefix(150))</span><br><span class="line">       &#x2F;&#x2F; å‰150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å3ä¸ª&quot; + &quot;\(str.suffix(3))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å3ä¸ªIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å150ä¸ª&quot; + &quot;\(str.suffix(150))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       let startIndex &#x3D; str.index(str.startIndex, offsetBy: 2)</span><br><span class="line">       let endIndex &#x3D; str.index(str.startIndex, offsetBy: 5)</span><br><span class="line"></span><br><span class="line">       print(&quot;2-5æ˜¯&quot; + str[startIndex ..&lt; endIndex])</span><br><span class="line">       &#x2F;&#x2F; 2-5æ˜¯CDE</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>iOS å¤šçº¿ç¨‹</title>
    <url>/2020/11/10/100-Swift-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="1-Thread"><a href="#1-Thread" class="headerlink" title="1. Thread"></a>1. Thread</h1><h4 id="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "><a href="#é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç " class="headerlink" title="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "></a>é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </span><br><span class="line">Thread.detachNewThread &#123;</span><br><span class="line">                print(&quot;111&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"><a href="#åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"></a>åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</span><br><span class="line">let tr &#x3D; Thread(target: self, selector: #selector(threadTest), object: nil)</span><br><span class="line">&#x2F;&#x2F;å¼€å¯</span><br><span class="line">tr.start()</span><br><span class="line"></span><br><span class="line">@objc func threadTest () &#123;</span><br><span class="line">        print(&quot;777&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-Operation"><a href="#2-Operation" class="headerlink" title="2. Operation"></a>2. Operation</h1><h4 id="BlockOperation"><a href="#BlockOperation" class="headerlink" title="BlockOperation"></a>BlockOperation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; BlockOperation</span><br><span class="line">let operation &#x3D; BlockOperation &#123;</span><br><span class="line">      print(&quot; ----- BlockOperation  -----&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h4 id="ç»§æ‰¿è‡ª-Operation"><a href="#ç»§æ‰¿è‡ª-Operation" class="headerlink" title="ç»§æ‰¿è‡ª Operation"></a>ç»§æ‰¿è‡ª Operation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»§æ‰¿è‡ª Operation</span><br><span class="line">class MyOperation: Operation &#123;</span><br><span class="line">            override func main() &#123;</span><br><span class="line">                print(&quot;--- MyOperation do ... ----&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line">let operation &#x3D; MyOperation()</span><br><span class="line">&#x2F;&#x2F;&#x2F; å½“ operation æ‰§è¡Œå®Œ ä¼šæ‰§è¡Œè¿™ä¸ª</span><br><span class="line">operation.completionBlock &#x3D; &#123;</span><br><span class="line">            print(&quot;----- completionBlock  ------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h1 id="3-GCD"><a href="#3-GCD" class="headerlink" title="3. GCD"></a>3. GCD</h1><h4 id="é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„"><a href="#é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„" class="headerlink" title="é˜Ÿåˆ— Queue å¸¸ç”¨çš„"></a>é˜Ÿåˆ— Queue å¸¸ç”¨çš„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¼‚æ­¥ å¹¶è¡Œ</span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å›åˆ°ä¸»çº¿ç¨‹å¼‚æ­¥</span><br><span class="line">DispatchQueue.main.async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å¼‚æ­¥å»¶æ—¶</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1) &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<h4 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h4><blockquote>
<p>labelï¼šåå­—æ ‡ç­¾<br>qosï¼šä¼˜å…ˆçº§<br>attributesï¼šä¸²è¡Œé˜Ÿåˆ—ã€å¹¶è¡Œé˜Ÿåˆ— concurrent<br>autoreleaseFrequencyï¼šé¢‘ç‡</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, qos: DispatchQoS.default, attributes: DispatchQueue.Attributes.concurrent, autoreleaseFrequency: DispatchQueue.AutoreleaseFrequency.inherit, target: nil)</span><br><span class="line">        </span><br><span class="line">queue.async &#123;</span><br><span class="line">            print(&quot; --- å¼‚æ­¥ ---&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.sync &#123;</span><br><span class="line">            print(&quot;--- åŒæ­¥ -----&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.asyncAfter(deadline: .now() + 5) &#123;</span><br><span class="line">            print(&quot;---- 5s ------&quot;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šç­‰å¾…ä»–ä¸Šä¸€ä¸ªè¿›å…¥çš„çº¿ç¨‹æ‰§è¡Œå®Œæ‰ä¼šå¼€å§‹(æ— è®ºä¸Šä¸€ä¸ªçº¿ç¨‹æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥)ï¼Œå¹¶ä¸”é˜»æŒ¡çº¿ç¨‹ç­‰å¾…è‡ªå·±æ‰§è¡Œå®Œæ¯•æ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------- ç­‰å¾… -------&quot;)</span><br><span class="line">&#x2F;&#x2F; wait ä¼šé˜»å¡çº¿ç¨‹</span><br><span class="line">group.wait()</span><br><span class="line">print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; notify ä¸ä¼šé˜»å¡</span><br><span class="line">&#x2F;&#x2F;group.notify(queue: queue) &#123;</span><br><span class="line">&#x2F;&#x2F;print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#125;</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- ç­‰å¾… -------</span><br><span class="line">------- å¼‚æ­¥ B -------</span><br><span class="line">------- ç»“æŸ -------</span><br></pre></td></tr></table></figure>

<h4 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šé˜»å¡åé¢çš„çº¿ç¨‹æ‰§è¡Œï¼Œä¸”åŒæ­¥ä¸å—å‰è¾¹å¼‚æ­¥çš„å½±å“</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(2)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.notify(queue: queue) &#123;</span><br><span class="line">    print(&quot;------- å…¨éƒ¨ç»“æŸ -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------</span><br><span class="line">------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------</span><br><span class="line">------- å…¨éƒ¨ç»“æŸ -------</span><br></pre></td></tr></table></figure>
<h4 id="DispatchSource-å®šæ—¶å™¨ä¾‹å­"><a href="#DispatchSource-å®šæ—¶å™¨ä¾‹å­" class="headerlink" title="DispatchSource å®šæ—¶å™¨ä¾‹å­"></a>DispatchSource å®šæ—¶å™¨ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var time &#x3D; 7</span><br><span class="line">let timer &#x3D; DispatchSource.makeTimerSource(flags: [], queue: .global())</span><br><span class="line">&#x2F;&#x2F;æ¯ç§’æ‰§è¡Œä¸€æ¬¡</span><br><span class="line">timer.schedule(deadline: .now(), repeating: 1)</span><br><span class="line">timer.setEventHandler &#123;</span><br><span class="line">&#x2F;&#x2F;  ç”±äºä½¿ç”¨çš„ queue æ˜¯  .global()   è¿™é‡Œä¸æ˜¯ä¸»çº¿ç¨‹ </span><br><span class="line">    time -&#x3D; 1</span><br><span class="line">    print(&quot;----- \(time)&quot;)</span><br><span class="line">    if time &#x3D;&#x3D; 1 &#123;</span><br><span class="line">        timer.cancel()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">timer.resume()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
        <tag>Thread</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift æ•°ç»„</title>
    <url>/2020/11/22/100-Swift-%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var list &#x3D; [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;]</span><br><span class="line">list.removeAll&#123; $0 &#x3D;&#x3D; &quot;2&quot; &#125;</span><br><span class="line">&#x2F;&#x2F;[&quot;1&quot;,&quot;3&quot;,&quot;4&quot;]</span><br></pre></td></tr></table></figure>


<h1 id="Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"><a href="#Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼" class="headerlink" title="Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"></a>Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼</h1><h3 id="1-for-in-ä¸å¸¦ç´¢å¼•"><a href="#1-for-in-ä¸å¸¦ç´¢å¼•" class="headerlink" title="1. for-in ä¸å¸¦ç´¢å¼•"></a>1. for-in ä¸å¸¦ç´¢å¼•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">for obj in arr &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return"><a href="#2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return" class="headerlink" title="2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return"></a>2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">arr.forEach &#123; obj in</span><br><span class="line">    &#x2F;&#x2F; ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼"><a href="#3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼" class="headerlink" title="3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼"></a>3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¸¦ç´¢å¼• å’Œ å€¼</span><br><span class="line">for (index, obj) in arr.enumerated() &#123;</span><br><span class="line">    print(&quot;ä½ç½®ï¼š\(index)&quot; + &quot;å€¼ï¼š\(obj)&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-while"><a href="#4-while" class="headerlink" title="4. while"></a>4. while</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿­ä»£å™¨</span><br><span class="line">var arrIterator &#x3D; arr.makeIterator()</span><br><span class="line">while let obj &#x3D; arrIterator.next() &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡"><a href="#5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡" class="headerlink" title="5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡"></a>5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</span><br><span class="line">for index in arr.indices &#123;</span><br><span class="line">    print(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯"><a href="#åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯" class="headerlink" title="åŒºé—´ for-in åŒºé—´ for å¾ªç¯"></a>åŒºé—´ for-in åŒºé—´ for å¾ªç¯</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let s &#x3D; 5</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¼€åŒºé—´ä¸åŒ…å« 50 ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, to: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒºé—´åŒ…å« 50ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, through: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"><a href="#æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ" class="headerlink" title="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"></a>æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let array &#x3D; [Int](7 ..&lt; 117)</span><br><span class="line"></span><br><span class="line">let a &#x3D; array.contains(100)</span><br><span class="line">print(&quot;\(a ? &quot;åŒ…å«&quot; : &quot;ä¸åŒ…å«&quot;)&quot; + &quot;100&quot;)</span><br><span class="line"></span><br><span class="line">let b &#x3D; array.contains(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">print(&quot;\(b ? &quot;å«æœ‰å¤§äº8çš„æ•°å­—&quot; : &quot;ä¸å«æœ‰å¤§äº8çš„æ•°å­—&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">let c &#x3D; array.allSatisfy &#123; $0 &gt;&#x3D; 6 &#125;</span><br><span class="line">print(&quot;\(c ? &quot;æ‰€æœ‰æ•°å­—éƒ½å¤§äºç­‰äº6&quot; : &quot;æœ‰æ•°å­—å°äº6&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.first))&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.last))&quot;)</span><br><span class="line"></span><br><span class="line">let first &#x3D; array.first(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let first &#x3D; first &#123;</span><br><span class="line">    print(&quot;ç¬¬ä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(first)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let last &#x3D; array.last(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let last &#x3D; last &#123;</span><br><span class="line">    print(&quot;æœ€åä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(last)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; 10 åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.firstIndex(of: 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; 17 åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.lastIndex(of: 17)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swift æ·»åŠ ä¸‹æ ‡ subscript</title>
    <url>/2020/11/23/100-Swift-%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%A0%87-subscript/</url>
    <content><![CDATA[<h1 id="å…³é”®å­-subscript"><a href="#å…³é”®å­-subscript" class="headerlink" title="å…³é”®å­ subscript "></a>å…³é”®å­ <code>subscript </code></h1><p>å‚æ•°å’Œè¿”å›å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ˆ<code>inout</code>è¾“å…¥è¾“å‡ºé™¤å¤–ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct People &#123;</span><br><span class="line">    var name &#x3D; &quot;&quot;, age &#x3D; 0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™å®ä¾‹æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    subscript(n: String) -&gt; Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            return age</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            age &#x3D; newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™ç»“æ„ä½“æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    static subscript(name: String, age: Int) -&gt; People &#123;</span><br><span class="line">        People(name: name, age: age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a &#x3D; People(name: &quot;å“ˆå“ˆå“ˆ&quot;, age: 18)</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;18</span><br><span class="line">a[&quot;å“ˆå“ˆå“ˆ&quot;] &#x3D; 20</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;20</span><br><span class="line">let p &#x3D; People[&quot;å“ˆå–½&quot;, 20]</span><br><span class="line">print(p)&#x2F;&#x2F;People(name: &quot;å“ˆå–½&quot;, age: 20)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>ä¸‹æ ‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift çš„ä¸€äº›é«˜é˜¶å‡½æ•° mapã€filterã€reduceã€flatMapã€compactMap</title>
    <url>/2020/11/17/100-Swift-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-map-filter-reduce-flatMap-compactMap/</url>
    <content><![CDATA[<h1 id="map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"><a href="#map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ" class="headerlink" title="map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"></a>map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</span><br><span class="line">print(numbers.map &#123; $0 * 10 &#125;)</span><br><span class="line">&#x2F;&#x2F; [10, 30, 50, 70, 90]</span><br></pre></td></tr></table></figure>

<h1 id="filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"><a href="#filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ" class="headerlink" title="filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"></a>filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</span><br><span class="line">print(numbers.filter &#123; $0 &gt; 5 &#125;)</span><br><span class="line">&#x2F;&#x2F; [7, 9]</span><br></pre></td></tr></table></figure>

<h1 id="reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"><a href="#reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š" class="headerlink" title="reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"></a>reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</span><br><span class="line">let abc &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">print(abc.reduce(&quot;100&quot;) &#123; $0 + ($1 + &quot;kk&quot;) &#125;)</span><br><span class="line">&#x2F;&#x2F; 100akkbkkckk</span><br></pre></td></tr></table></figure>

<h1 id="flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"><a href="#flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ" class="headerlink" title="flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"></a>flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let list &#x3D; [[1, 2, 3], [4, 5], [7]]</span><br><span class="line">&#x2F;&#x2F;&#x2F; é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</span><br><span class="line">print(list.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åªä¼šæ‹†ä¸€å±‚</span><br><span class="line">let list1 &#x3D; [[1, 2, 3], [4, 5], [7], [[8], [9]]]</span><br><span class="line">print(list1.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7, [8], [9]]</span><br></pre></td></tr></table></figure>

<h1 id="compactMap-è¿‡æ»¤ç©ºå€¼"><a href="#compactMap-è¿‡æ»¤ç©ºå€¼" class="headerlink" title="compactMap è¿‡æ»¤ç©ºå€¼"></a>compactMap è¿‡æ»¤ç©ºå€¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let names: [String?] &#x3D; [&quot;am&quot;,nil,&quot;qw&quot;,&quot;er&quot;,nil]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤ç©ºå€¼</span><br><span class="line">print(names.compactMap&#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F;[&quot;am&quot;, &quot;qw&quot;, &quot;er&quot;]</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>é«˜é˜¶å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift ç±»å‹è½¬æ¢</title>
    <url>/2020/12/21/100-Swift-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h1 id="Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨"><a href="#Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨" class="headerlink" title="Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨"></a>Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨</h1><h2 id="if-let-as"><a href="#if-let-as" class="headerlink" title="if let as"></a>if let as</h2><p> ç±»å‹è½¬æ¢ï¼Œæ­¤æ—¶ <code>btn</code> æ˜¯ <code>Any</code> ç±»å‹ï¼Œä½¿ç”¨ <code>as?</code> å°†ä»–å°è¯•è½¬ä¸º <code>UIButton</code>ç±»å‹ã€‚å¹¶èµ‹å€¼ç»™ <code>a</code>ã€‚ å®é™…å¼€å‘ä¸­å»ºè®® <code>a</code> ä¸ <code>btn</code> å‘½åä¸€è‡´ï¼Œè¿™é‡Œä¸ºäº†ä¾¿äºåŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">if let a &#x3D; btn as? UIButton &#123;</span><br><span class="line">    print(a)</span><br><span class="line">    &#x2F;&#x2F; è¿™é‡Œ a ä¸ºçœŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="guard-let-as"><a href="#guard-let-as" class="headerlink" title="guard let as"></a>guard let as</h2><p>å’Œ <code>if let as</code> åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å½“è½¬æ¢å¤±è´¥æ—¶æå‰é€€å‡ºã€‚é€‚ç”¨äºä¸€äº›å¼‚æ­¥å›è°ƒé‡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">guard let btn &#x3D; btn as? UIButton else &#123; return &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>ç¬¬ä¸‰æ–¹åº“æç¤º</title>
    <url>/2020/11/11/100-Swift%E5%AF%BC%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E3%80%81%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%8F%90%E7%A4%BA/</url>
    <content><![CDATA[<h4 id="1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"><a href="#1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"></a>1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºä¸€ä¸ªSwiftæ–‡ä»¶ï¼Œåœ¨å¯¼å…¥çš„åº“å‰æ·»åŠ  @_exported</span><br><span class="line">ğŸŒ°</span><br><span class="line"></span><br><span class="line">@_exported import Alamofire</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"><a href="#2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º" class="headerlink" title="2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"></a>2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.é€‰æ‹©target </span><br><span class="line">2.é€‰æ‹©Build Settings </span><br><span class="line">3.æœç´¢ User Header Search Paths</span><br><span class="line">4.å¡«å†™ $(PODS_ROOT)ï¼Œå¹¶è®¾ç½®ä¸ºâ€œrecursiveâ€  </span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swift åè®®ä¸æ‰©å±•</title>
    <url>/2020/12/25/100-Swift%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%89%A9%E5%B1%95/</url>
    <content><![CDATA[<h1 id="åè®®-Protocol"><a href="#åè®®-Protocol" class="headerlink" title="åè®® Protocol"></a>åè®® Protocol</h1><h2 id="ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"><a href="#ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®" class="headerlink" title="ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"></a>ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®</h2><blockquote>
<p>è®©éµå®ˆè¯¥åè®®çš„ class ä¸ struct å®ç°çº¦å®šä¸€äº›æ–¹æ³•ä¸å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éµå®ˆåè®®"><a href="#éµå®ˆåè®®" class="headerlink" title="éµå®ˆåè®®"></a>éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct Person: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Car: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int &#x3D; 0</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ‰©å±•-extension"><a href="#æ‰©å±•-extension" class="headerlink" title="æ‰©å±• extension"></a>æ‰©å±• extension</h1><h2 id="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"><a href="#æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰" class="headerlink" title="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"></a>æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰</h2><blockquote>
<p>åˆ†æ•£ä»£ç å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension Car &#123;</span><br><span class="line">    func dididi() &#123;</span><br><span class="line">        print(&quot;æ»´æ»´æ»´&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Car().dididi()</span><br></pre></td></tr></table></figure>

<h1 id="Protocl-Extension"><a href="#Protocl-Extension" class="headerlink" title="Protocl + Extension"></a>Protocl + Extension</h1><blockquote>
<p>ç»™å‡ºåè®®å¹¶å®ç°åè®®ï¼Œè¿™æ ·éµå®ˆåè®®çš„ class å’Œ struct å°±èƒ½ç›´æ¥ä½¿ç”¨åè®®æ–¹æ³•ã€‚</p>
</blockquote>
<h2 id="runtime-æ·»åŠ å±æ€§"><a href="#runtime-æ·»åŠ å±æ€§" class="headerlink" title="runtime æ·»åŠ å±æ€§"></a>runtime æ·»åŠ å±æ€§</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func getAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer) -&gt; T? &#123;</span><br><span class="line">    return objc_getAssociatedObject(object, key) as? T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func setRetainedAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer, _ value: T) &#123;</span><br><span class="line">    objc_setAssociatedObject(object, key, value, .OBJC_ASSOCIATION_RETAIN_NONATOMIC)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰©å±•éµå®ˆåè®®"><a href="#æ‰©å±•éµå®ˆåè®®" class="headerlink" title="æ‰©å±•éµå®ˆåè®®"></a>æ‰©å±•éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">private var pageNumberKey: Void?</span><br><span class="line"></span><br><span class="line">private var nameKey: Void?</span><br><span class="line"></span><br><span class="line">extension UIViewController: PageNumberProtocol &#123;</span><br><span class="line">    static func logName() &#123;</span><br><span class="line">        debugPrint(name ?? &quot;æ— å&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static var name: String? &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;nameKey)</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;nameKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func add() &#123;</span><br><span class="line">        pageNumber +&#x3D; 1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var pageNumber: Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;pageNumberKey) ?? 0</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;pageNumberKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ‰€æœ‰éµå®ˆ PageNumberProtocol åè®®çš„ UIViewController å°±éƒ½æœ‰äº†åè®®è¦æ±‚çš„å±æ€§ä¸æ–¹æ³•ä¸”å·²ç»å®ç°äº†ã€‚</p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Protocol</tag>
        <tag>Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>Swiftè·å–å€¼çš„ç±»å‹</title>
    <url>/2020/11/19/100-Swift%E8%8E%B7%E5%8F%96%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<p>ä½¿ç”¨ <code>type(of:)</code> å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let a &#x3D; type(of:&quot;ğŸ˜„&quot;)</span><br><span class="line"></span><br><span class="line">print(a) &#x2F;&#x2F;String</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a class="link"   href="https://developer.apple.com/documentation/swift/2885064-type" >ç›´è¾¾æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</title>
    <url>/2020/11/02/100-%E5%9C%A8Swift%E4%B8%AD%E4%BD%BF%E7%94%A8-NSClassFromString/</url>
    <content><![CDATA[<p>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</p>
<p>éœ€è¦ <code>å·¥ç¨‹å</code> + <code> .</code>  +  <code>string</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSClassFromString(Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;)! + &quot;.&quot; + &quot;CustomCell&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹"><a href="#æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹" class="headerlink" title="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹"></a>æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public func GetClassFromString(_ classString: String) -&gt; AnyClass? &#123;</span><br><span class="line">    </span><br><span class="line">    guard let bundleName: String &#x3D; Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;) as? String else &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    var anyClass: AnyClass? &#x3D; NSClassFromString(bundleName + &quot;.&quot; + classString)</span><br><span class="line">    if (anyClass &#x3D;&#x3D; nil) &#123;</span><br><span class="line">        anyClass &#x3D; NSClassFromString(classString)</span><br><span class="line">    &#125;</span><br><span class="line">    return anyClass</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"><a href="#ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨" class="headerlink" title="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"></a>ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GetClassFromString(&quot;cellName&quot;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ</title>
    <url>/2021/02/04/1000-001TCP%20%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="1-TCP-æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ"><a href="#1-TCP-æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ" class="headerlink" title="1. TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ"></a>1. TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ</h1><blockquote>
<p>TCPåè®®ä¼ è¾“çš„ç‰¹ç‚¹ä¸»è¦å°±æ˜¯é¢å‘å­—èŠ‚æµã€ä¼ è¾“å¯é ã€é¢å‘è¿æ¥ã€‚</p>
</blockquote>
<p>TCPåè®®ä¿è¯æ•°æ®ä¼ è¾“å¯é æ€§çš„æ–¹å¼ä¸»è¦æœ‰ï¼š</p>
<ol>
<li><strong>æ•°æ®åˆ†å‰²</strong> åº”ç”¨æ•°æ®è¢«åˆ†å‰²æˆ TCP è®¤ä¸ºæœ€åˆé€‚å‘é€çš„æ•°æ®å—ã€‚</li>
<li><strong>ç¼–å·</strong> TCP ç»™å‘é€çš„æ¯ä¸€ä¸ªåŒ…è¿›è¡Œç¼–å·ï¼Œæ¥æ”¶æ–¹å¯¹æ•°æ®åŒ…è¿›è¡Œæ’åºï¼ŒæŠŠæœ‰åºæ•°æ®ä¼ é€ç»™åº”ç”¨å±‚ã€‚</li>
<li><strong>æ£€éªŒå’Œ</strong> TTCP å°†ä¿æŒå®ƒé¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œã€‚è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ£€éªŒå’Œï¼Œç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ã€‚å¦‚æœæ”¶åˆ°æ®µçš„æ£€éªŒå’Œæœ‰å·®é”™ï¼ŒTCP å°†ä¸¢å¼ƒè¿™ä¸ªæŠ¥æ–‡æ®µå’Œä¸ç¡®è®¤æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µã€‚</li>
<li>TCP çš„æ¥æ”¶ç«¯ä¼šä¸¢å¼ƒé‡å¤çš„æ•°æ®ã€‚</li>
<li><strong>æµé‡æ§åˆ¶</strong>  TCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCPçš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP ä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ ï¼ˆTCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰</li>
<li><strong>æ‹¥å¡æ§åˆ¶</strong> å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li>
<li><strong>ARQåè®®</strong> ä¹Ÿæ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚</li>
<li><strong>è¶…æ—¶é‡ä¼ </strong> å½“ TCP å‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µã€‚</li>
</ol>
<h1 id="2-ARQ-åè®®"><a href="#2-ARQ-åè®®" class="headerlink" title="2. ARQ åè®®"></a>2. ARQ åè®®</h1><p> <strong>è‡ªåŠ¨é‡ä¼ è¯·æ±‚</strong>ï¼ˆAutomatic Repeat-reQuestï¼ŒARQï¼‰æ˜¯OSIæ¨¡å‹ä¸­æ•°æ®é“¾è·¯å±‚å’Œä¼ è¾“å±‚çš„é”™è¯¯çº æ­£åè®®ä¹‹ä¸€ã€‚å®ƒé€šè¿‡ä½¿ç”¨ç¡®è®¤å’Œè¶…æ—¶è¿™ä¸¤ä¸ªæœºåˆ¶ï¼Œåœ¨ä¸å¯é æœåŠ¡çš„åŸºç¡€ä¸Šå®ç°å¯é çš„ä¿¡æ¯ä¼ è¾“ã€‚å¦‚æœå‘é€æ–¹åœ¨å‘é€åä¸€æ®µæ—¶é—´ä¹‹å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤å¸§ï¼Œå®ƒé€šå¸¸ä¼šé‡æ–°å‘é€ã€‚ARQåŒ…æ‹¬åœæ­¢ç­‰å¾…ARQåè®®å’Œè¿ç»­ARQåè®®ã€‚</p>
<h2 id="2-1-åœæ­¢ç­‰å¾…ARQåè®®"><a href="#2-1-åœæ­¢ç­‰å¾…ARQåè®®" class="headerlink" title="2.1 åœæ­¢ç­‰å¾…ARQåè®®"></a>2.1 åœæ­¢ç­‰å¾…ARQåè®®</h2><ul>
<li>åœæ­¢ç­‰å¾…åè®®æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ï¼ˆå›å¤ACKï¼‰ã€‚å¦‚æœè¿‡äº†ä¸€æ®µæ—¶é—´ï¼ˆè¶…æ—¶æ—¶é—´åï¼‰ï¼Œè¿˜æ˜¯æ²¡æœ‰æ”¶åˆ° ACK ç¡®è®¤ï¼Œè¯´æ˜æ²¡æœ‰å‘é€æˆåŠŸï¼Œéœ€è¦é‡æ–°å‘é€ï¼Œç›´åˆ°æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ï¼›</li>
<li>åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­ï¼Œè‹¥æ¥æ”¶æ–¹æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ï¼›</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•<br><strong>ç¼ºç‚¹ï¼š</strong> ä¿¡é“åˆ©ç”¨ç‡ä½ï¼Œç­‰å¾…æ—¶é—´é•¿</p>
<h3 id="2-1-1-æ— å·®é”™æƒ…å†µ"><a href="#2-1-1-æ— å·®é”™æƒ…å†µ" class="headerlink" title="2.1.1 æ— å·®é”™æƒ…å†µ"></a>2.1.1 æ— å·®é”™æƒ…å†µ</h3><p>å‘é€æ–¹å‘é€åˆ†ç»„,æ¥æ”¶æ–¹åœ¨è§„å®šæ—¶é—´å†…æ”¶åˆ°,å¹¶ä¸”å›å¤ç¡®è®¤.å‘é€æ–¹å†æ¬¡å‘é€ã€‚</p>
<h3 id="2-1-2-å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰"><a href="#2-1-2-å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰" class="headerlink" title="2.1.2 å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰"></a>2.1.2 å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰</h3><p>åœæ­¢ç­‰å¾…åè®®ä¸­è¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„éœ€è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå…¶é‡ä¼ æ—¶é—´åº”æ¯”æ•°æ®åœ¨åˆ†ç»„ä¼ è¾“çš„å¹³å‡å¾€è¿”æ—¶é—´æ›´é•¿ä¸€äº›ã€‚ <strong>è¿™ç§è‡ªåŠ¨é‡ä¼ æ–¹å¼å¸¸ç§°ä¸º è‡ªåŠ¨é‡ä¼ è¯·æ±‚ ARQ ã€‚</strong></p>
<p>å¦å¤–åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­è‹¥æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ã€‚è¿ç»­ ARQ åè®® å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä½ç½®çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p>
<h3 id="2-1-3-ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°"><a href="#2-1-3-ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°" class="headerlink" title="2.1.3 ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°"></a>2.1.3 ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°</h3><ul>
<li><strong>ç¡®è®¤ä¸¢å¤±ï¼š</strong> ç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸¢å¤±ã€‚å½“Aå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°åï¼ŒBå‘Aå‘é€äº†ä¸€ä¸ªM1ç¡®è®¤æ¶ˆæ¯ï¼Œä½†å´åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ã€‚è€ŒAå¹¶ä¸çŸ¥é“ï¼Œåœ¨è¶…æ—¶è®¡æ—¶è¿‡åï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBå†æ¬¡æ”¶åˆ°è¯¥æ¶ˆæ¯åé‡‡å–ä»¥ä¸‹ä¸¤ç‚¹æªæ–½ï¼š1. ä¸¢å¼ƒè¿™ä¸ªé‡å¤çš„M1æ¶ˆæ¯ï¼Œä¸å‘ä¸Šå±‚äº¤ä»˜ã€‚ 2. å‘Aå‘é€ç¡®è®¤æ¶ˆæ¯ã€‚ï¼ˆä¸ä¼šè®¤ä¸ºå·²ç»å‘é€è¿‡äº†ï¼Œå°±ä¸å†å‘é€ã€‚Aèƒ½é‡ä¼ ï¼Œå°±è¯æ˜Bçš„ç¡®è®¤æ¶ˆæ¯ä¸¢å¤±ï¼‰ã€‚</li>
<li><strong>ç¡®è®¤è¿Ÿåˆ°</strong> ç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¿Ÿåˆ°ã€‚Aå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°å¹¶å‘é€ç¡®è®¤ã€‚åœ¨è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤æ¶ˆæ¯ï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBä»ç„¶æ”¶åˆ°å¹¶ç»§ç»­å‘é€ç¡®è®¤æ¶ˆæ¯ï¼ˆBæ”¶åˆ°äº†2ä»½M1ï¼‰ã€‚æ­¤æ—¶Aæ”¶åˆ°äº†Bç¬¬äºŒæ¬¡å‘é€çš„ç¡®è®¤æ¶ˆæ¯ã€‚æ¥ç€å‘é€å…¶ä»–æ•°æ®ã€‚è¿‡äº†ä¸€ä¼šï¼ŒAæ”¶åˆ°äº†Bç¬¬ä¸€æ¬¡å‘é€çš„å¯¹M1çš„ç¡®è®¤æ¶ˆæ¯ï¼ˆAä¹Ÿæ”¶åˆ°äº†2ä»½ç¡®è®¤æ¶ˆæ¯ï¼‰ã€‚å¤„ç†å¦‚ä¸‹ï¼š1. Aæ”¶åˆ°é‡å¤çš„ç¡®è®¤åï¼Œç›´æ¥ä¸¢å¼ƒã€‚2. Bæ”¶åˆ°é‡å¤çš„M1åï¼Œä¹Ÿç›´æ¥ä¸¢å¼ƒé‡å¤çš„M1ã€‚</li>
</ul>
<h2 id="2-2-è¿ç»­ARQåè®®"><a href="#2-2-è¿ç»­ARQåè®®" class="headerlink" title="2.2 è¿ç»­ARQåè®®"></a>2.2 è¿ç»­ARQåè®®</h2><p>è¿ç»­ ARQ åè®®å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€æ–¹ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä¸ºæ­¢çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ä¿¡é“åˆ©ç”¨ç‡é«˜ï¼Œå®¹æ˜“å®ç°ï¼Œå³ä½¿ç¡®è®¤ä¸¢å¤±ï¼Œä¹Ÿä¸å¿…é‡ä¼ ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong> ä¸èƒ½å‘å‘é€æ–¹åæ˜ å‡ºæ¥æ”¶æ–¹å·²ç»æ­£ç¡®æ”¶åˆ°çš„æ‰€æœ‰åˆ†ç»„çš„ä¿¡æ¯ã€‚ æ¯”å¦‚ï¼šå‘é€æ–¹å‘é€äº† 5æ¡ æ¶ˆæ¯ï¼Œä¸­é—´ç¬¬ä¸‰æ¡ä¸¢å¤±ï¼ˆ3å·ï¼‰ï¼Œè¿™æ—¶æ¥æ”¶æ–¹åªèƒ½å¯¹å‰ä¸¤ä¸ªå‘é€ç¡®è®¤ã€‚å‘é€æ–¹æ— æ³•çŸ¥é“åä¸‰ä¸ªåˆ†ç»„çš„ä¸‹è½ï¼Œè€Œåªå¥½æŠŠåä¸‰ä¸ªå…¨éƒ¨é‡ä¼ ä¸€æ¬¡ã€‚è¿™ä¹Ÿå« Go-Back-Nï¼ˆå›é€€ Nï¼‰ï¼Œè¡¨ç¤ºéœ€è¦é€€å›æ¥é‡ä¼ å·²ç»å‘é€è¿‡çš„ N ä¸ªæ¶ˆæ¯ã€‚</p>
<h1 id="3-æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶"><a href="#3-æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶" class="headerlink" title="3. æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶"></a>3. æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶</h1><p><strong>TCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚</strong> æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚</p>
<h1 id="4-æ‹¥å¡æ§åˆ¶"><a href="#4-æ‹¥å¡æ§åˆ¶" class="headerlink" title="4. æ‹¥å¡æ§åˆ¶"></a>4. æ‹¥å¡æ§åˆ¶</h1><p>åœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸä¸€èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§æƒ…å†µå°±å«æ‹¥å¡ã€‚æ‹¥å¡æ§åˆ¶å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚ç›¸åï¼Œæµé‡æ§åˆ¶å¾€å¾€æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡é‡çš„æ§åˆ¶ï¼Œæ˜¯ä¸ªç«¯åˆ°ç«¯çš„é—®é¢˜ã€‚æµé‡æ§åˆ¶æ‰€è¦åšåˆ°çš„å°±æ˜¯æŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»¥ä¾¿ä½¿æ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚</p>
<p>ä¸ºäº†è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼ŒTCP å‘é€æ–¹è¦ç»´æŒä¸€ä¸ª<strong>æ‹¥å¡çª—å£(cwnd)</strong> çš„çŠ¶æ€å˜é‡ã€‚æ‹¥å¡æ§åˆ¶çª—å£çš„å¤§å°å–å†³äºç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œå¹¶ä¸”åŠ¨æ€å˜åŒ–ã€‚å‘é€æ–¹è®©è‡ªå·±çš„å‘é€çª—å£å–ä¸ºæ‹¥å¡çª—å£å’Œæ¥æ”¶æ–¹çš„æ¥å—çª—å£ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚</p>
<p>TCPçš„æ‹¥å¡æ§åˆ¶é‡‡ç”¨äº†å››ç§ç®—æ³•ï¼Œå³ <strong>æ…¢å¼€å§‹</strong> ã€ <strong>æ‹¥å¡é¿å…</strong> ã€<strong>å¿«é‡ä¼ </strong> å’Œ <strong>å¿«æ¢å¤</strong>ã€‚åœ¨ç½‘ç»œå±‚ä¹Ÿå¯ä»¥ä½¿è·¯ç”±å™¨é‡‡ç”¨é€‚å½“çš„åˆ†ç»„ä¸¢å¼ƒç­–ç•¥ï¼ˆå¦‚ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† AQMï¼‰ï¼Œä»¥å‡å°‘ç½‘ç»œæ‹¥å¡çš„å‘ç”Ÿã€‚</p>
<ul>
<li><p><strong>æ…¢å¼€å§‹ï¼š</strong> æ…¢å¼€å§‹ç®—æ³•çš„æ€è·¯æ˜¯å½“ä¸»æœºå¼€å§‹å‘é€æ•°æ®æ—¶ï¼Œå¦‚æœç«‹å³æŠŠå¤§é‡æ•°æ®å­—èŠ‚æ³¨å…¥åˆ°ç½‘ç»œï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¼•èµ·ç½‘ç»œé˜»å¡ï¼Œå› ä¸ºç°åœ¨è¿˜ä¸çŸ¥é“ç½‘ç»œçš„ç¬¦åˆæƒ…å†µã€‚ç»éªŒè¡¨æ˜ï¼Œè¾ƒå¥½çš„æ–¹æ³•æ˜¯å…ˆæ¢æµ‹ä¸€ä¸‹ï¼Œå³ç”±å°åˆ°å¤§é€æ¸å¢å¤§å‘é€çª—å£ï¼Œä¹Ÿå°±æ˜¯ç”±å°åˆ°å¤§é€æ¸å¢å¤§æ‹¥å¡çª—å£æ•°å€¼ã€‚cwndåˆå§‹å€¼ä¸º1ï¼Œæ¯ç»è¿‡ä¸€ä¸ªä¼ æ’­è½®æ¬¡ï¼ŒcwndåŠ å€ã€‚</p>
</li>
<li><p><strong>æ‹¥å¡é¿å…ï¼š</strong> æ‹¥å¡é¿å…ç®—æ³•çš„æ€è·¯æ˜¯è®©æ‹¥å¡çª—å£cwndç¼“æ…¢å¢å¤§ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ”¾çš„cwndåŠ 1.</p>
</li>
<li><p><strong>å¿«é‡ä¼ ä¸å¿«æ¢å¤ï¼š</strong> åœ¨ TCP/IP ä¸­ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆfast retransmit and recoveryï¼ŒFRRï¼‰æ˜¯ä¸€ç§æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œå®ƒèƒ½å¿«é€Ÿæ¢å¤ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚æ²¡æœ‰ FRRï¼Œå¦‚æœæ•°æ®åŒ…ä¸¢å¤±äº†ï¼ŒTCP å°†ä¼šä½¿ç”¨å®šæ—¶å™¨æ¥è¦æ±‚ä¼ è¾“æš‚åœã€‚åœ¨æš‚åœçš„è¿™æ®µæ—¶é—´å†…ï¼Œæ²¡æœ‰æ–°çš„æˆ–å¤åˆ¶çš„æ•°æ®åŒ…è¢«å‘é€ã€‚æœ‰äº† FRRï¼Œå¦‚æœæ¥æ”¶æœºæ¥æ”¶åˆ°ä¸€ä¸ªä¸æŒ‰é¡ºåºçš„æ•°æ®æ®µï¼Œå®ƒä¼šç«‹å³ç»™å‘é€æœºå‘é€ä¸€ä¸ªé‡å¤ç¡®è®¤ã€‚å¦‚æœå‘é€æœºæ¥æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå®ƒä¼šå‡å®šç¡®è®¤ä»¶æŒ‡å‡ºçš„æ•°æ®æ®µä¸¢å¤±äº†ï¼Œå¹¶ç«‹å³é‡ä¼ è¿™äº›ä¸¢å¤±çš„æ•°æ®æ®µã€‚æœ‰äº† FRRï¼Œå°±ä¸ä¼šå› ä¸ºé‡ä¼ æ—¶è¦æ±‚çš„æš‚åœè¢«è€½è¯¯ã€‚ ã€€å½“æœ‰å•ç‹¬çš„æ•°æ®åŒ…ä¸¢å¤±æ—¶ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆFRRï¼‰èƒ½æœ€æœ‰æ•ˆåœ°å·¥ä½œã€‚å½“æœ‰å¤šä¸ªæ•°æ®ä¿¡æ¯åŒ…åœ¨æŸä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´å†…ä¸¢å¤±æ—¶ï¼Œå®ƒåˆ™ä¸èƒ½å¾ˆæœ‰æ•ˆåœ°å·¥ä½œã€‚</p>
</li>
</ul>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://snailclimb.gitee.io/javaguide/#/docs/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C?id=%E5%9B%9B-tcp-%E5%8D%8F%E8%AE%AE%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93" >https://snailclimb.gitee.io/javaguide/#/docs/network/è®¡ç®—æœºç½‘ç»œ?id=å››-tcp-åè®®å¦‚ä½•ä¿è¯å¯é ä¼ è¾“<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
        <tag>ARQåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° HTTPS çš„åŠ å¯†ä¸è®¤è¯è¿‡ç¨‹</title>
    <url>/2021/02/06/1000-003%E7%AE%80%E8%BF%B0%20HTTPS%20%E7%9A%84%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h1><ul>
<li><p>å…±äº«/å¯¹ç§°å¯†é’¥åŠ å¯†ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨ç›¸åŒçš„å¯†é’¥åŠ å¯†ï¼Œç¼ºé™·ï¼šå‘é€å¯†é’¥æœ‰è¢«çªƒå¬çš„é£é™©ï¼Œä½†ä¸å‘é€ï¼Œå¯¹æ–¹å°±ä¸èƒ½è§£å¯†ã€‚å¦‚æœå¯†é’¥èƒ½å¤Ÿå®‰å…¨å‘é€ï¼Œé‚£ä¹ˆæ•°æ®ä¹Ÿèƒ½å®‰å…¨é€è¾¾ï¼Œå°±æ— éœ€åŠ å¯†ã€‚</p>
</li>
<li><p> å…¬å¼€å¯†é’¥åŠ å¯†ï¼šéå¯¹ç§°åŠ å¯†ï¼Œä¸€æŠŠç§é’¥ï¼Œä¸€æŠŠå…¬é’¥ï¼Œæˆå¯¹ã€‚é¦–å…ˆï¼Œå‘é€å…¬é’¥ç»™åŠ å¯†æ–¹ï¼Œå‘é€å¯†æ–‡ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œå¯¹æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œä½¿ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚</p>
</li>
<li><p>æ··åˆåŠ å¯†ï¼šä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼ä¼ é€’å…±äº«å¯†é’¥ï¼Œå†ä½¿ç”¨å…±äº«å¯†é’¥åŠ å¯†ä¼ é€’çš„æ•°æ®</p>
</li>
</ul>
<h1 id="è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦"><a href="#è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦" class="headerlink" title="è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦"></a>è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦</h1><ul>
<li>æœåŠ¡å™¨æŠŠè‡ªå·±çš„å…¬é’¥ç™»å½•è‡³CAè¿›è¡Œè®¤è¯ï¼›</li>
<li>CAæœºæ„ä½¿ç”¨è‡ªå·±çš„ç§é’¥ç»™æœåŠ¡å™¨çš„å…¬é’¥ç½²æ•°å­—ç­¾åå¹¶é¢å‘å…¬é’¥è¯ä¹¦ï¼›</li>
<li>å®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡å™¨çš„å…¬é’¥è¯ä¹¦åï¼Œä½¿ç”¨æ•°å­—è¯ä¹¦è®¤è¯æœºæ„çš„å…¬å¼€å¯†é’¥ï¼ˆäº‹å…ˆæ¤å…¥åˆ°æµè§ˆå™¨å®¢æˆ·ç«¯ï¼‰ï¼Œå‘æ•°å­—è¯ä¹¦è®¤è¯æœºæ„éªŒè¯å…¬é’¥è¯ä¹¦ä¸Šçš„æ•°å­—ç­¾åï¼Œä»¥ç¡®è®¤æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥çš„çœŸå®æ€§ï¼›</li>
<li>ä½¿ç”¨æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥å¯¹æŠ¥æ–‡åŠ å¯†å¹¶å‘é€</li>
</ul>
<h1 id="SSL-TLSæ¡æ‰‹åè®®"><a href="#SSL-TLSæ¡æ‰‹åè®®" class="headerlink" title="SSL/TLSæ¡æ‰‹åè®®"></a>SSL/TLSæ¡æ‰‹åè®®</h1><ul>
<li>å®¢æˆ·ç«¯ç»™å‡ºåè®®ç‰ˆæœ¬å·ï¼Œä¸€ä¸ªéšæœºæ•°ï¼ˆclient randomï¼‰ï¼Œä»¥åŠå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹å¼ï¼›</li>
<li>æœåŠ¡ç«¯ç¡®è®¤åŒæ–¹ä½¿ç”¨çš„åŠ å¯†æ–¹å¼ï¼Œå¹¶ç»™å‡ºæ•°å­—è¯ä¹¦ï¼Œä»¥åŠä¸€ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„éšæœºæ•°ï¼ˆserver randomï¼‰ï¼›</li>
<li>å®¢æˆ·ç«¯ç¡®è®¤è¯ä¹¦æœ‰æ•ˆï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºæ•°ï¼ˆpremaster secretï¼‰ï¼Œå¹¶ä½¿ç”¨æ•°å­—è¯ä¹¦çš„å…¬é’¥åŠ å¯†è¿™ä¸ªéšæœºæ•°ï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼›</li>
<li>æœåŠ¡ç«¯ä½¿ç”¨è‡ªå·±çš„ç§é’¥ï¼Œè·å¾—å®¢æˆ·ç«¯å‘é€çš„éšæœºæ•°ï¼ˆpremaster secretï¼‰;</li>
<li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œæ ¹æ®çº¦å®šçš„åŠ å¯†æ–¹å¼ï¼Œä½¿ç”¨å‰é¢çš„ä¸‰ä¸ªéšæœºæ•°ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è¯å¯†é’¥ï¼ˆsession keyï¼‰,åŠå…±äº«å¯†é’¥ï¼Œç„¶åä½¿ç”¨è¯¥å¯†é’¥åŠ å¯†æ•´ä¸ªæ•°æ®äº¤äº’è¿‡ç¨‹ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
        <tag>SSL/TLS</tag>
      </tags>
  </entry>
  <entry>
    <title>TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</title>
    <url>/2021/02/05/1000-002TCP%20%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="TCP-ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#TCP-ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"></a>TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</h1><h1 id="TCP-Tahoe-Reno"><a href="#TCP-Tahoe-Reno" class="headerlink" title="TCP Tahoe/Reno"></a>TCP Tahoe/Reno</h1><p>æœ€åˆçš„å®ç°ï¼ŒåŒ…æ‹¬æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ä¸¤ä¸ªéƒ¨åˆ†ã€‚åŸºäºé‡ä¼ è¶…æ—¶ï¼ˆretransmission timeout/RTOï¼‰å’Œé‡å¤ç¡®è®¤ä¸ºæ¡ä»¶åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†ä¸¢åŒ…ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼šTahoeç®—æ³•ä¸‹å¦‚æœæ”¶åˆ°ä¸‰æ¬¡é‡å¤ç¡®è®¤ï¼Œå°±è¿›å…¥å¿«é‡ä¼ ç«‹å³é‡å‘ä¸¢å¤±çš„æ•°æ®åŒ…ï¼ŒåŒæ—¶å°†æ…¢å¯åŠ¨é˜ˆå€¼è®¾ç½®ä¸ºå½“å‰æ‹¥å¡çª—å£çš„ä¸€åŠï¼Œå°†æ‹¥å¡çª—å£è®¾ç½®ä¸º1MSSï¼Œè¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ï¼›è€ŒRenoç®—æ³•å¦‚æœæ”¶åˆ°ä¸‰æ¬¡é‡å¤ç¡®è®¤ï¼Œå°±è¿›å…¥å¿«é‡ä¼ ï¼Œä½†ä¸è¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ï¼Œè€Œæ˜¯ç›´æ¥å°†æ‹¥å¡çª—å£å‡åŠï¼Œè¿›å…¥æ‹¥å¡æ§åˆ¶é˜¶æ®µï¼Œè¿™ç§°ä¸ºâ€œå¿«æ¢å¤â€ã€‚<br>è€ŒTahoeå’ŒRenoç®—æ³•åœ¨å‡ºç°RTOæ—¶çš„æªæ–½ä¸€è‡´ï¼Œéƒ½æ˜¯å°†æ‹¥å¡çª—å£é™ä¸º1ä¸ªMSSï¼Œç„¶åè¿›å…¥æ…¢å¯åŠ¨é˜¶æ®µã€‚</p>
<h1 id="TCP-Vegas"><a href="#TCP-Vegas" class="headerlink" title="TCP Vegas"></a>TCP Vegas</h1><p>TCP Vegasç®—æ³•ç”± Lawrence Brakmo å’Œ Larry L. Peterson åœ¨1994å¹´æå‡ºï¼Œå®ƒå’Œå…¶ä»–æ‹¥å¡æ§åˆ¶ç®—æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºVegasç®—æ³•å¹¶ä¸æ€¥äºä¸¢åŒ…æ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æ‹¥å¡ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®åŒ…å»¶è¿Ÿæ¥åˆ¤æ–­ã€‚Vegasé€šè¿‡RTTï¼ˆroundtrip timeï¼‰æ¥å†³å®šå¢åŠ æˆ–è€…å‡å°æ‹¥å¡çª—å£ï¼Œå®ƒèƒ½å¤Ÿå°†æ‹¥å¡è¦å‘ç”Ÿæ—¶å°±é¿å…æ‹¥å¡ï¼Œè€Œä¸æ˜¯ç­‰åˆ°æ‹¥å¡å·²ç»å‘ç”Ÿä¹‹åå†å‡å°å‘é€é€Ÿåº¦ï¼Œå› æ­¤èƒ½å¤Ÿå‡å°é‡ä¼ å’Œè¶…æ—¶çš„å‡ ç‡ã€‚Vegasç®—æ³•ä¸å…¶ä»–ç®—æ³•ï¼ˆæ¯”å¦‚Renoï¼‰å…±å­˜æ—¶ï¼Œä¼šç”±äºæ¯”å…¶ä»–ç®—æ³•æ›´å…ˆé™ä½å‘é€é€Ÿç‡è€Œå‡ºç°å…¬å¹³æ€§é—®é¢˜ã€‚</p>
<h1 id="TCP-New-Reno"><a href="#TCP-New-Reno" class="headerlink" title="TCP New Reno"></a>TCP New Reno</h1><p> TCP New Renoä¸»è¦æ”¹è¿›äº†TCP Renoä¸­å¿«é€Ÿæ¢å¤é˜¶æ®µçš„é‡ä¼ ã€‚<br>åœ¨Renoçš„å¿«æ¢å¤ä¸­ï¼Œä¸€æ—¦å‡ºç°3æ¬¡é‡å¤ç¡®è®¤ï¼ŒTCPå‘é€æ–¹ä¼šé‡å‘æ•°æ®åŒ…å¹¶è®¾ç½®å®šæ—¶å™¨ç­‰å¾…è¯¥é‡å‘æ•°æ®åŒ…è¢«ç¡®è®¤ã€‚å½“é‡å‘çš„æ•°æ®åŒ…è¢«ç¡®è®¤åï¼Œå°±ç«‹å³é€€å‡ºå¿«é€Ÿæ¢å¤é˜¶æ®µï¼Œè¿›å…¥æ‹¥å¡æ§åˆ¶é˜¶æ®µã€‚ä½†å¦‚æœä¸€æ¬¡æ‹¥å¡ä¸­å‡ºç°å¤šä¸ªä¸¢åŒ…ï¼ŒRenoä¼šè¯¯ä»¥ä¸ºå‘ç”Ÿäº†å¤šæ¬¡æ‹¥å¡è€Œé‡å¤å‡å°æ‹¥å¡çª—å£å¯¼è‡´å‘é€é€Ÿç‡ä¸‹é™ã€‚<br>è€Œåœ¨New Renoçš„å¿«é€Ÿæ¢å¤ä¸­ï¼Œä¸€æ—¦å‡ºç°3æ¬¡é‡å¤ç¡®è®¤ï¼Œä¼šè®°ä¸‹å‡ºç°é‡å¤ç¡®è®¤æ—¶æœªç¡®è®¤çš„æ•°æ®åŒ…çš„æœ€å¤§åºåˆ—å·ï¼Œç„¶åé‡å‘é‡å¤ç¡®è®¤çš„æ•°æ®åŒ…ã€‚å¦‚æœæœ‰å¤šä¸ªæ•°æ®åŒ…ä¸¢å¤±ï¼Œåˆ™ç»§ç»­é‡å‘ä¸¢å¤±çš„æ•°æ®åŒ…ï¼Œç›´åˆ°æœ€å¤§åºåˆ—å·çš„æ•°æ®åŒ…è¢«ç¡®è®¤æ‰æ¨å‡ºå¿«æ¢å¤é˜¶æ®µã€‚<br>New Renoåœ¨ä½é”™è¯¯ç‡æ—¶è¿è¡Œæ•ˆç‡å’Œâ€œé€‰æ‹©ç¡®è®¤â€ï¼ˆSelective ACKnowledgementï¼ŒSACKï¼‰ç›¸å½“ï¼Œåœ¨é«˜é”™è¯¯ç‡ä»ä¼˜äºRenoã€‚</p>
<h1 id="TCP-BIC-CUBIC"><a href="#TCP-BIC-CUBIC" class="headerlink" title="TCP BIC/CUBIC"></a>TCP BIC/CUBIC</h1><p>TCP BICï¼ˆBinary Increase Congestion controlï¼‰æ—¨åœ¨ä¼˜åŒ–é«˜é€Ÿé«˜å»¶è¿Ÿç½‘ç»œï¼ˆå³â€œé•¿è‚¥ç½‘ç»œâ€ï¼ˆlong fat networkï¼ŒLFNï¼‰ï¼‰çš„æ‹¥å¡æ§åˆ¶ï¼Œå…¶æ‹¥å¡çª—å£ç®—æ³•ä½¿ç”¨äºŒåˆ†æœç´¢ç®—æ³•å°è¯•æ‰¾åˆ°èƒ½é•¿æ—¶é—´ä¿æŒæ‹¥å¡çª—å£æœ€å¤§å€¼çš„å€¼ã€‚Linuxå†…æ ¸åœ¨2.6.8è‡³2.6.18ä½¿ç”¨è¯¥ç®—æ³•ä½œä¸ºé»˜è®¤TCPæ‹¥å¡ç®—æ³•ã€‚<br>BICç®—æ³•é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ¥ç¡®å®šæœ€å¤§çš„çª—å£å¤§å°ï¼šå¦‚æœå‘ç”Ÿä¸¢åŒ…æ—¶çª—å£å¤§å°æ˜¯W1ï¼Œé‚£ä¹ˆæœ€å¤§çª—å£Wmaxåº”è¯¥å°äºW1ï¼›è¿™æ—¶å°†çª—å£ç¼©å°åˆ°W2ï¼ˆä¹˜ä»¥ä¸€ä¸ªç³»æ•°ï¼Œä¹Ÿå°±æ˜¯ä¹˜æ³•å‡å°ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥é¢„æœŸW1&gt;Wmax&gt;W2ï¼›è¿™æ—¶å†å°†çª—å£å¤§å°è®¾ç½®ä¸º(W1+W2)2ï¼ˆä¹Ÿå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼‰ï¼Œå³æ¯æ”¶åˆ°ä¸€ä¸ªACKå°±æŠŠçª—å£å¤§å°è®¾ç½®ä¸ºä¸¤ä¸ªç•Œé™çš„ä¸­ç‚¹ã€‚<br>å¦‚æœçª—å£å¤§å°å·²ç»æ— é™é€¼è¿‘W1ï¼Œè¯´æ˜ç½‘ç»œçŠ¶å†µåˆå˜å¥½äº†ï¼ˆå¯ç”¨å¸¦å®½å¢åŠ äº†ï¼‰ï¼Œè¿™æ—¶BICä¼šå°è¯•å¾€ä¸Šå¯»æ‰¾æ›´å¤§çš„Wmaxã€‚è€Œåœ¨å¾€ä¸Šå¯»æ‰¾æ—¶ï¼ŒBICä¼šé•œåƒçš„åˆ©ç”¨é€¼è¿‘å½“å‰Wmaxçš„è·¯å¾„å»æœå¯»ï¼Œä¹Ÿå°±æ˜¯å‰é¢æ˜¯å¦‚ä½•å…ˆå¿«åæ…¢æ…¢åœ°é è¿‘å½“å‰Wmaxçš„ï¼Œåé¢å°±åè¿‡æ¥å…ˆæ…¢åå¿«åœ°å¢é•¿ã€‚<br>è€ŒCUBICåˆ™æ˜¯æ¯”BICæ›´æ¸©å’Œå’Œç³»ç»ŸåŒ–çš„åˆ†æ”¯ç‰ˆæœ¬ï¼Œå…¶ä½¿ç”¨ä¸‰æ¬¡å‡½æ•°ä»£æ›¿äºŒåˆ†ç®—æ³•ä½œä¸ºå…¶æ‹¥å¡çª—å£ç®—æ³•ï¼ˆå› ä¸ºå®é™…ä¸ŠBICçš„æœç´¢æ›²çº¿çœ‹èµ·æ¥å°±åƒä¸€ä¸ªä¸‰æ¬¡å‡½æ•°ï¼Œæ‰€ä»¥å¹²è„†å°±å†™ä¸€ä¸ªä¸‰æ¬¡å‡½æ•°æ¥æ¨¡æ‹Ÿæ›²çº¿ï¼‰ï¼Œå¹¶ä¸”ä½¿ç”¨å‡½æ•°æ‹ç‚¹ä½œä¸ºæ‹¥å¡çª—å£çš„è®¾ç½®å€¼ã€‚Linuxå†…æ ¸åœ¨2.6.19åä½¿ç”¨è¯¥ç®—æ³•ä½œä¸ºé»˜è®¤TCPæ‹¥å¡ç®—æ³•ã€‚</p>
<h1 id="TCP-Westwood-Westwood"><a href="#TCP-Westwood-Westwood" class="headerlink" title="TCP Westwood/Westwood+"></a>TCP Westwood/Westwood+</h1><p>TCP Westwoodæ”¹è‰¯è‡ªNew Renoï¼Œä¸åŒäºä»¥å¾€å…¶ä»–æ‹¥å¡æ§åˆ¶ç®—æ³•ä½¿ç”¨ä¸¢å¤±æ¥æµ‹é‡ï¼Œå…¶é€šè¿‡å¯¹ç¡®è®¤åŒ…æµ‹é‡æ¥ç¡®å®šä¸€ä¸ªâ€œåˆé€‚çš„å‘é€é€Ÿåº¦â€ï¼Œå¹¶ä»¥æ­¤è°ƒæ•´æ‹¥å¡çª—å£å’Œæ…¢å¯åŠ¨é˜ˆå€¼ã€‚Westwoodæ”¹è‰¯äº†æ…¢å¯åŠ¨é˜¶æ®µç®—æ³•ä¸ºâ€œæ•æ·æ¢æµ‹ï¼ˆAgile Probingï¼‰â€ï¼Œå¹¶ä¸”è®¾è®¡äº†ä¸€ç§æŒç»­æ¢æµ‹æ‹¥å¡çª—å£çš„æ–¹æ³•æ¥æ§åˆ¶è¿›å…¥â€œæ•æ·æ¢æµ‹â€ï¼Œä½¿è¿æ¥å°½å¯èƒ½åœ°ä½¿ç”¨æ›´å¤šçš„å¸¦å®½ã€‚Westwood+ä½¿ç”¨æ›´é•¿çš„å¸¦å®½ä¼°è®¡é—´éš”å’Œä¼˜åŒ–çš„æ»¤æ³¢å™¨æ¥ä¿®æ­£Westwoodå¯¹ACKå‹ç¼©åœºæ™¯å¯¹å¸¦å®½ä¼°è®¡è¿‡é«˜çš„é—®é¢˜ã€‚é€šè¿‡ä»¥ä¸Šæ”¹è‰¯ï¼ŒTCP Westwoodç³»åˆ—ç®—æ³•åœ¨æœ‰çº¿ç½‘ç»œå’Œæ— çº¿ç½‘ç»œçš„æ‹¥å¡æ§åˆ¶ä¸Šå–å¾—å¹³è¡¡ï¼Œå°¤å…¶ç ”ç©¶ä¸­é’ˆå¯¹äºæ— çº¿é€šä¿¡ç½‘ç»œä¸Šã€‚</p>
<h1 id="Compound-TCP"><a href="#Compound-TCP" class="headerlink" title="Compound TCP"></a>Compound TCP</h1><p>Compound TCPæ˜¯å¾®è½¯è‡ªå·±å®ç°çš„TCPæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œé€šè¿‡åŒæ—¶ç»´æŠ¤ä¸¤ä¸ªæ‹¥å¡çª—å£ï¼Œæ¥å®ç°åœ¨é•¿è‚¥ç½‘ç»œæœ‰è¾ƒå¥½çš„æ€§èƒ½è€Œåˆä¸æŸå¤±å…¬å¹³æ€§ã€‚CTCPç»´æŠ¤ä¸¤ä¸ªæ‹¥å¡çª—å£ï¼šä¸€ä¸ªå¸¸è§„çš„AIMDï¼ˆè‹±è¯­ï¼šAdditive increase/multiplicative decreaseï¼‰çª—å£ï¼Œä»¥åŠä¸€ä¸ªåŸºäºå»¶è¿Ÿçš„çª—å£ï¼Œæœ€ç»ˆå®é™…ä½¿ç”¨çš„æ»‘åŠ¨çª—å£å¤§å°æ˜¯è¿™ä¸¤ä¸ªçª—å£çš„å’Œã€‚AIMDçª—å£ä¸Renoçš„å¢åŠ æ–¹å¼ç›¸åŒï¼›å¦‚æœå»¶è¿Ÿå°ï¼ŒåŸºäºå»¶è¿Ÿçš„çª—å£å°†è¿…é€Ÿå¢åŠ ä»¥æé«˜ç½‘ç»œçš„åˆ©ç”¨ç‡ã€‚ä¸€æ—¦ç»å†äº†æ’é˜Ÿï¼Œå»¶è¿Ÿçª—å£å°†é€æ¸å‡å°ä»¥è¡¥å¿å¢åŠ çš„AIMDçª—å£ã€‚è¿™æ ·çš„ç›®çš„æ˜¯ä¿æŒä¸¤è€…çš„æ€»å’Œå¤§è‡´æ’å®šï¼Œä½¿ç®—æ³•ä¼°è®¡å¸¦å®½æ—¶å»¶ç§¯çš„è·¯å¾„ã€‚</p>
<h1 id="TCP-PRR"><a href="#TCP-PRR" class="headerlink" title="TCP PRR"></a>TCP PRR</h1><p>TCP PRRï¼ˆTCP Proportional Rate Reduction ï¼‰æ˜¯æ—¨åœ¨æ¢å¤æœŸé—´æé«˜å‘é€æ•°æ®çš„å‡†ç¡®æ€§ã€‚è¯¥ç®—æ³•ç¡®ä¿æ¢å¤åçš„æ‹¥å¡çª—å£å¤§å°å°½å¯èƒ½æ¥è¿‘æ…¢å¯åŠ¨é˜ˆå€¼</p>
<h1 id="TCP-BBR"><a href="#TCP-BBR" class="headerlink" title="TCP BBR"></a>TCP BBR</h1><p>TCP BBRï¼ˆBottleneck Bandwidth and Round-trip propagation timeï¼‰æ˜¯ç”±Googleè®¾è®¡ï¼Œäº2016å¹´å‘å¸ƒçš„æ‹¥å¡ç®—æ³•ã€‚ä»¥å¾€å¤§éƒ¨åˆ†æ‹¥å¡ç®—æ³•æ˜¯åŸºäºä¸¢åŒ…æ¥ä½œä¸ºé™ä½ä¼ è¾“é€Ÿç‡çš„ä¿¡å·ï¼Œè€ŒBBRåˆ™åŸºäºæ¨¡å‹ä¸»åŠ¨æ¢æµ‹ã€‚è¯¥ç®—æ³•ä½¿ç”¨ç½‘ç»œæœ€è¿‘å‡ºç«™æ•°æ®åˆ†ç»„å½“æ—¶çš„æœ€å¤§å¸¦å®½å’Œå¾€è¿”æ—¶é—´æ¥å»ºç«‹ç½‘ç»œçš„æ˜¾å¼æ¨¡å‹ã€‚æ•°æ®åŒ…ä¼ è¾“çš„æ¯ä¸ªç´¯ç§¯æˆ–é€‰æ‹©æ€§ç¡®è®¤ç”¨äºç”Ÿæˆè®°å½•åœ¨æ•°æ®åŒ…ä¼ è¾“è¿‡ç¨‹å’Œç¡®è®¤è¿”å›æœŸé—´çš„æ—¶é—´å†…æ‰€ä¼ é€æ•°æ®é‡çš„é‡‡æ ·ç‡ã€‚è¯¥ç®—æ³•è®¤ä¸ºéšç€ç½‘ç»œæ¥å£æ§åˆ¶å™¨é€æ¸è¿›å…¥åƒå…†é€Ÿåº¦æ—¶ï¼Œåˆ†ç»„ä¸¢å¤±ä¸åº”è¯¥è¢«è®¤ä¸ºæ˜¯è¯†åˆ«æ‹¥å¡çš„ä¸»è¦å†³å®šå› ç´ ï¼Œæ‰€ä»¥åŸºäºæ¨¡å‹çš„æ‹¥å¡æ§åˆ¶ç®—æ³•èƒ½æœ‰æ›´é«˜çš„ååé‡å’Œæ›´ä½çš„å»¶è¿Ÿï¼Œå¯ä»¥ç”¨BBRæ¥æ›¿ä»£å…¶ä»–æµè¡Œçš„æ‹¥å¡ç®—æ³•ï¼Œä¾‹å¦‚CUBICã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://juejin.cn/post/6844904003654926350" >https://juejin.cn/post/6844904003654926350<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° TCP ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æŒ¥æ‰‹çš„æµç¨‹ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æŒ¥æ‰‹ï¼Ÿ</title>
    <url>/2021/02/07/1000-004%E7%AE%80%E8%BF%B0%20TCP%20%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%BB%A5%E5%8F%8A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E7%9A%84%E6%B5%81%E7%A8%8B%E3%80%82%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%BB%A5%E5%8F%8A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h1><blockquote>
<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡å‰è¦è¿›è¡Œè¿æ¥ï¼Œâ€œ3æ¬¡æ¡æ‰‹â€çš„ä½œç”¨å°±æ˜¯åŒæ–¹éƒ½èƒ½æ˜ç¡®è‡ªå·±å’Œå¯¹æ–¹çš„æ”¶ã€å‘èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p>
</blockquote>
<p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š</strong> å®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p>
<p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š</strong> æœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ä»å®¢æˆ·ç«¯çš„è§†è§’æ¥çœ‹ï¼Œæˆ‘æ¥åˆ°äº†æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æœåŠ¡ç«¯æ¥æ”¶åˆ°äº†æˆ‘åœ¨ç¬¬ä¸€æ¬¡æ¡æ‰‹æ—¶å‘é€çš„ç½‘ç»œåŒ…ï¼Œå¹¶ä¸”æˆåŠŸå‘é€äº†å“åº”æ•°æ®åŒ…ï¼Œè¿™å°±è¯´æ˜ï¼ŒæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘æ”¶åˆ°äº†æœåŠ¡ç«¯çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æˆ‘ç¬¬ä¸€æ¬¡å‘é€çš„ç½‘ç»œåŒ…æˆåŠŸåˆ°è¾¾æœåŠ¡ç«¯ï¼Œè¿™æ ·ï¼Œæˆ‘è‡ªå·±çš„å‘é€å’Œæ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p>
<p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong> å®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼ŒæœåŠ¡ç«¯çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ç¬¬ä¸€ã€äºŒæ¬¡æ¡æ‰‹åï¼ŒæœåŠ¡ç«¯å¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä»¥åŠè‡ªå·±çš„å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚è€Œåœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†å®¢æˆ·ç«¯å¯¹ç¬¬äºŒæ¬¡æ¡æ‰‹ä½œçš„å›åº”ã€‚ä»æœåŠ¡ç«¯çš„è§’åº¦ï¼Œæˆ‘åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶çš„å“åº”æ•°æ®å‘é€å‡ºå»äº†ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘çš„å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚è€Œå®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p>
<p>ç»å†äº†ä¸Šé¢çš„ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ç¡®è®¤äº†è‡ªå·±çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¹‹åå°±å¯ä»¥æ­£å¸¸é€šä¿¡äº†ã€‚</p>
<h1 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h1><blockquote>
<p>å…³é—­æ—¶ï¼Œå‘åŒ…é¡ºåºä¸ä¸€å®šã€‚ä¸€èˆ¬æ¥è¯´æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·çš„å…³é—­ï¼Œè¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
</blockquote>
<p><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š</strong> å½“ä¸»æœºAçš„åº”ç”¨ç¨‹åºé€šçŸ¥TCPæ•°æ®å·²ç»å‘é€å®Œæ¯•æ—¶ï¼ŒTCPå‘ä¸»æœºBå‘é€ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼ˆFINè¡¨ç¤ºè‹±æ–‡finishï¼‰ã€‚</p>
<p><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºBæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µä¹‹åï¼Œå¹¶ä¸ç«‹å³ç”¨FINæŠ¥æ–‡æ®µå›å¤ä¸»æœºAï¼Œè€Œæ˜¯å…ˆå‘ä¸»æœºAå‘é€ä¸€ä¸ªç¡®è®¤åºå·ACKï¼ŒåŒæ—¶é€šçŸ¥è‡ªå·±ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼šå¯¹æ–¹è¦æ±‚å…³é—­è¿æ¥ï¼ˆå…ˆå‘é€ACKçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹é‡ä¼ FINæŠ¥æ–‡æ®µï¼‰ã€‚</p>
<p><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºBçš„åº”ç”¨ç¨‹åºå‘Šè¯‰TCPï¼šæˆ‘è¦å½»åº•çš„å…³é—­è¿æ¥ï¼ŒTCPå‘ä¸»æœºAé€ä¸€ä¸ªFINæŠ¥æ–‡æ®µã€‚</p>
<p><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºAæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µåï¼Œå‘ä¸»æœºBå‘é€ä¸€ä¸ªACKè¡¨ç¤ºè¿æ¥å½»åº•é‡Šæ”¾ã€‚</p>
<h1 id="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</h1><p>å› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œâ€ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
        <tag>ä¸‰æ¬¡æ¡æ‰‹</tag>
        <tag>å››æ¬¡æŒ¥æ‰‹</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP ä¸ HTTPS æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ</title>
    <url>/2021/02/08/1000-005HTTP%20%E4%B8%8E%20HTTPS%20%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="HTTP-ä¸-HTTPS-åŒºåˆ«"><a href="#HTTP-ä¸-HTTPS-åŒºåˆ«" class="headerlink" title="HTTP ä¸ HTTPS åŒºåˆ«"></a>HTTP ä¸ HTTPS åŒºåˆ«</h1><ol>
<li>HTTP æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼ŒHTTPSï¼ˆSSL+HTTPï¼‰ æ•°æ®ä¼ è¾“è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå¥½ã€‚</li>
<li>ä½¿ç”¨ HTTPS åè®®éœ€è¦åˆ° CAï¼ˆCertificate Authorityï¼Œæ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼‰ ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚è¯ä¹¦é¢å‘æœºæ„å¦‚ï¼šSymantecã€Comodoã€GoDaddy å’Œ GlobalSign ç­‰ã€‚</li>
<li>HTTP é¡µé¢å“åº”é€Ÿåº¦æ¯” HTTPS å¿«ï¼Œä¸»è¦æ˜¯å› ä¸º HTTP ä½¿ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éœ€è¦äº¤æ¢ 3 ä¸ªåŒ…ï¼Œè€Œ HTTPSé™¤äº† TCP çš„ä¸‰ä¸ªåŒ…ï¼Œè¿˜è¦åŠ ä¸Š ssl æ¡æ‰‹éœ€è¦çš„ 9 ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯ 12 ä¸ªåŒ…ã€‚</li>
<li>http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚</li>
<li>HTTPS å…¶å®å°±æ˜¯å»ºæ„åœ¨ SSL/TLS ä¹‹ä¸Šçš„ HTTP åè®®ï¼Œæ‰€ä»¥ï¼Œè¦æ¯”è¾ƒ HTTPS æ¯” HTTP è¦æ›´è€—è´¹æœåŠ¡å™¨èµ„æºã€‚</li>
</ol>
<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><ol>
<li>HyperText Transfer Protocolï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚</li>
<li>æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼ã€åä½œå¼å’Œè¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®ã€‚</li>
<li>HTTP é»˜è®¤å·¥ä½œåœ¨ TCP åè®® 80 ç«¯å£ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ http:// æ‰“å¤´çš„éƒ½æ˜¯æ ‡å‡† HTTP æœåŠ¡ã€‚</li>
<li>HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œå¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ã€‚</li>
</ol>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><ol>
<li>Hypertext Transfer Protocol Secureï¼šå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚</li>
<li>æ˜¯ä¸€ç§é€è¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚</li>
<li>HTTPS ç»ç”± HTTP è¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨ SSL/TLS æ¥åŠ å¯†æ•°æ®åŒ…ã€‚</li>
<li>HTTPS å¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚</li>
<li>HTTPS é»˜è®¤å·¥ä½œåœ¨ TCP åè®®443ç«¯å£</li>
</ol>
<h1 id="HTTPS-å·¥ä½œåŸç†"><a href="#HTTPS-å·¥ä½œåŸç†" class="headerlink" title="HTTPS å·¥ä½œåŸç†"></a>HTTPS å·¥ä½œåŸç†</h1><p><strong>1. å®¢æˆ·ç«¯å‘èµ· HTTPS è¯·æ±‚</strong><br><strong>2. æœåŠ¡ç«¯çš„é…ç½®</strong><br>é‡‡ç”¨ HTTPS åè®®çš„æœåŠ¡å™¨å¿…é¡»è¦æœ‰ä¸€å¥—æ•°å­—è¯ä¹¦ï¼Œå¯ä»¥è‡ªå·±åˆ¶ä½œï¼Œä¹Ÿå¯ä»¥å‘ç»„ç»‡ç”³è¯·ï¼ŒåŒºåˆ«å°±æ˜¯è‡ªå·±é¢å‘çš„è¯ä¹¦éœ€è¦å®¢æˆ·ç«¯éªŒè¯é€šè¿‡ï¼Œæ‰å¯ä»¥ç»§ç»­è®¿é—®ï¼Œè€Œä½¿ç”¨å—ä¿¡ä»»çš„å…¬å¸ç”³è¯·çš„è¯ä¹¦åˆ™ä¸ä¼šå¼¹å‡ºæç¤ºé¡µé¢ã€‚è¿™å¥—è¯ä¹¦å…¶å®å°±æ˜¯ä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥æƒ³è±¡æˆä¸€æŠŠé’¥åŒ™å’Œä¸€ä¸ªé”å¤´ï¼Œåªæ˜¯å…¨ä¸–ç•Œåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œä½ å¯ä»¥æŠŠé”å¤´ç»™åˆ«äººï¼Œåˆ«äººå¯ä»¥ç”¨è¿™ä¸ªé”æŠŠé‡è¦çš„ä¸œè¥¿é”èµ·æ¥ï¼Œç„¶åå‘ç»™ä½ ï¼Œå› ä¸ºåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œæ‰€ä»¥åªæœ‰ä½ æ‰èƒ½çœ‹åˆ°è¢«è¿™æŠŠé”é”èµ·æ¥çš„ä¸œè¥¿ã€‚</p>
<p><strong>3. ä¼ é€è¯ä¹¦</strong><br>è¿™ä¸ªè¯ä¹¦å…¶å®å°±æ˜¯å…¬é’¥ï¼Œåªæ˜¯åŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚è¯ä¹¦çš„é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ã€‚</p>
<p><strong>4. å®¢æˆ·ç«¯è§£æè¯ä¹¦</strong><br>è¿™éƒ¨åˆ†å·¥ä½œæ˜¯æœ‰å®¢æˆ·ç«¯çš„TLSæ¥å®Œæˆçš„ï¼Œé¦–å…ˆä¼šéªŒè¯å…¬é’¥æ˜¯å¦æœ‰æ•ˆï¼Œæ¯”å¦‚é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼Œå¦‚æœå‘ç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†ï¼Œæç¤ºè¯ä¹¦å­˜åœ¨é—®é¢˜ã€‚<br>å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±ç”Ÿæˆä¸€ä¸ªéšæœºå€¼ï¼Œç„¶åç”¨è¯ä¹¦å¯¹è¯¥éšæœºå€¼è¿›è¡ŒåŠ å¯†ï¼Œå°±å¥½åƒä¸Šé¢è¯´çš„ï¼ŒæŠŠéšæœºå€¼ç”¨é”å¤´é”èµ·æ¥ï¼Œè¿™æ ·é™¤éæœ‰é’¥åŒ™ï¼Œä¸ç„¶çœ‹ä¸åˆ°è¢«é”ä½çš„å†…å®¹ã€‚</p>
<p><strong>5. ä¼ é€åŠ å¯†ä¿¡æ¯</strong><br>è¿™éƒ¨åˆ†ä¼ é€çš„æ˜¯ç”¨è¯ä¹¦åŠ å¯†åçš„éšæœºå€¼ï¼Œç›®çš„å°±æ˜¯è®©æœåŠ¡ç«¯å¾—åˆ°è¿™ä¸ªéšæœºå€¼ï¼Œä»¥åå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡å°±å¯ä»¥é€šè¿‡è¿™ä¸ªéšæœºå€¼æ¥è¿›è¡ŒåŠ å¯†è§£å¯†äº†ã€‚</p>
<p><strong>6. æœåŠ¡ç«¯è§£å¯†ä¿¡æ¯</strong><br>æœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†åï¼Œå¾—åˆ°äº†å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„éšæœºå€¼(ç§é’¥)ï¼Œç„¶åæŠŠå†…å®¹é€šè¿‡è¯¥å€¼è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œæ‰€è°“å¯¹ç§°åŠ å¯†å°±æ˜¯ï¼Œå°†ä¿¡æ¯å’Œç§é’¥é€šè¿‡æŸç§ç®—æ³•æ··åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·é™¤éçŸ¥é“ç§é’¥ï¼Œä¸ç„¶æ— æ³•è·å–å†…å®¹ï¼Œè€Œæ­£å¥½å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½çŸ¥é“è¿™ä¸ªç§é’¥ï¼Œæ‰€ä»¥åªè¦åŠ å¯†ç®—æ³•å¤Ÿå½ªæ‚ï¼Œç§é’¥å¤Ÿå¤æ‚ï¼Œæ•°æ®å°±å¤Ÿå®‰å…¨ã€‚</p>
<p><strong>7. ä¼ è¾“åŠ å¯†åçš„ä¿¡æ¯</strong><br>è¿™éƒ¨åˆ†ä¿¡æ¯æ˜¯æœåŠ¡æ®µç”¨ç§é’¥åŠ å¯†åçš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è¢«è¿˜åŸã€‚</p>
<p><strong>8. å®¢æˆ·ç«¯è§£å¯†ä¿¡æ¯</strong><br>å®¢æˆ·ç«¯ç”¨ä¹‹å‰ç”Ÿæˆçš„ç§é’¥è§£å¯†æœåŠ¡æ®µä¼ è¿‡æ¥çš„ä¿¡æ¯ï¼Œäºæ˜¯è·å–äº†è§£å¯†åçš„å†…å®¹ï¼Œæ•´ä¸ªè¿‡ç¨‹ç¬¬ä¸‰æ–¹å³ä½¿ç›‘å¬åˆ°äº†æ•°æ®ï¼Œä¹ŸæŸæ‰‹æ— ç­–ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://www.runoob.com/w3cnote/http-vs-https.html" >https://www.runoob.com/w3cnote/http-vs-https.html<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚ï¼Ÿ</title>
    <url>/2021/02/09/1000-006%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F%EF%BC%8C%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E5%8F%91%E7%94%9F%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚ï¼Ÿ</h1><p>åœ¨æµè§ˆå™¨ä¸Šå½“å‰è®¿é—®çš„ç½‘ç«™å‘å¦ä¸€ä¸ªç½‘ç«™å‘é€è¯·æ±‚è·å–æ•°æ®çš„è¿‡ç¨‹å°±æ˜¯è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>è·¨åŸŸçš„æƒ…å†µæœ‰ï¼š<br>åŒä¸€åŸŸåä¸åŒç«¯å£<br>åŒä¸€åŸŸåä¸åŒåè®®<br>åŸŸåä¸åŒ ip ç›¸åŒ<br>ä¸»åŸŸç›¸åŒå­åŸŸä¸åŒ<br>ä¸åŒåŸŸå</p>
<h1 id="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h1><ol>
<li>é€šè¿‡jsonpè·¨åŸŸ</li>
<li>document.domain + iframeè·¨åŸŸ</li>
<li>location.hash + iframe</li>
<li>window.name + iframeè·¨åŸŸ</li>
<li>postMessageè·¨åŸŸ</li>
<li>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰</li>
<li>nginxä»£ç†è·¨åŸŸ</li>
<li>nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ</li>
<li>WebSocketåè®®è·¨åŸŸ</li>
</ol>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://cloud.tencent.com/developer/article/1175899" >https://cloud.tencent.com/developer/article/1175899<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>UDP æœ‰æ‹¥å¡æ§åˆ¶å—ï¼Ÿ</title>
    <url>/2021/02/11/1000-008UDP/</url>
    <content><![CDATA[<h1 id="UDP-æœ‰æ‹¥å¡æ§åˆ¶å—ï¼Ÿ"><a href="#UDP-æœ‰æ‹¥å¡æ§åˆ¶å—ï¼Ÿ" class="headerlink" title="UDP æœ‰æ‹¥å¡æ§åˆ¶å—ï¼Ÿ"></a>UDP æœ‰æ‹¥å¡æ§åˆ¶å—ï¼Ÿ</h1><ol>
<li><strong>UDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶</strong>ï¼Œç½‘ç»œå‡ºç°æ‹¥å¡ä¸ä¼šä½¿æºä¸»æœºçš„å‘é€é€Ÿç‡é™ä½ã€‚è¿™å¯¹æŸäº›å®æ—¶åº”ç”¨æ˜¯å¾ˆé‡è¦çš„ã€‚</li>
<li>UDP æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šå’Œå¤šå¯¹çš„çš„äº¤äº’é€šä¿¡ã€‚</li>
<li>UDP çš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ï¼Œæ¯”TCPçš„20ä¸ªå­—èŠ‚çš„é¦–éƒ¨è¦çŸ­ã€‚</li>
</ol>
<h1 id="TCP-ä¸-UDP-çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚"><a href="#TCP-ä¸-UDP-çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚" class="headerlink" title="TCP ä¸ UDP çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚"></a>TCP ä¸ UDP çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚</h1><h1 id="UDP-æ¦‚è¿°"><a href="#UDP-æ¦‚è¿°" class="headerlink" title="UDP æ¦‚è¿°"></a>UDP æ¦‚è¿°</h1><p>UDPç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯é¢å‘æ— è¿æ¥çš„é€šè®¯åè®®ï¼ŒUDPæ•°æ®åŒ…æ‹¬ç›®çš„ç«¯å£å·å’Œæºç«¯å£å·ä¿¡æ¯ï¼Œç”±äºé€šè®¯ä¸éœ€è¦è¿æ¥ï¼Œæ‰€ä»¥å¯ä»¥å®ç°å¹¿æ’­å‘é€ã€‚<br>ç”¨æˆ·æ•°æ®æŠ¥åè®® UDP åªåœ¨ IP çš„æ•°æ®æŠ¥æœåŠ¡ä¹‹ä¸Šå¢åŠ äº†å¾ˆå°‘ä¸€ç‚¹çš„åŠŸèƒ½ï¼Œè¿™å°±æ˜¯å¤ç”¨å’Œåˆ†ç”¨çš„åŠŸèƒ½ä»¥åŠæŸ¥é”™æ£€æµ‹çš„åŠŸèƒ½ã€‚</p>
<h1 id="UDP-çš„ä¸»è¦ç‰¹ç‚¹"><a href="#UDP-çš„ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="UDP çš„ä¸»è¦ç‰¹ç‚¹"></a>UDP çš„ä¸»è¦ç‰¹ç‚¹</h1><ol>
<li>UDP æ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥(å‘é€æ•°æ®ç»“æŸæ—¶ä¹Ÿæ²¡æœ‰è¿æ¥å¯é‡Šæ”¾)ï¼Œå‡å°‘äº†å¼€é”€å’Œå‘é€æ•°æ®ä¹‹å‰çš„æ—¶å»¶</li>
<li>UDP ä½¿ç”¨å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ï¼Œä¸»æœºä¸éœ€è¦ç»´æŒå¤æ‚çš„è¿æ¥çŠ¶æ€è¡¨</li>
<li>UDP æ˜¯é¢å‘æŠ¥æ–‡çš„ï¼Œå‘é€æ–¹çš„ UDP å¯¹åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œåœ¨æ·»åŠ é¦–éƒ¨åå°±å‘ä¸‹äº¤ä»˜ IP å±‚ã€‚UDP å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œ</li>
</ol>
<h1 id="å­˜åœ¨é—®é¢˜"><a href="#å­˜åœ¨é—®é¢˜" class="headerlink" title="å­˜åœ¨é—®é¢˜"></a>å­˜åœ¨é—®é¢˜</h1><ol>
<li>æŸäº›å®æ—¶åº”ç”¨éœ€è¦ä½¿ç”¨æ²¡æœ‰æ‹¥å¡æ§åˆ¶çš„ UDPï¼Œä½†å¾ˆå¤šçš„æºä¸»æœºåŒæ—¶éƒ½å‘ç½‘ç»œå‘é€é«˜é€Ÿç‡çš„å®æ—¶è§†é¢‘æµæ—¶ï¼Œç½‘ç»œå°±æœ‰å¯èƒ½å‘ç”Ÿæ‹¥å¡ï¼Œå¯¼è‡´å¤§å®¶éƒ½æ— æ³•æ­£å¸¸æ¥æ”¶ã€‚</li>
<li>è¿˜æœ‰ä¸€äº›ä½¿ç”¨ UDP çš„å®æ—¶åº”ç”¨ï¼Œéœ€è¦å¯¹ UDP çš„ä¸å¯é ä¼ è¾“è¿›è¡Œé€‚å½“çš„æ”¹è¿›ï¼Œä»¥å‡å°‘æ•°æ®çš„ä¸¢å¤±ã€‚åº”ç”¨è¿›ç¨‹å¯ä»¥åœ¨ä¸å½±å“åº”ç”¨çš„å®æ—¶æ€§çš„å‰æä¸‹ï¼Œå¢åŠ ä¸€äº›æé«˜å¯é æ€§çš„æªæ–½ï¼Œå¦‚é‡‡ç”¨å‰å‘çº é”™æˆ–é‡ä¼ å·²ä¸¢å¤±çš„æŠ¥æ–‡</li>
</ol>
<blockquote>
<p><a class="link"   href="https://developer.aliyun.com/article/699136" >https://developer.aliyun.com/article/699136<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="https://www.runoob.com/w3cnote/summary-of-network.html#_label7" >https://www.runoob.com/w3cnote/summary-of-network.html#_label7<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>UDP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿°å¸¸è§çš„ HTTP çŠ¶æ€ç çš„å«ä¹‰ï¼ˆ301ï¼Œ304ï¼Œ401ï¼Œ403ï¼‰</title>
    <url>/2021/02/10/1000-007%E7%AE%80%E8%BF%B0%E5%B8%B8%E8%A7%81%E7%9A%84%20HTTP%20%E7%8A%B6%E6%80%81%E7%A0%81%E7%9A%84%E5%90%AB%E4%B9%89%EF%BC%88301%EF%BC%8C304%EF%BC%8C401%EF%BC%8C403%EF%BC%89/</url>
    <content><![CDATA[<h1 id="3-é‡å®šå‘"><a href="#3-é‡å®šå‘" class="headerlink" title="3** é‡å®šå‘"></a>3** é‡å®šå‘</h1><p><strong>300 Multiple Choice</strong><br>è¢«è¯·æ±‚çš„èµ„æºæœ‰ä¸€ç³»åˆ—å¯ä¾›é€‰æ‹©çš„å›é¦ˆä¿¡æ¯ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±ç‰¹å®šçš„åœ°å€å’Œæµè§ˆå™¨é©±åŠ¨çš„å•†è®®ä¿¡æ¯ã€‚ç”¨æˆ·æˆ–æµè§ˆå™¨èƒ½å¤Ÿè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªé¦–é€‰çš„åœ°å€è¿›è¡Œé‡å®šå‘ã€‚</p>
<p><strong>301 Moved Permanently</strong><br>è¢«è¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œå¹¶ä¸”å°†æ¥ä»»ä½•å¯¹æ­¤èµ„æºçš„å¼•ç”¨éƒ½åº”è¯¥ä½¿ç”¨æœ¬å“åº”è¿”å›çš„è‹¥å¹²ä¸ª URI ä¹‹ä¸€ã€‚å¦‚æœå¯èƒ½ï¼Œæ‹¥æœ‰é“¾æ¥ç¼–è¾‘åŠŸèƒ½çš„å®¢æˆ·ç«¯åº”å½“è‡ªåŠ¨æŠŠè¯·æ±‚çš„åœ°å€ä¿®æ”¹ä¸ºä»æœåŠ¡å™¨åé¦ˆå›æ¥çš„åœ°å€ã€‚é™¤éé¢å¤–æŒ‡å®šï¼Œå¦åˆ™è¿™ä¸ªå“åº”ä¹Ÿæ˜¯å¯ç¼“å­˜çš„ã€‚</p>
<p><strong>304 Not Modified</strong><br>å¦‚æœå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„ GET è¯·æ±‚ä¸”è¯¥è¯·æ±‚å·²è¢«å…è®¸ï¼Œè€Œæ–‡æ¡£çš„å†…å®¹ï¼ˆè‡ªä¸Šæ¬¡è®¿é—®ä»¥æ¥æˆ–è€…æ ¹æ®è¯·æ±‚çš„æ¡ä»¶ï¼‰å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåˆ™æœåŠ¡å™¨åº”å½“è¿”å›è¿™ä¸ªçŠ¶æ€ç ã€‚304 å“åº”ç¦æ­¢åŒ…å«æ¶ˆæ¯ä½“ï¼Œå› æ­¤å§‹ç»ˆä»¥æ¶ˆæ¯å¤´åçš„ç¬¬ä¸€ä¸ªç©ºè¡Œç»“å°¾ã€‚</p>
<p><strong>302 Found</strong><br>è¯·æ±‚çš„èµ„æºç°åœ¨ä¸´æ—¶ä»ä¸åŒçš„ URI å“åº”è¯·æ±‚ã€‚ç”±äºè¿™æ ·çš„é‡å®šå‘æ˜¯ä¸´æ—¶çš„ï¼Œå®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘åŸæœ‰åœ°å€å‘é€ä»¥åçš„è¯·æ±‚ã€‚åªæœ‰åœ¨Cache-Controlæˆ–Expiresä¸­è¿›è¡Œäº†æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå“åº”æ‰æ˜¯å¯ç¼“å­˜çš„ã€‚</p>
<p><strong>303 See Other</strong><br>å¯¹åº”å½“å‰è¯·æ±‚çš„å“åº”å¯ä»¥åœ¨å¦ä¸€ä¸ª URI ä¸Šè¢«æ‰¾åˆ°ï¼Œè€Œä¸”å®¢æˆ·ç«¯åº”å½“é‡‡ç”¨ GET çš„æ–¹å¼è®¿é—®é‚£ä¸ªèµ„æºã€‚è¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†å…è®¸ç”±è„šæœ¬æ¿€æ´»çš„POSTè¯·æ±‚è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„èµ„æºã€‚</p>
<h1 id="4-å®¢æˆ·ç«¯å“åº”"><a href="#4-å®¢æˆ·ç«¯å“åº”" class="headerlink" title="4** å®¢æˆ·ç«¯å“åº”"></a>4** å®¢æˆ·ç«¯å“åº”</h1><p><strong>400 Bad Request</strong><br>1ã€è¯­ä¹‰æœ‰è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ã€‚é™¤éè¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¸åº”è¯¥é‡å¤æäº¤è¿™ä¸ªè¯·æ±‚ã€‚<br>2ã€è¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚</p>
<p><strong>401 Unauthorized</strong><br>å½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ã€‚è¯¥å“åº”å¿…é¡»åŒ…å«ä¸€ä¸ªé€‚ç”¨äºè¢«è¯·æ±‚èµ„æºçš„ WWW-Authenticate ä¿¡æ¯å¤´ç”¨ä»¥è¯¢é—®ç”¨æˆ·ä¿¡æ¯ã€‚å®¢æˆ·ç«¯å¯ä»¥é‡å¤æäº¤ä¸€ä¸ªåŒ…å«æ°å½“çš„ Authorization å¤´ä¿¡æ¯çš„è¯·æ±‚ã€‚å¦‚æœå½“å‰è¯·æ±‚å·²ç»åŒ…å«äº† Authorization è¯ä¹¦ï¼Œé‚£ä¹ˆ401å“åº”ä»£è¡¨ç€æœåŠ¡å™¨éªŒè¯å·²ç»æ‹’ç»äº†é‚£äº›è¯ä¹¦ã€‚å¦‚æœ401å“åº”åŒ…å«äº†ä¸å‰ä¸€ä¸ªå“åº”ç›¸åŒçš„èº«ä»½éªŒè¯è¯¢é—®ï¼Œä¸”æµè§ˆå™¨å·²ç»è‡³å°‘å°è¯•äº†ä¸€æ¬¡éªŒè¯ï¼Œé‚£ä¹ˆæµè§ˆå™¨åº”å½“å‘ç”¨æˆ·å±•ç¤ºå“åº”ä¸­åŒ…å«çš„å®ä½“ä¿¡æ¯ï¼Œå› ä¸ºè¿™ä¸ªå®ä½“ä¿¡æ¯ä¸­å¯èƒ½åŒ…å«äº†ç›¸å…³è¯Šæ–­ä¿¡æ¯ã€‚</p>
<p><strong>403 Forbidden</strong><br>æœåŠ¡å™¨å·²ç»ç†è§£è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œå®ƒã€‚ä¸ 401 å“åº”ä¸åŒçš„æ˜¯ï¼Œèº«ä»½éªŒè¯å¹¶ä¸èƒ½æä¾›ä»»ä½•å¸®åŠ©ï¼Œè€Œä¸”è¿™ä¸ªè¯·æ±‚ä¹Ÿä¸åº”è¯¥è¢«é‡å¤æäº¤ã€‚å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ª HEAD è¯·æ±‚ï¼Œè€Œä¸”æœåŠ¡å™¨å¸Œæœ›èƒ½å¤Ÿè®²æ¸…æ¥šä¸ºä½•è¯·æ±‚ä¸èƒ½è¢«æ‰§è¡Œï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨å®ä½“å†…æè¿°æ‹’ç»çš„åŸå› ã€‚å½“ç„¶æœåŠ¡å™¨ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª 404 å“åº”ï¼Œå‡å¦‚å®ƒä¸å¸Œæœ›è®©å®¢æˆ·ç«¯è·å¾—ä»»ä½•ä¿¡æ¯ã€‚</p>
<p><strong>404 Not Found</strong><br>è¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘ç°ã€‚æ²¡æœ‰ä¿¡æ¯èƒ½å¤Ÿå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªçŠ¶å†µåˆ°åº•æ˜¯æš‚æ—¶çš„è¿˜æ˜¯æ°¸ä¹…çš„ã€‚å‡å¦‚æœåŠ¡å™¨çŸ¥é“æƒ…å†µçš„è¯ï¼Œåº”å½“ä½¿ç”¨410çŠ¶æ€ç æ¥å‘ŠçŸ¥æ—§èµ„æºå› ä¸ºæŸäº›å†…éƒ¨çš„é…ç½®æœºåˆ¶é—®é¢˜ï¼Œå·²ç»æ°¸ä¹…çš„ä¸å¯ç”¨ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•å¯ä»¥è·³è½¬çš„åœ°å€ã€‚404è¿™ä¸ªçŠ¶æ€ç è¢«å¹¿æ³›åº”ç”¨äºå½“æœåŠ¡å™¨ä¸æƒ³æ­ç¤ºåˆ°åº•ä¸ºä½•è¯·æ±‚è¢«æ‹’ç»æˆ–è€…æ²¡æœ‰å…¶ä»–é€‚åˆçš„å“åº”å¯ç”¨çš„æƒ…å†µä¸‹ã€‚</p>
<p><strong>405 Method Not Allowed</strong><br>è¯·æ±‚è¡Œä¸­æŒ‡å®šçš„è¯·æ±‚æ–¹æ³•ä¸èƒ½è¢«ç”¨äºè¯·æ±‚ç›¸åº”çš„èµ„æºã€‚è¯¥å“åº”å¿…é¡»è¿”å›ä¸€ä¸ªAllow å¤´ä¿¡æ¯ç”¨ä»¥è¡¨ç¤ºå‡ºå½“å‰èµ„æºèƒ½å¤Ÿæ¥å—çš„è¯·æ±‚æ–¹æ³•çš„åˆ—è¡¨ã€‚ é‰´äº PUTï¼ŒDELETE æ–¹æ³•ä¼šå¯¹æœåŠ¡å™¨ä¸Šçš„èµ„æºè¿›è¡Œå†™æ“ä½œï¼Œå› è€Œç»å¤§éƒ¨åˆ†çš„ç½‘é¡µæœåŠ¡å™¨éƒ½ä¸æ”¯æŒæˆ–è€…åœ¨é»˜è®¤é…ç½®ä¸‹ä¸å…è®¸ä¸Šè¿°è¯·æ±‚æ–¹æ³•ï¼Œå¯¹äºæ­¤ç±»è¯·æ±‚å‡ä¼šè¿”å›405é”™è¯¯ã€‚</p>
<h1 id="5-æœåŠ¡ç«¯å“åº”"><a href="#5-æœåŠ¡ç«¯å“åº”" class="headerlink" title="5** æœåŠ¡ç«¯å“åº”"></a>5** æœåŠ¡ç«¯å“åº”</h1><p><strong>500 Internal Server Error</strong><br>æœåŠ¡å™¨é‡åˆ°äº†ä¸çŸ¥é“å¦‚ä½•å¤„ç†çš„æƒ…å†µã€‚</p>
<p><strong>501 Not Implemented</strong><br>æ­¤è¯·æ±‚æ–¹æ³•ä¸è¢«æœåŠ¡å™¨æ”¯æŒä¸”æ— æ³•è¢«å¤„ç†ã€‚åªæœ‰GETå’ŒHEADæ˜¯è¦æ±‚æœåŠ¡å™¨æ”¯æŒçš„ï¼Œå®ƒä»¬å¿…å®šä¸ä¼šè¿”å›æ­¤é”™è¯¯ä»£ç ã€‚</p>
<p><strong>502 Bad Gateway</strong><br>æ­¤é”™è¯¯å“åº”è¡¨æ˜æœåŠ¡å™¨ä½œä¸ºç½‘å…³éœ€è¦å¾—åˆ°ä¸€ä¸ªå¤„ç†è¿™ä¸ªè¯·æ±‚çš„å“åº”ï¼Œä½†æ˜¯å¾—åˆ°ä¸€ä¸ªé”™è¯¯çš„å“åº”ã€‚</p>
<p><strong>503 Service Unavailable</strong><br>æœåŠ¡å™¨æ²¡æœ‰å‡†å¤‡å¥½å¤„ç†è¯·æ±‚ã€‚ å¸¸è§åŸå› æ˜¯æœåŠ¡å™¨å› ç»´æŠ¤æˆ–é‡è½½è€Œåœæœºã€‚ è¯·æ³¨æ„ï¼Œä¸æ­¤å“åº”ä¸€èµ·ï¼Œåº”å‘é€è§£é‡Šé—®é¢˜çš„ç”¨æˆ·å‹å¥½é¡µé¢ã€‚ è¿™ä¸ªå“åº”åº”è¯¥ç”¨äºä¸´æ—¶æ¡ä»¶å’Œ Retry-Afterï¼šå¦‚æœå¯èƒ½çš„è¯ï¼ŒHTTPå¤´åº”è¯¥åŒ…å«æ¢å¤æœåŠ¡ä¹‹å‰çš„ä¼°è®¡æ—¶é—´ã€‚ ç½‘ç«™ç®¡ç†å‘˜è¿˜å¿…é¡»æ³¨æ„ä¸æ­¤å“åº”ä¸€èµ·å‘é€çš„ä¸ç¼“å­˜ç›¸å…³çš„æ ‡å¤´ï¼Œå› ä¸ºè¿™äº›ä¸´æ—¶æ¡ä»¶å“åº”é€šå¸¸ä¸åº”è¢«ç¼“å­˜ã€‚</p>
<h1 id="2-æˆåŠŸå“åº”"><a href="#2-æˆåŠŸå“åº”" class="headerlink" title="2** æˆåŠŸå“åº”"></a>2** æˆåŠŸå“åº”</h1><p><strong>200 OK</strong><br>è¯·æ±‚æˆåŠŸã€‚æˆåŠŸçš„å«ä¹‰å–å†³äº HTTP æ–¹æ³•ï¼š<br>GETï¼šèµ„æºå·²è¢«æå–å¹¶åœ¨æ¶ˆæ¯æ­£æ–‡ä¸­ä¼ è¾“ã€‚<br>HEADï¼šå®ä½“æ ‡å¤´ä½äºæ¶ˆæ¯æ­£æ–‡ä¸­ã€‚<br>POSTï¼šæè¿°åŠ¨ä½œç»“æœçš„èµ„æºåœ¨æ¶ˆæ¯ä½“ä¸­ä¼ è¾“ã€‚<br>TRACEï¼šæ¶ˆæ¯æ­£æ–‡åŒ…å«æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚æ¶ˆæ¯</p>
<p><strong>201 Created</strong><br>è¯¥è¯·æ±‚å·²æˆåŠŸï¼Œå¹¶å› æ­¤åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„èµ„æºã€‚è¿™é€šå¸¸æ˜¯åœ¨ POST è¯·æ±‚ï¼Œæˆ–æ˜¯æŸäº› PUT è¯·æ±‚ä¹‹åè¿”å›çš„å“åº”ã€‚</p>
<p><strong>202 Accepted</strong><br>è¯·æ±‚å·²ç»æ¥æ”¶åˆ°ï¼Œä½†è¿˜æœªå“åº”ï¼Œæ²¡æœ‰ç»“æœã€‚æ„å‘³ç€ä¸ä¼šæœ‰ä¸€ä¸ªå¼‚æ­¥çš„å“åº”å»è¡¨æ˜å½“å‰è¯·æ±‚çš„ç»“æœï¼Œé¢„æœŸå¦å¤–çš„è¿›ç¨‹å’ŒæœåŠ¡å»å¤„ç†è¯·æ±‚ï¼Œæˆ–è€…æ‰¹å¤„ç†ã€‚</p>
<p><strong>203 Non-Authoritative Information</strong><br>æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„å®ä½“å¤´éƒ¨å…ƒä¿¡æ¯ä¸æ˜¯åœ¨åŸå§‹æœåŠ¡å™¨ä¸Šæœ‰æ•ˆçš„ç¡®å®šé›†åˆï¼Œè€Œæ˜¯æ¥è‡ªæœ¬åœ°æˆ–è€…ç¬¬ä¸‰æ–¹çš„æ‹·è´ã€‚å½“å‰çš„ä¿¡æ¯å¯èƒ½æ˜¯åŸå§‹ç‰ˆæœ¬çš„å­é›†æˆ–è€…è¶…é›†ã€‚ä¾‹å¦‚ï¼ŒåŒ…å«èµ„æºçš„å…ƒæ•°æ®å¯èƒ½å¯¼è‡´åŸå§‹æœåŠ¡å™¨çŸ¥é“å…ƒä¿¡æ¯çš„è¶…é›†ã€‚ä½¿ç”¨æ­¤çŠ¶æ€ç ä¸æ˜¯å¿…é¡»çš„ï¼Œè€Œä¸”åªæœ‰åœ¨å“åº”ä¸ä½¿ç”¨æ­¤çŠ¶æ€ç ä¾¿ä¼šè¿”å› 200 OK çš„æƒ…å†µä¸‹æ‰æ˜¯åˆé€‚çš„ã€‚</p>
<h1 id="1-ä¿¡æ¯å“åº”"><a href="#1-ä¿¡æ¯å“åº”" class="headerlink" title="1** ä¿¡æ¯å“åº”"></a>1** ä¿¡æ¯å“åº”</h1><p><strong>100 Continue</strong><br>è¿™ä¸ªä¸´æ—¶å“åº”è¡¨æ˜ï¼Œè¿„ä»Šä¸ºæ­¢çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å¯è¡Œçš„ï¼Œå®¢æˆ·ç«¯åº”è¯¥ç»§ç»­è¯·æ±‚ï¼Œå¦‚æœå·²ç»å®Œæˆï¼Œåˆ™å¿½ç•¥å®ƒã€‚</p>
<p><strong>101 Switching Protocol</strong><br>è¯¥ä»£ç æ˜¯å“åº”å®¢æˆ·ç«¯çš„ Upgrade æ ‡å¤´å‘é€çš„ï¼Œå¹¶ä¸”æŒ‡ç¤ºæœåŠ¡å™¨ä¹Ÿæ­£åœ¨åˆ‡æ¢çš„åè®®ã€‚<br><strong>102 Processing (WebDAV)</strong><br>æ­¤ä»£ç è¡¨ç¤ºæœåŠ¡å™¨å·²æ”¶åˆ°å¹¶æ­£åœ¨å¤„ç†è¯¥è¯·æ±‚ï¼Œä½†æ²¡æœ‰å“åº”å¯ç”¨ã€‚<br><strong>103 Early Hints</strong><br>æ­¤çŠ¶æ€ä»£ç ä¸»è¦ç”¨äºä¸ Link é“¾æ¥å¤´ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ç”¨æˆ·ä»£ç†åœ¨æœåŠ¡å™¨ä»åœ¨å‡†å¤‡å“åº”æ—¶å¼€å§‹é¢„åŠ è½½èµ„æºã€‚ </p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status" >https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
        <tag>çŠ¶æ€ç </tag>
      </tags>
  </entry>
  <entry>
    <title>DNS æŸ¥è¯¢æœåŠ¡å™¨çš„åŸºæœ¬æµç¨‹æ˜¯ä»€ä¹ˆï¼ŸDNS åŠ«æŒæ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <url>/2021/02/12/1000-009DNS%20%E6%9F%A5%E8%AF%A2%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9FDNS%20%E5%8A%AB%E6%8C%81%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="DNS-æŸ¥è¯¢æœåŠ¡å™¨çš„åŸºæœ¬æµç¨‹"><a href="#DNS-æŸ¥è¯¢æœåŠ¡å™¨çš„åŸºæœ¬æµç¨‹" class="headerlink" title="DNS æŸ¥è¯¢æœåŠ¡å™¨çš„åŸºæœ¬æµç¨‹"></a>DNS æŸ¥è¯¢æœåŠ¡å™¨çš„åŸºæœ¬æµç¨‹</h1><p><strong>æŸ¥è¯¢é¡ºåºï¼š</strong>æµè§ˆå™¨ç¼“å­˜â€“&gt; æ“ä½œç³»ç»Ÿç¼“å­˜â€“&gt; æœ¬åœ° host æ–‡ä»¶ â€“&gt; è·¯ç”±å™¨ç¼“å­˜â€“&gt; ISP DNS ç¼“å­˜ â€“&gt; é¡¶çº§ DNS æœåŠ¡å™¨/æ ¹ DNS æœåŠ¡å™¨</p>
<p><strong>1. æµè§ˆå™¨ç¼“å­˜ï¼š</strong> é¦–å…ˆä¼šå‘æµè§ˆå™¨çš„ç¼“å­˜ä¸­è¯»å–ä¸Šä¸€æ¬¡è®¿é—®çš„è®°å½•ï¼Œåœ¨ chrome å¯ä»¥é€šè¿‡åœ°å€æ ä¸­è¾“å…¥ chrome://net-internals/#dns æŸ¥çœ‹ç¼“å­˜çš„å½“å‰çŠ¶æ€ ã€‚</p>
<p><strong>2. æ“ä½œç³»ç»Ÿç¼“å­˜ï¼š</strong> æŸ¥æ‰¾å­˜å‚¨åœ¨ç³»ç»Ÿè¿è¡Œå†…å­˜ä¸­çš„ç¼“å­˜ã€‚åœ¨ mac ä¸­å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¸…é™¤ç³»ç»Ÿä¸­çš„ DNS ç¼“å­˜ã€‚<br><code>dscacheutil -flushcache</code></p>
<p><strong>3. æœ¬åœ° host æ–‡ä»¶ï¼š</strong> æŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜çš„ hosts æ–‡ä»¶ï¼Œçœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œå¦‚æœæœ‰çš„è¯å°±ç›´æ¥ä½¿ç”¨ hosts æ–‡ä»¶é‡Œé¢çš„ ip åœ°å€ã€‚</p>
<p><strong>4. è·¯ç”±å™¨ç¼“å­˜ï¼š</strong> æœ‰äº›è·¯ç”±å™¨ä¹Ÿæœ‰ DNS ç¼“å­˜çš„åŠŸèƒ½ï¼Œè®¿é—®è¿‡çš„åŸŸåä¼šå­˜åœ¨è·¯ç”±å™¨ä¸Šã€‚</p>
<p><strong>5. ISP DNS ç¼“å­˜ï¼š</strong> äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆå¦‚ä¸­å›½ç”µä¿¡ï¼‰ä¹Ÿä¼šæä¾› DNS æœåŠ¡ï¼Œæ¯”å¦‚æ¯”è¾ƒè‘—åçš„ 114.114.114.114ï¼Œåœ¨æœ¬åœ°æŸ¥æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‘ ISP è¿›è¡ŒæŸ¥è¯¢ï¼ŒISP ä¼šåœ¨å½“å‰æœåŠ¡å™¨çš„ç¼“å­˜å†…æŸ¥æ‰¾æ˜¯å¦æœ‰è®°å½•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è¿”å›è¿™ä¸ª IPï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ä¼šå¼€å§‹å‘æ ¹åŸŸåæœåŠ¡å™¨è¯·æ±‚æŸ¥è¯¢ã€‚</p>
<p><strong>6. é¡¶çº§ DNS æœåŠ¡å™¨ / æ ¹ DNS æœåŠ¡å™¨ï¼š</strong> æ ¹åŸŸåæ”¶åˆ°è¯·æ±‚åï¼Œä¼šåˆ¤åˆ«è¿™ä¸ªåŸŸå(.com)æ˜¯æˆæƒç»™å“ªå°æœåŠ¡å™¨ç®¡ç†,å¹¶è¿”å›è¿™ä¸ªé¡¶çº§ DNS æœåŠ¡å™¨çš„ IPã€‚è¯·æ±‚è€…æ”¶åˆ°è¿™å°é¡¶çº§ DNS çš„æœåŠ¡å™¨ IP åï¼Œä¼šå‘è¯¥æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢ï¼Œå¦‚æœè¯¥æœåŠ¡å™¨æ— æ³•è§£æï¼Œè¯¥æœåŠ¡å™¨å°±ä¼šè¿”å›ä¸‹ä¸€çº§çš„ DNS æœåŠ¡å™¨ IPï¼ˆbaidu.comï¼‰ï¼Œæœ¬æœºç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æœåŠ¡å™¨æ‰¾åˆ°(<a class="link"   href="http://www.baidu.com)çš„ä¸»æœº./" >www.baidu.com)çš„ä¸»æœºã€‚<i class="fas fa-external-link-alt"></i></a><br>æœ€åï¼Œæœ¬åœ° DNS æœåŠ¡å™¨å‘åŸŸåçš„è§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶å°±èƒ½æ”¶åˆ°ä¸€ä¸ªåŸŸåå’Œ IP åœ°å€å¯¹åº”å…³ç³»ï¼Œæœ¬åœ° DNS æœåŠ¡å™¨ä¸ä»…è¦æŠŠ IP åœ°å€è¿”å›ç»™ç”¨æˆ·ç”µè„‘ï¼Œè¿˜è¦æŠŠè¿™ä¸ªå¯¹åº”å…³ç³»ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œä»¥å¤‡ä¸‹æ¬¡åˆ«çš„ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/t5awpd.png"
                      alt="è¿‡ç¨‹å›¾"
                ></p>
<p>ä¸Šè¿°å›¾ç‰‡æ˜¯æŸ¥æ‰¾ <a class="link"   href="http://www.google.com/" >www.google.com<i class="fas fa-external-link-alt"></i></a> çš„ IP åœ°å€è¿‡ç¨‹ã€‚é¦–å…ˆåœ¨æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸­æŸ¥è¯¢ IP åœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µä¸‹ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœæ ¹åŸŸåæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯¥åŸŸåæ—¶ï¼Œæœ¬åœ°åŸŸåä¼šå‘ com é¡¶çº§åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä¾æ¬¡ç±»æ¨ä¸‹å»ã€‚ç›´åˆ°æœ€åæœ¬åœ°åŸŸåæœåŠ¡å™¨å¾—åˆ° google çš„ IP åœ°å€å¹¶æŠŠå®ƒç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¾›ä¸‹æ¬¡æŸ¥è¯¢ä½¿ç”¨ã€‚ä»ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹å‡ºç½‘å€çš„è§£ææ˜¯ä¸€ä¸ªä»å³å‘å·¦çš„è¿‡ç¨‹: com -&gt; google.com -&gt; <a href="http://www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯">www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯</a> <a class="link"   href="http://www.google.com.,å¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.,è¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨,é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.,æ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹,ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·,é€šå¸¸éƒ½ä¼šçœç•¥,æµè§ˆå™¨åœ¨è¯·æ±‚/" >www.google.com.ï¼Œå¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.ï¼Œè¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œé€šå¸¸éƒ½ä¼šçœç•¥ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚<i class="fas fa-external-link-alt"></i></a> DNS çš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šï¼Œæ‰€æœ‰ç½‘å€çœŸæ­£çš„è§£æè¿‡ç¨‹ä¸º: . -&gt; .com -&gt; google.com. -&gt; <a class="link"   href="http://www.google.com../" >www.google.com.ã€‚<i class="fas fa-external-link-alt"></i></a></p>
<h1 id="ä»€ä¹ˆæ˜¯-DNS-åŠ«æŒï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-DNS-åŠ«æŒï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ DNS åŠ«æŒï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ DNS åŠ«æŒï¼Ÿ</h1><p>åœ¨ DNS çš„è§£æä¸­è¿”å›äº†ä¸€ä¸ªå‡çš„ IP åœ°å€ç»™å®¢æˆ·ç«¯ï¼Œä»è€Œä¿ƒä½¿ç”¨æˆ·è®¿é—®äº†é”™è¯¯çš„ç½‘ç«™ã€‚</p>
<h1 id="DNS-åŠ«æŒçš„æ–¹æ³•"><a href="#DNS-åŠ«æŒçš„æ–¹æ³•" class="headerlink" title="DNS åŠ«æŒçš„æ–¹æ³•"></a>DNS åŠ«æŒçš„æ–¹æ³•</h1><p><strong>1. æœ¬æœº DNS åŠ«æŒ</strong><br>æ”»å‡»è€…é€šè¿‡æŸäº›æ‰‹æ®µä½¿ç”¨æˆ·çš„è®¡ç®—æœºæ„ŸæŸ“ä¸Šæœ¨é©¬ç—…æ¯’ï¼Œæˆ–è€…æ¶æ„è½¯ä»¶ä¹‹åï¼Œæ¶æ„ä¿®æ”¹æœ¬åœ° DNS é…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹æœ¬åœ° hosts æ–‡ä»¶ï¼Œç¼“å­˜ç­‰<br><strong>2. è·¯ç”± DNS åŠ«æŒ</strong><br>å¾ˆå¤šç”¨æˆ·é»˜è®¤è·¯ç”±å™¨çš„é»˜è®¤å¯†ç ï¼Œæ”»å‡»è€…å¯ä»¥ä¾µå…¥åˆ°è·¯ç”±ç®¡ç†å‘˜è´¦å·ä¸­ï¼Œä¿®æ”¹è·¯ç”±å™¨çš„é»˜è®¤é…ç½®<br><strong>3.æ”»å‡» DNS æœåŠ¡å™¨</strong><br>ç›´æ¥æ”»å‡» DNS æœåŠ¡å™¨ï¼Œä¾‹å¦‚å¯¹ DNS æœåŠ¡å™¨è¿›è¡Œ DDOS æ”»å‡»ï¼Œå¯ä»¥æ˜¯ DNS æœåŠ¡å™¨å®•æœºï¼Œå‡ºç°å¼‚å¸¸è¯·æ±‚ï¼Œè¿˜å¯ä»¥åˆ©ç”¨æŸäº›æ‰‹æ®µæ„ŸæŸ“ dns æœåŠ¡å™¨çš„ç¼“å­˜ï¼Œä½¿ç»™ç”¨æˆ·è¿”å›æ¥çš„æ˜¯æ¶æ„çš„ ip åœ°å€</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>DNS</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° OSI ä¸ƒå±‚æ¨¡å‹ï¼ŒTCPï¼ŒIP å±äºå“ªä¸€å±‚ï¼Ÿ</title>
    <url>/2021/02/13/1000-010%E7%AE%80%E8%BF%B0%20OSI%20%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B%EF%BC%8CTCP%EF%BC%8CIP%20%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%80%E5%B1%82%EF%BC%9F/</url>
    <content><![CDATA[<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://img.rruu.net/image/6027a373e47f9"
                     
                ></p>
<h1 id="TCP-IP-å››å±‚æ¨¡å‹"><a href="#TCP-IP-å››å±‚æ¨¡å‹" class="headerlink" title="TCP/IP å››å±‚æ¨¡å‹"></a>TCP/IP å››å±‚æ¨¡å‹</h1><p>1.åº”ç”¨å±‚ 2.ä¼ è¾“å±‚ 3.ç½‘ç»œå±‚ 4.ç½‘ç»œæ¥å£å±‚</p>
<h1 id="TCP-IP-äº”å±‚æ¨¡å‹"><a href="#TCP-IP-äº”å±‚æ¨¡å‹" class="headerlink" title="TCP/IP äº”å±‚æ¨¡å‹"></a>TCP/IP äº”å±‚æ¨¡å‹</h1><p>1.åº”ç”¨å±‚ 2.ä¼ è¾“å±‚ 3.ç½‘ç»œå±‚ 4.æ•°æ®é“¾è·¯å±‚ 5.ç‰©ç†å±‚</p>
<h1 id="OSI-ä¸ƒå±‚æ¨¡å‹"><a href="#OSI-ä¸ƒå±‚æ¨¡å‹" class="headerlink" title="OSI ä¸ƒå±‚æ¨¡å‹"></a>OSI ä¸ƒå±‚æ¨¡å‹</h1><p>1.ç‰©ç†å±‚ 2.æ•°æ®é“¾è·¯å±‚ 3.ç½‘ç»œå±‚ 4.ä¼ è¾“å±‚ 5.ä¼šè¯å±‚ 6.è¡¨ç¤ºå±‚ 7.åº”ç”¨å±‚</p>
<h1 id="IP-åè®®å±äºç½‘ç»œå±‚"><a href="#IP-åè®®å±äºç½‘ç»œå±‚" class="headerlink" title="IP åè®®å±äºç½‘ç»œå±‚"></a>IP åè®®å±äºç½‘ç»œå±‚</h1><h1 id="TCP-åè®®å±äºä¼ è¾“å±‚"><a href="#TCP-åè®®å±äºä¼ è¾“å±‚" class="headerlink" title="TCP åè®®å±äºä¼ è¾“å±‚"></a>TCP åè®®å±äºä¼ è¾“å±‚</h1><h2 id="1-ç‰©ç†å±‚"><a href="#1-ç‰©ç†å±‚" class="headerlink" title="1.ç‰©ç†å±‚"></a>1.ç‰©ç†å±‚</h2><p>æ¿€æ´»ã€ç»´æŒã€å…³é—­é€šä¿¡ç«¯ç‚¹ä¹‹é—´çš„æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ä»¥åŠè¿‡ç¨‹ç‰¹æ€§ã€‚è¯¥å±‚ä¸ºä¸Šå±‚åè®®æä¾›äº†ä¸€ä¸ªä¼ è¾“æ•°æ®çš„å¯é çš„ç‰©ç†åª’ä½“ã€‚ç®€å•çš„è¯´ï¼Œç‰©ç†å±‚ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ã€‚ç‰©ç†å±‚è®°ä½ä¸¤ä¸ªé‡è¦çš„è®¾å¤‡åç§°ï¼Œä¸­ç»§å™¨ï¼ˆRepeaterï¼Œä¹Ÿå«æ”¾å¤§å™¨ï¼‰å’Œé›†çº¿å™¨ã€‚</p>
<h2 id="2-æ•°æ®é“¾è·¯å±‚"><a href="#2-æ•°æ®é“¾è·¯å±‚" class="headerlink" title="2.æ•°æ®é“¾è·¯å±‚"></a>2.æ•°æ®é“¾è·¯å±‚</h2><p>æœ€åŸºæœ¬çš„æœåŠ¡æ˜¯å°†æºè‡ªç½‘ç»œå±‚æ¥çš„æ•°æ®å¯é åœ°ä¼ è¾“åˆ°ç›¸é‚»èŠ‚ç‚¹çš„ç›®æ ‡æœºç½‘ç»œå±‚ã€‚</p>
<ol>
<li>åŸºæœ¬æ•°æ®å•ä½ä¸ºå¸§ï¼›</li>
<li>ä¸»è¦çš„åè®®ï¼šä»¥å¤ªç½‘åè®®ï¼›</li>
<li>ä¸¤ä¸ªé‡è¦è®¾å¤‡åç§°ï¼šç½‘æ¡¥å’Œäº¤æ¢æœºã€‚</li>
</ol>
<h2 id="3-ç½‘ç»œå±‚"><a href="#3-ç½‘ç»œå±‚" class="headerlink" title="3.ç½‘ç»œå±‚"></a>3.ç½‘ç»œå±‚</h2><p>ç½‘ç»œå±‚çš„ç›®çš„æ˜¯å®ç°ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„æ•°æ®é€æ˜ä¼ é€ï¼Œå…·ä½“åŠŸèƒ½åŒ…æ‹¬å¯»å€å’Œè·¯ç”±é€‰æ‹©ã€è¿æ¥çš„å»ºç«‹ã€ä¿æŒå’Œç»ˆæ­¢ç­‰ã€‚å®ƒæä¾›çš„æœåŠ¡ä½¿ä¼ è¾“å±‚ä¸éœ€è¦äº†è§£ç½‘ç»œä¸­çš„æ•°æ®ä¼ è¾“å’Œäº¤æ¢æŠ€æœ¯ã€‚å¦‚æœæ‚¨æƒ³ç”¨å°½é‡å°‘çš„è¯æ¥è®°ä½ç½‘ç»œå±‚ï¼Œé‚£å°±æ˜¯â€è·¯å¾„é€‰æ‹©ã€è·¯ç”±åŠé€»è¾‘å¯»å€â€ã€‚<br>ç½‘ç»œå±‚ä¸­æ¶‰åŠä¼—å¤šçš„åè®®ï¼Œå…¶ä¸­åŒ…æ‹¬æœ€é‡è¦çš„åè®®ï¼Œä¹Ÿæ˜¯TCP/IPçš„æ ¸å¿ƒåè®®â€”â€”IPåè®®ã€‚IPåè®®éå¸¸ç®€å•ï¼Œä»…ä»…æä¾›ä¸å¯é ã€æ— è¿æ¥çš„ä¼ é€æœåŠ¡ã€‚IPåè®®çš„ä¸»è¦åŠŸèƒ½æœ‰ï¼šæ— è¿æ¥æ•°æ®æŠ¥ä¼ è¾“ã€æ•°æ®æŠ¥è·¯ç”±é€‰æ‹©å’Œå·®é”™æ§åˆ¶ã€‚ä¸IPåè®®é…å¥—ä½¿ç”¨å®ç°å…¶åŠŸèƒ½çš„è¿˜æœ‰åœ°å€è§£æåè®®ARPã€é€†åœ°å€è§£æåè®®RARPã€å› ç‰¹ç½‘æŠ¥æ–‡åè®®ICMPã€å› ç‰¹ç½‘ç»„ç®¡ç†åè®®IGMPã€‚</p>
<ol>
<li>ç½‘ç»œå±‚è´Ÿè´£å¯¹å­ç½‘é—´çš„æ•°æ®åŒ…è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚æ­¤å¤–ï¼Œç½‘ç»œå±‚è¿˜å¯ä»¥å®ç°æ‹¥å¡æ§åˆ¶ã€ç½‘é™…äº’è¿ç­‰åŠŸèƒ½ï¼›</li>
<li>åŸºæœ¬æ•°æ®å•ä½ä¸ºIPæ•°æ®æŠ¥ï¼›</li>
<li>åŒ…å«çš„ä¸»è¦åè®®ï¼š<br>ã€€ã€€IPåè®®ï¼ˆInternet Protocolï¼Œå› ç‰¹ç½‘äº’è”åè®®ï¼‰;<br>ã€€ã€€ICMPåè®®ï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰;<br>ã€€ã€€ARPåè®®ï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰;<br>ã€€ã€€RARPåè®®ï¼ˆReverse Address Resolution Protocolï¼Œé€†åœ°å€è§£æåè®®ï¼‰ã€‚</li>
<li>é‡è¦çš„è®¾å¤‡ï¼šè·¯ç”±å™¨ã€‚</li>
</ol>
<h2 id="4-ä¼ è¾“å±‚"><a href="#4-ä¼ è¾“å±‚" class="headerlink" title="4.ä¼ è¾“å±‚"></a>4.ä¼ è¾“å±‚</h2><p>ä¼ è¾“å±‚è¦å¤„ç†ç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ã€‚ ä¼ è¾“å±‚çš„ä»»åŠ¡æ˜¯æ ¹æ®é€šä¿¡å­ç½‘çš„ç‰¹æ€§ï¼Œæœ€ä½³çš„åˆ©ç”¨ç½‘ç»œèµ„æºï¼Œä¸ºä¸¤ä¸ªç«¯ç³»ç»Ÿçš„ä¼šè¯å±‚ä¹‹é—´ï¼Œæä¾›å»ºç«‹ã€ç»´æŠ¤å’Œå–æ¶ˆä¼ è¾“è¿æ¥çš„åŠŸèƒ½ï¼Œè´Ÿè´£ç«¯åˆ°ç«¯çš„å¯é æ•°æ®ä¼ è¾“ã€‚åœ¨è¿™ä¸€å±‚ï¼Œä¿¡æ¯ä¼ é€çš„åè®®æ•°æ®å•å…ƒç§°ä¸ºæ®µæˆ–æŠ¥æ–‡ã€‚</p>
<ol>
<li>ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ä»¥åŠç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜</li>
<li>åŒ…å«çš„ä¸»è¦åè®®ï¼šTCPåè®®ï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰ã€UDPåè®®ï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰</li>
<li>é‡è¦è®¾å¤‡ï¼šç½‘å…³</li>
</ol>
<h2 id="5-ä¼šè¯å±‚"><a href="#5-ä¼šè¯å±‚" class="headerlink" title="5.ä¼šè¯å±‚"></a>5.ä¼šè¯å±‚</h2><p>ä¼šè¯å±‚ç®¡ç†ä¸»æœºä¹‹é—´çš„ä¼šè¯è¿›ç¨‹ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢è¿›ç¨‹ä¹‹é—´çš„ä¼šè¯ã€‚ä¼šè¯å±‚è¿˜åˆ©ç”¨åœ¨æ•°æ®ä¸­æ’å…¥æ ¡éªŒç‚¹æ¥å®ç°æ•°æ®çš„åŒæ­¥ã€‚</p>
<h2 id="6-è¡¨ç¤ºå±‚"><a href="#6-è¡¨ç¤ºå±‚" class="headerlink" title="6.è¡¨ç¤ºå±‚"></a>6.è¡¨ç¤ºå±‚</h2><p>è¡¨ç¤ºå±‚å¯¹ä¸Šå±‚æ•°æ®æˆ–ä¿¡æ¯è¿›è¡Œå˜æ¢ä»¥ä¿è¯ä¸€ä¸ªä¸»æœºåº”ç”¨å±‚ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªä¸»æœºçš„åº”ç”¨ç¨‹åºç†è§£ã€‚è¡¨ç¤ºå±‚çš„æ•°æ®è½¬æ¢åŒ…æ‹¬æ•°æ®çš„åŠ å¯†ã€å‹ç¼©ã€æ ¼å¼è½¬æ¢ç­‰ã€‚</p>
<h2 id="7-åº”ç”¨å±‚"><a href="#7-åº”ç”¨å±‚" class="headerlink" title="7.åº”ç”¨å±‚"></a>7.åº”ç”¨å±‚</h2><p>ä¸ºæ“ä½œç³»ç»Ÿæˆ–ç½‘ç»œåº”ç”¨ç¨‹åºæä¾›è®¿é—®ç½‘ç»œæœåŠ¡çš„æ¥å£ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>ä¸ƒå±‚æ¨¡å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯ TCP ç²˜åŒ…å’Œæ‹†åŒ…ï¼Ÿ</title>
    <url>/2021/02/14/1000-011%E4%BB%80%E4%B9%88%E6%98%AF%20TCP%20%E7%B2%98%E5%8C%85%E5%92%8C%E6%8B%86%E5%8C%85%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="TCP-ç²˜åŒ…å’Œæ‹†åŒ…"><a href="#TCP-ç²˜åŒ…å’Œæ‹†åŒ…" class="headerlink" title="TCP ç²˜åŒ…å’Œæ‹†åŒ…"></a>TCP ç²˜åŒ…å’Œæ‹†åŒ…</h1><p>å‡è®¾å®¢æˆ·ç«¯åˆ†åˆ«å‘é€äº†ä¸¤ä¸ªæ•°æ®åŒ… D1 å’Œ D2 ç»™æœåŠ¡ç«¯ï¼Œç”±äºæœåŠ¡ç«¯ä¸€æ¬¡è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œæ•…å¯èƒ½å­˜åœ¨ä»¥ä¸‹ 4 ç§æƒ…å†µã€‚</p>
<ol>
<li><p>æœåŠ¡ç«¯åˆ†ä¸¤æ¬¡è¯»å–åˆ°äº†ä¸¤ä¸ªç‹¬ç«‹çš„æ•°æ®åŒ…ï¼Œåˆ†åˆ«æ˜¯ D1 å’Œ D2ï¼Œ<strong>æ²¡æœ‰ç²˜åŒ…å’Œæ‹†åŒ…</strong>ï¼›</p>
</li>
<li><p>æœåŠ¡ç«¯ä¸€æ¬¡æ¥æ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼ŒD1 å’Œ D2 ç²˜åˆåœ¨ä¸€èµ·ï¼Œ<strong>è¢«ç§°ä¸º TCP ç²˜åŒ…</strong>ï¼›</p>
</li>
<li><p>æœåŠ¡ç«¯åˆ†ä¸¤æ¬¡è¯»å–åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œç¬¬ä¸€æ¬¡è¯»å–åˆ°äº†å®Œæ•´çš„ D1 åŒ…å’Œ D2 åŒ…çš„éƒ¨åˆ†å†…å®¹ï¼Œç¬¬äºŒæ¬¡è¯»å–åˆ°äº† D2 åŒ…çš„å‰©ä½™å†…å®¹ï¼Œ<strong>è¿™è¢«ç§°ä¸º TCP æ‹†åŒ…</strong>ï¼›</p>
</li>
<li><p>æœåŠ¡ç«¯åˆ†ä¸¤æ¬¡è¯»å–åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œç¬¬ä¸€æ¬¡è¯»å–åˆ°äº† D1 åŒ…çš„éƒ¨åˆ†å†…å®¹ D1_1ï¼Œç¬¬äºŒæ¬¡è¯»å–åˆ°äº† D1 åŒ…çš„å‰©ä½™å†…å®¹ D1_2 å’Œ D2 åŒ…çš„æ•´åŒ…ã€‚<br>å¦‚æœæ­¤æ—¶æœåŠ¡ç«¯ TCP æ¥æ”¶æ»‘çª—éå¸¸å°ï¼Œè€Œæ•°æ®åŒ… D1 å’Œ D2 æ¯”è¾ƒå¤§ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå‘ç”Ÿç¬¬äº”ç§å¯èƒ½ï¼Œå³<strong>æœåŠ¡ç«¯åˆ†å¤šæ¬¡æ‰èƒ½å°† D1 å’Œ D2 åŒ…æ¥æ”¶å®Œå…¨ï¼ŒæœŸé—´å‘ç”Ÿå¤šæ¬¡æ‹†åŒ…</strong>ã€‚</p>
</li>
</ol>
<h1 id="TCPç²˜åŒ…-æ‹†åŒ…å‘ç”Ÿçš„åŸå› "><a href="#TCPç²˜åŒ…-æ‹†åŒ…å‘ç”Ÿçš„åŸå› " class="headerlink" title="TCPç²˜åŒ…/æ‹†åŒ…å‘ç”Ÿçš„åŸå› "></a>TCPç²˜åŒ…/æ‹†åŒ…å‘ç”Ÿçš„åŸå› </h1><ol>
<li><p>åº”ç”¨ç¨‹åº write å†™å…¥çš„å­—èŠ‚å¤§å°å¤§äºå¥—æ¥å£å‘é€ç¼“å†²åŒºå¤§å°ï¼›</p>
</li>
<li><p>è¿›è¡Œ MSS å¤§å°çš„ TCP åˆ†æ®µï¼›</p>
</li>
<li><p>ä»¥å¤ªç½‘å¸§çš„ payload å¤§äº MTU è¿›è¡Œ IP åˆ†ç‰‡ã€‚</p>
</li>
</ol>
<h1 id="MTU"><a href="#MTU" class="headerlink" title="MTU"></a>MTU</h1><p>æ³›æŒ‡é€šè®¯åè®®ä¸­çš„æœ€å¤§ä¼ è¾“å•å…ƒã€‚ä¸€èˆ¬ç”¨æ¥è¯´æ˜TCP/IPå››å±‚åè®®ä¸­æ•°æ®é“¾è·¯å±‚çš„æœ€å¤§ä¼ è¾“å•å…ƒï¼Œä¸åŒç±»å‹çš„ç½‘ç»œMTUä¹Ÿä¼šä¸åŒï¼Œæˆ‘ä»¬æ™®éä½¿ç”¨çš„ä»¥å¤ªç½‘çš„MTUæ˜¯1500ï¼Œå³æœ€å¤§åªèƒ½ä¼ è¾“1500å­—èŠ‚çš„æ•°æ®å¸§ã€‚å¯ä»¥é€šè¿‡ifconfigå‘½ä»¤æŸ¥çœ‹ç”µè„‘å„ä¸ªç½‘å¡çš„MTUã€‚</p>
<h1 id="MSS"><a href="#MSS" class="headerlink" title="MSS"></a>MSS</h1><p>æŒ‡TCPå»ºç«‹è¿æ¥ååŒæ–¹çº¦å®šçš„å¯ä¼ è¾“çš„æœ€å¤§TCPæŠ¥æ–‡é•¿åº¦ï¼Œæ˜¯TCPç”¨æ¥é™åˆ¶åº”ç”¨å±‚å¯å‘é€çš„æœ€å¤§å­—èŠ‚æ•°ã€‚å¦‚æœåº•å±‚çš„MTUæ˜¯1500byteï¼Œåˆ™ MSS = 1500- 20(IP Header) -20 (TCP Header) = 1460 byteã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿°å¯¹ç§°ä¸éå¯¹ç§°åŠ å¯†çš„æ¦‚å¿µ</title>
    <url>/2021/02/16/1000-012%E7%AE%80%E8%BF%B0%E5%AF%B9%E7%A7%B0%E4%B8%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%9A%84%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<h1 id="å¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†</h1><p>å¯¹ç§°åŠ å¯†æ˜¯æœ€å¿«é€Ÿã€æœ€ç®€å•çš„ä¸€ç§åŠ å¯†æ–¹å¼ï¼ŒåŠ å¯†ä¸è§£å¯†ç”¨çš„æ˜¯åŒæ ·çš„å¯†é’¥ã€‚å¯¹ç§°åŠ å¯†æœ‰å¾ˆå¤šç§ç®—æ³•ï¼Œç”±äºå®ƒæ•ˆç‡å¾ˆé«˜ï¼Œæ‰€ä»¥è¢«å¹¿æ³›ä½¿ç”¨åœ¨å¾ˆå¤šåŠ å¯†åè®®çš„æ ¸å¿ƒå½“ä¸­ã€‚</p>
<p><strong>å¯†é’¥äº¤æ¢çš„å‘é€è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤§çš„é£é™©ä¼šè¢«é»‘å®¢ä»¬æ‹¦æˆªã€‚ç°å®ä¸­é€šå¸¸çš„åšæ³•æ˜¯å°†å¯¹ç§°åŠ å¯†çš„å¯†é’¥è¿›è¡Œéå¯¹ç§°åŠ å¯†ï¼Œç„¶åä¼ é€ç»™éœ€è¦å®ƒçš„äººã€‚</strong></p>
<h2 id="å¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•"><a href="#å¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•" class="headerlink" title="å¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•"></a>å¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•</h2><ol>
<li><strong>DESï¼ˆData Encryption Standardï¼‰</strong>ï¼šæ•°æ®åŠ å¯†æ ‡å‡†ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œé€‚ç”¨äºåŠ å¯†å¤§é‡æ•°æ®çš„åœºåˆï¼›</li>
<li><strong>3DESï¼ˆTriple DESï¼‰</strong>ï¼šæ˜¯åŸºäºDESï¼Œå¯¹ä¸€å—æ•°æ®ç”¨ä¸‰ä¸ªä¸åŒçš„å¯†é’¥è¿›è¡Œä¸‰æ¬¡åŠ å¯†ï¼Œå¼ºåº¦æ›´é«˜ï¼›</li>
<li><strong>AESï¼ˆAdvanced Encryption Standardï¼‰</strong>ï¼šé«˜çº§åŠ å¯†æ ‡å‡†ï¼Œæ˜¯ä¸‹ä¸€ä»£çš„åŠ å¯†ç®—æ³•æ ‡å‡†ï¼Œé€Ÿåº¦å¿«ï¼Œå®‰å…¨çº§åˆ«é«˜ï¼Œæ”¯æŒ128ã€192ã€256ã€512ä½å¯†é’¥çš„åŠ å¯†ï¼›</li>
</ol>
<h2 id="ç®—æ³•ç‰¹å¾"><a href="#ç®—æ³•ç‰¹å¾" class="headerlink" title="ç®—æ³•ç‰¹å¾"></a>ç®—æ³•ç‰¹å¾</h2><ol>
<li>åŠ å¯†æ–¹å’Œè§£å¯†æ–¹ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥ï¼›</li>
<li>åŠ å¯†è§£å¯†çš„é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œé€‚åˆæ•°æ®æ¯”è¾ƒé•¿æ—¶çš„ä½¿ç”¨ï¼›</li>
<li>å¯†é’¥ä¼ è¾“çš„è¿‡ç¨‹ä¸å®‰å…¨ï¼Œä¸”å®¹æ˜“è¢«ç ´è§£ï¼Œå¯†é’¥ç®¡ç†ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼›</li>
</ol>
<h1 id="éå¯¹ç§°åŠ å¯†"><a href="#éå¯¹ç§°åŠ å¯†" class="headerlink" title="éå¯¹ç§°åŠ å¯†"></a>éå¯¹ç§°åŠ å¯†</h1><p>éå¯¹ç§°åŠ å¯†ä¸ºæ•°æ®çš„åŠ å¯†ä¸è§£å¯†æä¾›äº†ä¸€ä¸ªéå¸¸å®‰å…¨çš„æ–¹æ³•ï¼Œå®ƒä½¿ç”¨äº†ä¸€å¯¹å¯†é’¥ï¼Œå…¬é’¥ï¼ˆpublic keyï¼‰å’Œç§é’¥ï¼ˆprivate keyï¼‰ã€‚ç§é’¥åªèƒ½ç”±ä¸€æ–¹å®‰å…¨ä¿ç®¡ï¼Œä¸èƒ½å¤–æ³„ï¼Œè€Œå…¬é’¥åˆ™å¯ä»¥å‘ç»™ä»»ä½•è¯·æ±‚å®ƒçš„äººã€‚éå¯¹ç§°åŠ å¯†ä½¿ç”¨è¿™å¯¹å¯†é’¥ä¸­çš„ä¸€ä¸ªè¿›è¡ŒåŠ å¯†ï¼Œè€Œè§£å¯†åˆ™éœ€è¦å¦ä¸€ä¸ªå¯†é’¥ã€‚</p>
<h2 id="éå¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•"><a href="#éå¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•" class="headerlink" title="éå¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•"></a>éå¯¹ç§°åŠ å¯†å¸¸ç”¨ç®—æ³•</h2><p>RSAã€Elgamalã€èƒŒåŒ…ç®—æ³•ã€Rabinã€D-Hã€ECCï¼ˆæ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•ï¼‰ã€‚</p>
<p>ä½¿ç”¨æœ€å¹¿æ³›çš„æ˜¯RSAç®—æ³•ï¼ŒElgamalæ˜¯å¦ä¸€ç§å¸¸ç”¨çš„éå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚</p>
<h1 id="MD5-å•å‘åŠ å¯†ç®—æ³•ä¸å¯è§£å¯†ï¼Œå±äºæ•£åˆ—ç®—æ³•ã€‚"><a href="#MD5-å•å‘åŠ å¯†ç®—æ³•ä¸å¯è§£å¯†ï¼Œå±äºæ•£åˆ—ç®—æ³•ã€‚" class="headerlink" title="MD5 å•å‘åŠ å¯†ç®—æ³•ä¸å¯è§£å¯†ï¼Œå±äºæ•£åˆ—ç®—æ³•ã€‚"></a>MD5 å•å‘åŠ å¯†ç®—æ³•ä¸å¯è§£å¯†ï¼Œå±äºæ•£åˆ—ç®—æ³•ã€‚</h1><h1 id="Base64-æ˜¯ç¼–ç ã€‚"><a href="#Base64-æ˜¯ç¼–ç ã€‚" class="headerlink" title="Base64 æ˜¯ç¼–ç ã€‚"></a>Base64 æ˜¯ç¼–ç ã€‚</h1><blockquote>
<p>å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯† <a class="link"   href="https://zhuanlan.zhihu.com/p/30573146" >https://zhuanlan.zhihu.com/p/30573146<i class="fas fa-external-link-alt"></i></a><br><a class="link"   href="https://baike.baidu.com/item/%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86" >https://baike.baidu.com/item/å¯¹ç§°åŠ å¯†<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>åŠ å¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</title>
    <url>/2021/02/17/1000-013HTTP%20%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h1><p>GETæ–¹æ³•è¯·æ±‚ä¸€ä¸ªæŒ‡å®šèµ„æºçš„è¡¨ç¤ºå½¢å¼. ä½¿ç”¨GETçš„è¯·æ±‚åº”è¯¥åªè¢«ç”¨äºè·å–æ•°æ®.</p>
<h1 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h1><p>HEADæ–¹æ³•è¯·æ±‚ä¸€ä¸ªä¸GETè¯·æ±‚çš„å“åº”ç›¸åŒçš„å“åº”ï¼Œä½†æ²¡æœ‰å“åº”ä½“.</p>
<h1 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h1><p>POSTæ–¹æ³•ç”¨äºå°†å®ä½“æäº¤åˆ°æŒ‡å®šçš„èµ„æºï¼Œé€šå¸¸å¯¼è‡´åœ¨æœåŠ¡å™¨ä¸Šçš„çŠ¶æ€å˜åŒ–æˆ–å‰¯ä½œç”¨. </p>
<h1 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h1><p>PUTæ–¹æ³•ç”¨è¯·æ±‚æœ‰æ•ˆè½½è·æ›¿æ¢ç›®æ ‡èµ„æºçš„æ‰€æœ‰å½“å‰è¡¨ç¤ºã€‚</p>
<h1 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h1><p>DELETEæ–¹æ³•åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚</p>
<h1 id="CONNECT"><a href="#CONNECT" class="headerlink" title="CONNECT"></a>CONNECT</h1><p>CONNECTæ–¹æ³•å»ºç«‹ä¸€ä¸ªåˆ°ç”±ç›®æ ‡èµ„æºæ ‡è¯†çš„æœåŠ¡å™¨çš„éš§é“ã€‚</p>
<h1 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h1><p>OPTIONSæ–¹æ³•ç”¨äºæè¿°ç›®æ ‡èµ„æºçš„é€šä¿¡é€‰é¡¹ã€‚</p>
<h1 id="TRACE"><a href="#TRACE" class="headerlink" title="TRACE"></a>TRACE</h1><p>TRACEæ–¹æ³•æ²¿ç€åˆ°ç›®æ ‡èµ„æºçš„è·¯å¾„æ‰§è¡Œä¸€ä¸ªæ¶ˆæ¯ç¯å›æµ‹è¯•ã€‚</p>
<h1 id="PATCH"><a href="#PATCH" class="headerlink" title="PATCH"></a>PATCH</h1><p>PATCHæ–¹æ³•ç”¨äºå¯¹èµ„æºåº”ç”¨éƒ¨åˆ†ä¿®æ”¹ã€‚</p>
<h1 id="è§„èŒƒ"><a href="#è§„èŒƒ" class="headerlink" title="è§„èŒƒ"></a>è§„èŒƒ</h1><p>HTTP å®šä¹‰äº†ä¸€ç»„è¯·æ±‚æ–¹æ³•, ä»¥è¡¨æ˜è¦å¯¹ç»™å®šèµ„æºæ‰§è¡Œçš„æ“ä½œã€‚æŒ‡ç¤ºé’ˆå¯¹ç»™å®šèµ„æºè¦æ‰§è¡Œçš„æœŸæœ›åŠ¨ä½œ. è™½ç„¶ä»–ä»¬ä¹Ÿå¯ä»¥æ˜¯åè¯, ä½†è¿™äº›è¯·æ±‚æ–¹æ³•æœ‰æ—¶è¢«ç§°ä¸ºHTTPåŠ¨è¯. æ¯ä¸€ä¸ªè¯·æ±‚æ–¹æ³•éƒ½å®ç°äº†ä¸åŒçš„è¯­ä¹‰, ä½†ä¸€äº›å…±åŒçš„ç‰¹å¾ç”±ä¸€ç»„å…±äº«ï¼š: ä¾‹å¦‚ä¸€ä¸ªè¯·æ±‚æ–¹æ³•å¯ä»¥æ˜¯ safe(å®‰å…¨), idempotent(å¹‚ç­‰), æˆ– cacheable(å¯ç¼“å­˜).</p>
<h2 id="safe-å®‰å…¨"><a href="#safe-å®‰å…¨" class="headerlink" title="safe(å®‰å…¨)"></a>safe(å®‰å…¨)</h2><p>å¦‚æœè¯´ä¸€ä¸ª HTTP æ–¹æ³•æ˜¯å®‰å…¨çš„ï¼Œæ˜¯æŒ‡è¿™æ˜¯ä¸ªä¸ä¼šä¿®æ”¹æœåŠ¡å™¨çš„æ•°æ®çš„æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¹æœåŠ¡å™¨åªè¯»æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•æ˜¯å®‰å…¨çš„ï¼šGETï¼ŒHEAD å’Œ OPTIONSã€‚æ‰€æœ‰å®‰å…¨çš„æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ï¼Œæœ‰äº›ä¸å®‰å…¨çš„æ–¹æ³•å¦‚ PUT å’Œ DELETE åˆ™ä¸æ˜¯ã€‚</p>
<h2 id="idempotent-å¹‚ç­‰"><a href="#idempotent-å¹‚ç­‰" class="headerlink" title="idempotent(å¹‚ç­‰)"></a>idempotent(å¹‚ç­‰)</h2><p>ä¸€ä¸ªHTTPæ–¹æ³•æ˜¯å¹‚ç­‰çš„ï¼ŒæŒ‡çš„æ˜¯åŒæ ·çš„è¯·æ±‚è¢«æ‰§è¡Œä¸€æ¬¡ä¸è¿ç»­æ‰§è¡Œå¤šæ¬¡çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ŒæœåŠ¡å™¨çš„çŠ¶æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œå¹‚ç­‰æ–¹æ³•ä¸åº”è¯¥å…·æœ‰å‰¯ä½œç”¨ï¼ˆç»Ÿè®¡ç”¨é€”é™¤å¤–ï¼‰ã€‚åœ¨æ­£ç¡®å®ç°çš„æ¡ä»¶ä¸‹ï¼ŒGETï¼ŒHEADï¼ŒPUTå’ŒDELETE ç­‰æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ï¼Œè€Œ POST æ–¹æ³•ä¸æ˜¯ã€‚æ‰€æœ‰çš„ safe æ–¹æ³•ä¹Ÿéƒ½æ˜¯å¹‚ç­‰çš„ã€‚</p>
<h2 id="cacheable-å¯ç¼“å­˜"><a href="#cacheable-å¯ç¼“å­˜" class="headerlink" title="cacheable(å¯ç¼“å­˜)"></a>cacheable(å¯ç¼“å­˜)</h2><p>å¯ç¼“å­˜çš„å“åº”æ˜¯å¯è¢«ç¼“å­˜çš„HTTP å“åº”ï¼Œå®ƒè¢«å­˜å‚¨ä»¥ä¾›ç¨åæ£€ç´¢å’Œä½¿ç”¨ï¼Œä»è€Œå°†æ–°çš„è¯·æ±‚ä¿å­˜åœ¨ä¼ºæœå™¨ã€‚ä¸æ˜¯æ‰€æœ‰çš„ HTTP å“åº”éƒ½å¯ä»¥è¢«ç¼“å­˜ï¼Œå¯ä»¥è¢«ç¼“å­˜çš„ HTTP å“åº”éœ€æ»¡è¶³å¦‚ä¸‹åˆ—æ¡ä»¶:</p>
<ul>
<li>è¯·æ±‚ä¸­ä½¿ç”¨çš„æ–¹æ³•æœ¬èº«æ˜¯å¯ä»¥è¢«ç¼“å­˜çš„ï¼Œå¦‚ GET æˆ– HEAD æ–¹æ³•ã€‚å¦‚æœä¸‹è¾¾äº†æ–°çš„æŒ‡ç¤ºï¼Œå“åº” POST æ–¹æ³•ä¹Ÿå¯ä»¥è¢«ç¼“å­˜ï¼Œä½†è¿™ç§å®æ–½æ–¹å¼æä¸ºç½•è§ã€‚å…¶ä»–æ–¹æ³•ï¼Œå¦‚ï¼š PUT æˆ– DELETE éƒ½ä¸å¯ä»¥è¢«ç¼“å­˜ï¼ŒåŒæ ·ä»–ä»¬çš„å¤„ç†ç»“æœä¹Ÿä¸å¯ä»¥ã€‚</li>
<li>åº”ç”¨ç¨‹å¼æ˜¯ä¼šç¼“å­˜å·²çŸ¥çš„å“åº”çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”è¢«è®¤ä¸ºæ˜¯å¯ç¼“å­˜çš„ã€‚è¿™äº›å¯ç¼“å­˜çš„çŠ¶æ€ç å¦‚ä¸‹ï¼š 200, 203, 204, 206, 300, 301, 404, 405, 410, 414, å’Œ 501.</li>
<li>å“åº”ä¸­æ²¡æœ‰æŒ‡å®šçš„å¤´éƒ¨ï¼Œå¦‚ Cache-Controlï¼Œå®ƒå¯ä»¥é˜»æ­¢ç¼“å­˜ã€‚<br>è¯·æ³¨æ„ä¸€äº›ä¸ç¼“å­˜è¯·æ±‚/å“åº”åˆ°æŒ‡å®šçš„ URI å¯èƒ½ä¼šå¯¼è‡´ç›¸åŒ URI ä¸Šä»¥å‰çš„ç¼“å­˜å“åº”å¤±æ•ˆã€‚ä¾‹å¦‚ï¼Œ  PUT åˆ° pageX.html å°†ä½¿ç›¸åŒ URI ä¸‹æ‰€æœ‰çš„ GET æˆ– HEAD è¯·æ±‚ç¼“å­˜å¤±æ•ˆã€‚</li>
</ul>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods" >https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° JWT çš„åŸç†å’Œæ ¡éªŒæœºåˆ¶</title>
    <url>/2021/02/17/1000-014%E7%AE%80%E8%BF%B0%20JWT%20%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E6%A0%A1%E9%AA%8C%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<h1 id="JSON-Web-Tokenï¼ˆç¼©å†™-JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚"><a href="#JSON-Web-Tokenï¼ˆç¼©å†™-JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚" class="headerlink" title="JSON Web Tokenï¼ˆç¼©å†™ JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚"></a>JSON Web Tokenï¼ˆç¼©å†™ JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚</h1><h1 id="JWTçš„åŸç†"><a href="#JWTçš„åŸç†" class="headerlink" title="JWTçš„åŸç†"></a>JWTçš„åŸç†</h1><p>JWT çš„åŸç†æ˜¯ï¼ŒæœåŠ¡å™¨è®¤è¯ä»¥åï¼Œç”Ÿæˆä¸€ä¸ª JSON å¯¹è±¡ï¼Œå‘å›ç»™ç”¨æˆ·ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;å§“å&quot;: &quot;å¼ ä¸‰&quot;,</span><br><span class="line">  &quot;è§’è‰²&quot;: &quot;ç®¡ç†å‘˜&quot;,</span><br><span class="line">  &quot;åˆ°æœŸæ—¶é—´&quot;: &quot;2018å¹´7æœˆ1æ—¥0ç‚¹0åˆ†&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥åï¼Œç”¨æˆ·ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è¦å‘å›è¿™ä¸ª JSON å¯¹è±¡ã€‚æœåŠ¡å™¨å®Œå…¨åªé è¿™ä¸ªå¯¹è±¡è®¤å®šç”¨æˆ·èº«ä»½ã€‚ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼ŒæœåŠ¡å™¨åœ¨ç”Ÿæˆè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Šç­¾åï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚<br>æœåŠ¡å™¨å°±ä¸ä¿å­˜ä»»ä½• session æ•°æ®äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨å˜æˆæ— çŠ¶æ€äº†ï¼Œä»è€Œæ¯”è¾ƒå®¹æ˜“å®ç°æ‰©å±•ã€‚</p>
<h1 id="JWT-çš„æ•°æ®ç»“æ„"><a href="#JWT-çš„æ•°æ®ç»“æ„" class="headerlink" title="JWT çš„æ•°æ®ç»“æ„"></a>JWT çš„æ•°æ®ç»“æ„</h1><p>å®é™…çš„ JWT å¤§æ¦‚å°±åƒä¸‹é¢è¿™æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">eyJhbGcio1JIUZIINiIsInR5CCI6IkpXVCJ9.</span><br><span class="line">eyJzdWIioiIxMiMONTY30DkwIiwibmFtZSI6IkpvaG4</span><br><span class="line">gRG9IIiwiaXNTb2NpYWwiOnRydWv9.</span><br><span class="line">4pcPyMD09oIPSyXnrXCjTwXyr4BsezdI1AVTmud2fU4</span><br></pre></td></tr></table></figure>
<p>å®ƒæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œä¸­é—´ç”¨ç‚¹ï¼ˆ.ï¼‰åˆ†éš”æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚æ³¨æ„ï¼ŒJWT å†…éƒ¨æ˜¯æ²¡æœ‰æ¢è¡Œçš„ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºå±•ç¤ºï¼Œå°†å®ƒå†™æˆäº†å‡ è¡Œã€‚</p>
<p>JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚</p>
<ul>
<li>Headerï¼ˆå¤´éƒ¨ï¼‰</li>
<li>Payloadï¼ˆè´Ÿè½½ï¼‰</li>
<li>Signatureï¼ˆç­¾åï¼‰</li>
</ul>
<p>å†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚<br><code>Header.Payload.Signature</code></p>
<h2 id="Headerï¼ˆå¤´éƒ¨ï¼‰"><a href="#Headerï¼ˆå¤´éƒ¨ï¼‰" class="headerlink" title="Headerï¼ˆå¤´éƒ¨ï¼‰"></a>Headerï¼ˆå¤´éƒ¨ï¼‰</h2><p>Header éƒ¨åˆ†æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œé€šå¸¸æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;alg&quot;: &quot;HS256&quot;,</span><br><span class="line">  &quot;typ&quot;: &quot;JWT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œalgå±æ€§è¡¨ç¤ºç­¾åçš„ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œé»˜è®¤æ˜¯ HMAC SHA256ï¼ˆå†™æˆ HS256ï¼‰ï¼›typå±æ€§è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰çš„ç±»å‹ï¼ˆtypeï¼‰ï¼ŒJWT ä»¤ç‰Œç»Ÿä¸€å†™ä¸ºJWTã€‚<br>æœ€åï¼Œå°†ä¸Šé¢çš„ JSON å¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•ï¼ˆè¯¦è§åæ–‡ï¼‰è½¬æˆå­—ç¬¦ä¸²ã€‚</p>
<h2 id="Payloadï¼ˆè´Ÿè½½ï¼‰"><a href="#Payloadï¼ˆè´Ÿè½½ï¼‰" class="headerlink" title="Payloadï¼ˆè´Ÿè½½ï¼‰"></a>Payloadï¼ˆè´Ÿè½½ï¼‰</h2><p>Payload éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚JWT è§„å®šäº†7ä¸ªå®˜æ–¹å­—æ®µï¼Œä¾›é€‰ç”¨ã€‚</p>
<ul>
<li>iss (issuer)ï¼šç­¾å‘äºº</li>
<li>exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´</li>
<li>sub (subject)ï¼šä¸»é¢˜</li>
<li>aud (audience)ï¼šå—ä¼—</li>
<li>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´</li>
<li>iat (Issued At)ï¼šç­¾å‘æ—¶é—´</li>
<li>jti (JWT ID)ï¼šç¼–å·</li>
</ul>
<p>é™¤äº†å®˜æ–¹å­—æ®µï¼Œä½ è¿˜å¯ä»¥åœ¨è¿™ä¸ªéƒ¨åˆ†å®šä¹‰ç§æœ‰å­—æ®µï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;sub&quot;: &quot;1234567890&quot;,</span><br><span class="line">  &quot;name&quot;: &quot;John Doe&quot;,</span><br><span class="line">  &quot;admin&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼ŒJWT é»˜è®¤æ˜¯ä¸åŠ å¯†çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¯»åˆ°ï¼Œæ‰€ä»¥ä¸è¦æŠŠç§˜å¯†ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªéƒ¨åˆ†ã€‚<br>è¿™ä¸ª JSON å¯¹è±¡ä¹Ÿè¦ä½¿ç”¨ Base64URL ç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p>
<h2 id="Signatureï¼ˆç­¾åï¼‰"><a href="#Signatureï¼ˆç­¾åï¼‰" class="headerlink" title="Signatureï¼ˆç­¾åï¼‰"></a>Signatureï¼ˆç­¾åï¼‰</h2><p>Signature éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚<br>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼ˆsecretï¼‰ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚ç„¶åï¼Œä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + &quot;.&quot; +</span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure>
<p>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠ Headerã€Payloadã€Signature ä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨â€ç‚¹â€ï¼ˆ.ï¼‰åˆ†éš”ï¼Œå°±å¯ä»¥è¿”å›ç»™ç”¨æˆ·ã€‚</p>
<h2 id="Base64URL"><a href="#Base64URL" class="headerlink" title="Base64URL"></a>Base64URL</h2><p>å‰é¢æåˆ°ï¼ŒHeader å’Œ Payload ä¸²å‹åŒ–çš„ç®—æ³•æ˜¯ Base64URLã€‚è¿™ä¸ªç®—æ³•è·Ÿ Base64 ç®—æ³•åŸºæœ¬ç±»ä¼¼ï¼Œä½†æœ‰ä¸€äº›å°çš„ä¸åŒã€‚<br>JWT ä½œä¸ºä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œæœ‰äº›åœºåˆå¯èƒ½ä¼šæ”¾åˆ° URLï¼ˆæ¯”å¦‚ api.example.com/?token=xxxï¼‰ã€‚Base64 æœ‰ä¸‰ä¸ªå­—ç¬¦<code>+</code>ã€<code>/</code>å’Œ<code>=</code>ï¼Œåœ¨ URL é‡Œé¢æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œæ‰€ä»¥è¦è¢«æ›¿æ¢æ‰ï¼š<code>=</code>è¢«çœç•¥ã€<code>+</code>æ›¿æ¢æˆ<code>-</code>ï¼Œ<code>/</code>æ›¿æ¢æˆ<code>_</code> ã€‚è¿™å°±æ˜¯ Base64URL ç®—æ³•ã€‚</p>
<h1 id="JWT-çš„ä½¿ç”¨æ–¹å¼"><a href="#JWT-çš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="JWT çš„ä½¿ç”¨æ–¹å¼"></a>JWT çš„ä½¿ç”¨æ–¹å¼</h1><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨ Cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨ localStorageã€‚<br>æ­¤åï¼Œå®¢æˆ·ç«¯æ¯æ¬¡ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œéƒ½è¦å¸¦ä¸Šè¿™ä¸ª JWTã€‚ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ Cookie é‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ HTTP è¯·æ±‚çš„å¤´ä¿¡æ¯<code>Authorization</code>å­—æ®µé‡Œé¢ã€‚<br><code>Authorization: Bearer &lt;token&gt;</code><br>å¦ä¸€ç§åšæ³•æ˜¯ï¼Œè·¨åŸŸçš„æ—¶å€™ï¼ŒJWT å°±æ”¾åœ¨ POST è¯·æ±‚çš„æ•°æ®ä½“é‡Œé¢ã€‚</p>
<h1 id="JWT-çš„å‡ ä¸ªç‰¹ç‚¹"><a href="#JWT-çš„å‡ ä¸ªç‰¹ç‚¹" class="headerlink" title="JWT çš„å‡ ä¸ªç‰¹ç‚¹"></a>JWT çš„å‡ ä¸ªç‰¹ç‚¹</h1><p>ï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚<br>ï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚<br>ï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚<br>ï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚<br>ï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚<br>ï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html" >https://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>JWT</tag>
      </tags>
  </entry>
  <entry>
    <title>Cookie å’Œ Session çš„å…³ç³»å’ŒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <url>/2021/02/18/1000-015Cookie%20%E5%92%8C%20Session%20%E7%9A%84%E5%85%B3%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="Cookie-å’Œ-Session-çš„å…³ç³»å’ŒåŒºåˆ«"><a href="#Cookie-å’Œ-Session-çš„å…³ç³»å’ŒåŒºåˆ«" class="headerlink" title="Cookie å’Œ Session çš„å…³ç³»å’ŒåŒºåˆ«"></a>Cookie å’Œ Session çš„å…³ç³»å’ŒåŒºåˆ«</h1><ol>
<li>Cookie åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼ŒSession åœ¨æœåŠ¡å™¨ç«¯ã€‚ </li>
<li>Cookie çš„å®‰å…¨æ€§ä¸€èˆ¬ï¼Œä»–äººå¯é€šè¿‡åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„ Cookie å¹¶è¿›è¡Œ Cookie æ¬ºéª—ã€‚åœ¨å®‰å…¨æ€§ç¬¬ä¸€çš„å‰æä¸‹ï¼Œé€‰æ‹© Session æ›´ä¼˜ã€‚é‡è¦äº¤äº’ä¿¡æ¯æ¯”å¦‚æƒé™ç­‰å°±è¦æ”¾åœ¨ Session ä¸­ï¼Œä¸€èˆ¬çš„ä¿¡æ¯è®°å½•æ”¾ Cookie å°±å¥½äº†ã€‚ </li>
<li>å•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜ 20 ä¸ª Cookieã€‚ </li>
<li>Session å¯ä»¥æ”¾åœ¨æ–‡ä»¶ã€æ•°æ®åº“æˆ–å†…å­˜ä¸­ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨ Node æ—¶å°† Session ä¿å­˜åœ¨ redis ä¸­ã€‚ç”±äºä¸€å®šæ—¶é—´å†…å®ƒæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œå½“è®¿é—®å¢å¤šæ—¶ï¼Œä¼šè¾ƒå¤§åœ°å ç”¨æœåŠ¡å™¨çš„æ€§èƒ½ã€‚è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“é€‚æ—¶ä½¿ç”¨ Cookieã€‚ </li>
<li>Session çš„è¿è¡Œä¾èµ– Session IDï¼Œè€Œ Session ID æ˜¯å­˜åœ¨ Cookie ä¸­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæµè§ˆå™¨ç¦ç”¨äº† Cookieï¼ŒSession ä¹Ÿä¼šå¤±æ•ˆï¼ˆä½†æ˜¯å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼å®ç°ï¼Œæ¯”å¦‚åœ¨ url ä¸­ä¼ é€’ Session IDï¼‰ã€‚ </li>
<li>ç”¨æˆ·éªŒè¯è¿™ç§åœºåˆä¸€èˆ¬ä¼šç”¨ Sessionã€‚å› æ­¤ï¼Œç»´æŒä¸€ä¸ªä¼šè¯çš„æ ¸å¿ƒå°±æ˜¯å®¢æˆ·ç«¯çš„å”¯ä¸€æ ‡è¯†ï¼Œå³ Session IDã€‚</li>
</ol>
<p>é¢˜å¤–è¯ï¼Œé‚£ä¹ˆè¯è¯´ Session Cookie èƒ½è¢«ç¯¡æ”¹ä¹ˆï¼Ÿ ç†è®ºä¸Šå¯ä»¥ï¼Œåªè¦æ”¹å˜äº†è¿æ¥æ—¶çš„ Session ID å°±å¯ä»¥äº†~</p>
<h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><p>Cookie æ˜¯å®¢æˆ·ç«¯ä¿å­˜ç”¨æˆ·ä¿¡æ¯çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥è®°å½•ç”¨æˆ·çš„ä¸€äº›ä¿¡æ¯ã€‚å¦‚ä½•è¯†åˆ«ç‰¹å®šçš„å®¢æˆ·å‘¢ï¼Ÿcookie å°±å¯ä»¥åšåˆ°ã€‚æ¯æ¬¡ HTTP è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šå‘é€ç›¸åº”çš„ Cookie ä¿¡æ¯åˆ°æœåŠ¡ç«¯ã€‚å®ƒçš„è¿‡æœŸæ—¶é—´å¯ä»¥ä»»æ„è®¾ç½®ï¼Œå¦‚æœä½ ä¸ä¸»åŠ¨æ¸…é™¤å®ƒï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œé¢éƒ½å¯ä»¥ä¿ç•™ç€ï¼Œå³ä¾¿è¿™ä¹‹é—´ä½ æŠŠç”µè„‘å…³æœºäº†ã€‚<br>æ—¢ç„¶å®ƒæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ï¼Œæ¢å¥è¯è¯´é€šè¿‡æŸäº›æ‰‹æ³•æˆ‘å°±å¯ä»¥ç¯¡æ”¹æœ¬åœ°å­˜å‚¨çš„ä¿¡æ¯æ¥æ¬ºéª—æœåŠ¡ç«¯çš„æŸäº›ç­–ç•¥ã€‚</p>
<h1 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h1><p>Session æ˜¯åœ¨æ— çŠ¶æ€çš„ HTTP åè®®ä¸‹ï¼ŒæœåŠ¡ç«¯è®°å½•ç”¨æˆ·çŠ¶æ€æ—¶ç”¨äºæ ‡è¯†å…·ä½“ç”¨æˆ·çš„æœºåˆ¶ã€‚å®ƒæ˜¯åœ¨æœåŠ¡ç«¯ä¿å­˜çš„ç”¨æ¥è·Ÿè¸ªç”¨æˆ·çš„çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä¿å­˜åœ¨æ–‡ä»¶ã€æ•°æ®åº“æˆ–è€…é›†ç¾¤ä¸­ã€‚åœ¨æµè§ˆå™¨å…³é—­åè¿™æ¬¡çš„ Session å°±æ¶ˆå¤±äº†ï¼Œä¸‹æ¬¡æ‰“å¼€å°±ä¸å†æ‹¥æœ‰è¿™ä¸ª Sessionã€‚å…¶å®å¹¶ä¸æ˜¯ Session æ¶ˆå¤±äº†ï¼Œè€Œæ˜¯ Session ID å˜äº†ï¼ŒæœåŠ¡å™¨ç«¯å¯èƒ½è¿˜æ˜¯å­˜ç€ä½ ä¸Šæ¬¡çš„ Session ID åŠå…¶ Session ä¿¡æ¯ï¼Œåªæ˜¯ä»–ä»¬æ˜¯æ— ä¸»çŠ¶æ€ï¼Œä¹Ÿè®¸ä¸€æ®µæ—¶é—´åä¼šè¢«åˆ é™¤ã€‚</p>
<hr>
<p>å®é™…ä¸Š Cookie ä¸ Session éƒ½æ˜¯ä¼šè¯çš„ä¸€ç§æ–¹å¼ã€‚å®ƒä»¬çš„å…¸å‹ä½¿ç”¨åœºæ™¯æ¯”å¦‚ â€œè´­ç‰©è½¦â€ï¼Œå½“ä½ ç‚¹å‡»ä¸‹å•æŒ‰é’®æ—¶ï¼ŒæœåŠ¡ç«¯å¹¶ä¸æ¸…æ¥šå…·ä½“ç”¨æˆ·çš„å…·ä½“æ“ä½œï¼Œä¸ºäº†æ ‡è¯†å¹¶è·Ÿè¸ªè¯¥ç”¨æˆ·ï¼Œäº†è§£è´­ç‰©è½¦ä¸­æœ‰å‡ æ ·ç‰©å“ï¼ŒæœåŠ¡ç«¯é€šè¿‡ä¸ºè¯¥ç”¨æˆ·åˆ›å»º Cookie/Session æ¥è·å–è¿™äº›ä¿¡æ¯ã€‚</p>
<p>å¦‚æœä½ çš„ç«™ç‚¹æ˜¯å¤šèŠ‚ç‚¹éƒ¨ç½²ï¼Œä½¿ç”¨ Nginx åšè´Ÿè½½å‡è¡¡ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ä¼šå‡ºç° Session ä¸¢å¤±çš„æƒ…å†µï¼ˆæ¯”å¦‚ï¼Œå¿½ç„¶å°±å¤„äºæœªç™»å½•çŠ¶æ€ï¼‰ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ IP è´Ÿè½½å‡è¡¡ï¼ˆIP ç»‘å®š ip_hashï¼Œæ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—® ip çš„ hash ç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³ Session çš„é—®é¢˜ï¼‰ï¼Œæˆ–è€…å°† Session ä¿¡æ¯å­˜å‚¨åœ¨é›†ç¾¤ä¸­ã€‚åœ¨å¤§å‹çš„ç½‘ç«™ä¸­ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸“é—¨çš„ Session æœåŠ¡å™¨é›†ç¾¤ï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·ä¼šè¯ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ç¼“å­˜æœåŠ¡æ¯”å¦‚ Memcached æˆ–è€… Redis ä¹‹ç±»çš„æ¥å­˜æ”¾ Sessionã€‚</p>
<p>ç›®å‰å¤§å¤šæ•°çš„åº”ç”¨éƒ½æ˜¯ç”¨ Cookie å®ç° Session è·Ÿè¸ªçš„ã€‚ç¬¬ä¸€æ¬¡åˆ›å»º Session æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šé€šè¿‡åœ¨ HTTP åè®®ä¸­åé¦ˆåˆ°å®¢æˆ·ç«¯ï¼Œéœ€è¦åœ¨ Cookie ä¸­è®°å½•ä¸€ä¸ª Session IDï¼Œä»¥ä¾¿ä»Šåæ¯æ¬¡è¯·æ±‚æ—¶éƒ½å¯åˆ†è¾¨ä½ æ˜¯è°ã€‚æœ‰äººé—®ï¼Œå¦‚æœå®¢æˆ·ç«¯çš„æµè§ˆå™¨ç¦ç”¨äº† Cookie æ€ä¹ˆåŠï¼Ÿå»ºè®®ä½¿ç”¨ URL é‡å†™æŠ€æœ¯è¿›è¡Œä¼šè¯è·Ÿè¸ªï¼Œå³æ¯æ¬¡ HTTP äº¤äº’ï¼ŒURL åé¢éƒ½è¢«é™„åŠ ä¸Šè¯¸å¦‚ sid=xxxxx çš„å‚æ•°ï¼Œä»¥ä¾¿æœåŠ¡ç«¯ä¾æ­¤è¯†åˆ«ç”¨æˆ·ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://ruby-china.org/topics/33313" >https://ruby-china.org/topics/33313<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>Cookie</tag>
        <tag>Session</tag>
      </tags>
  </entry>
  <entry>
    <title>TCP ä¸ UDP åœ¨ç½‘ç»œåè®®ä¸­çš„å“ªä¸€å±‚ï¼Œä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</title>
    <url>/2021/02/21/1000-016TCP%20%E4%B8%8E%20UDP%20%E5%9C%A8%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E4%B8%AD%E7%9A%84%E5%93%AA%E4%B8%80%E5%B1%82%EF%BC%8C%E4%BB%96%E4%BB%AC%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="TCP-ä¸-UDP-åœ¨ç½‘ç»œåè®®ä¸­çš„å“ªä¸€å±‚ï¼Ÿ"><a href="#TCP-ä¸-UDP-åœ¨ç½‘ç»œåè®®ä¸­çš„å“ªä¸€å±‚ï¼Ÿ" class="headerlink" title="TCP ä¸ UDP åœ¨ç½‘ç»œåè®®ä¸­çš„å“ªä¸€å±‚ï¼Ÿ"></a>TCP ä¸ UDP åœ¨ç½‘ç»œåè®®ä¸­çš„å“ªä¸€å±‚ï¼Ÿ</h1><p><strong>å±äºä¼ è¾“å±‚åè®®</strong></p>
<h1 id="TCP-ä¸-UDP-çš„åŒºåˆ«"><a href="#TCP-ä¸-UDP-çš„åŒºåˆ«" class="headerlink" title="TCP ä¸ UDP çš„åŒºåˆ«"></a>TCP ä¸ UDP çš„åŒºåˆ«</h1><ol>
<li><p><strong>TCPé¢å‘è¿æ¥ï¼ˆå¦‚æ‰“ç”µè¯è¦å…ˆæ‹¨å·å»ºç«‹è¿æ¥ï¼‰ï¼›UDPæ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ã€‚</strong></p>
</li>
<li><p><strong>TCPæ³¨é‡æ•°æ®å®‰å…¨æ€§ï¼ŒUDPæ•°æ®ä¼ è¾“å¿«ã€‚</strong>TCPæä¾›å¯é çš„æœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡TCPè¿æ¥ä¼ é€çš„æ•°æ®ï¼Œæ— å·®é”™ï¼Œä¸ä¸¢å¤±ï¼Œä¸é‡å¤ï¼Œä¸”æŒ‰åºåˆ°è¾¾ï¼›UDPå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ã€‚TCPé€šè¿‡æ ¡éªŒå’Œï¼Œé‡ä¼ æ§åˆ¶ï¼Œåºå·æ ‡è¯†ï¼Œæ»‘åŠ¨çª—å£ã€ç¡®è®¤åº”ç­”å®ç°å¯é ä¼ è¾“ã€‚å¦‚ä¸¢åŒ…æ—¶çš„é‡å‘æ§åˆ¶ï¼Œè¿˜å¯ä»¥å¯¹æ¬¡åºä¹±æ‰çš„åˆ†åŒ…è¿›è¡Œé¡ºåºæ§åˆ¶ã€‚</p>
</li>
<li><p><strong>UDPå…·æœ‰è¾ƒå¥½çš„å®æ—¶æ€§ï¼Œå·¥ä½œæ•ˆç‡æ¯”TCPé«˜ï¼Œ</strong>é€‚ç”¨äºå¯¹é«˜é€Ÿä¼ è¾“å’Œå®æ—¶æ€§æœ‰è¾ƒé«˜çš„é€šä¿¡æˆ–å¹¿æ’­é€šä¿¡ã€‚</p>
</li>
<li><p><strong>TCP ä¸€å¯¹ä¸€ï¼Œ UDP ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤šã€‚</strong> æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ç‚¹åˆ°ç‚¹çš„ï¼›UDPæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</p>
</li>
<li><p><strong>TCPå¯¹ç³»ç»Ÿèµ„æºè¦æ±‚è¾ƒå¤šï¼ŒUDPå¯¹ç³»ç»Ÿèµ„æºè¦æ±‚è¾ƒå°‘ã€‚</strong></p>
</li>
</ol>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
        <tag>UDP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° TCP æ»‘åŠ¨çª—å£ä»¥åŠé‡ä¼ æœºåˆ¶</title>
    <url>/2021/02/21/1000-017%E7%AE%80%E8%BF%B0%20TCP%20%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E4%BB%A5%E5%8F%8A%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<h1 id="TCP-æ»‘åŠ¨çª—å£"><a href="#TCP-æ»‘åŠ¨çª—å£" class="headerlink" title="TCP æ»‘åŠ¨çª—å£"></a>TCP æ»‘åŠ¨çª—å£</h1><p>çª—å£çš„å®ç°å®é™…ä¸Šæ˜¯æ“ä½œç³»ç»Ÿå¼€è¾Ÿçš„ä¸€ä¸ªç¼“å­˜ç©ºé—´ï¼Œå‘é€æ–¹ä¸»æœºåœ¨ç­‰åˆ°ç¡®è®¤åº”ç­”è¿”å›ä¹‹å‰ï¼Œå¿…é¡»åœ¨ç¼“å†²åŒºä¸­ä¿ç•™å·²å‘é€çš„æ•°æ®ã€‚å¦‚æœæŒ‰æœŸæ”¶åˆ°ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶æ•°æ®å°±å¯ä»¥ä»ç¼“å­˜åŒºæ¸…é™¤ã€‚</p>
<h1 id="é‡ä¼ æœºåˆ¶"><a href="#é‡ä¼ æœºåˆ¶" class="headerlink" title="é‡ä¼ æœºåˆ¶"></a>é‡ä¼ æœºåˆ¶</h1><h2 id="è¶…æ—¶é‡ä¼ "><a href="#è¶…æ—¶é‡ä¼ " class="headerlink" title="è¶…æ—¶é‡ä¼ "></a>è¶…æ—¶é‡ä¼ </h2><p>é‡ä¼ æœºåˆ¶çš„å…¶ä¸­ä¸€ä¸ªæ–¹å¼ï¼Œå°±æ˜¯åœ¨å‘é€æ•°æ®æ—¶ï¼Œè®¾å®šä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“è¶…è¿‡æŒ‡å®šçš„æ—¶é—´åï¼Œæ²¡æœ‰æ”¶åˆ°å¯¹æ–¹çš„Â ACKÂ ç¡®è®¤åº”ç­”æŠ¥æ–‡ï¼Œå°±ä¼šé‡å‘è¯¥æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è¶…æ—¶é‡ä¼ ã€‚ï¼ˆTCP ä¼šåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µå‘ç”Ÿè¶…æ—¶é‡ä¼ ï¼šæ•°æ®åŒ…ä¸¢å¤±ï¼Œç¡®è®¤åº”ç­”ä¸¢å¤±ï¼‰</p>
<h2 id="å¿«é€Ÿé‡ä¼ "><a href="#å¿«é€Ÿé‡ä¼ " class="headerlink" title="å¿«é€Ÿé‡ä¼ "></a>å¿«é€Ÿé‡ä¼ </h2><p>å¿«é€Ÿé‡ä¼ çš„å·¥ä½œæ–¹å¼æ˜¯å½“æ”¶åˆ°ä¸‰ä¸ªç›¸åŒçš„ ACK æŠ¥æ–‡æ—¶ï¼Œä¼šåœ¨å®šæ—¶å™¨è¿‡æœŸä¹‹å‰ï¼Œé‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µã€‚</p>
<p>å¿«é€Ÿé‡ä¼ æœºåˆ¶åªè§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¶…æ—¶æ—¶é—´çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒä¾ç„¶é¢ä¸´ç€å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚å°±æ˜¯é‡ä¼ çš„æ—¶å€™ï¼Œæ˜¯é‡ä¼ ä¹‹å‰çš„ä¸€ä¸ªï¼Œè¿˜æ˜¯é‡ä¼ æ‰€æœ‰çš„é—®é¢˜ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° http 1.0ï¼Œ1.1ï¼Œ2.0 çš„ä¸»è¦åŒºåˆ«</title>
    <url>/2021/02/22/1000-018%E7%AE%80%E8%BF%B0%20HTTP%201.0%EF%BC%8C1.1%EF%BC%8C2.0%20%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<h1 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h1><p>http1.0 åˆ° http1.1 çš„ä¸»è¦åŒºåˆ«ï¼Œå°±æ˜¯ä»æ— è¿æ¥åˆ°é•¿è¿æ¥ã€‚<br>http2.0 å¯¹æ¯” 1.X ç‰ˆæœ¬ä¸»è¦åŒºåˆ«å°±æ˜¯å¤šè·¯å¤ç”¨ã€‚</p>
<h1 id="http-1-0-ç‰¹æ€§"><a href="#http-1-0-ç‰¹æ€§" class="headerlink" title="http 1.0 ç‰¹æ€§"></a>http 1.0 ç‰¹æ€§</h1><h2 id="1-æ— çŠ¶æ€"><a href="#1-æ— çŠ¶æ€" class="headerlink" title="1. æ— çŠ¶æ€"></a>1. æ— çŠ¶æ€</h2><p>æœåŠ¡å™¨ä¸è·Ÿè¸ªä¸è®°å½•è¯·æ±‚è¿‡çš„çŠ¶æ€<br>å¯¹äºæ— çŠ¶æ€çš„ç‰¹æ€§å¯ä»¥å€ŸåŠ© cookie/session æœºåˆ¶æ¥åšèº«ä»½è®¤è¯å’ŒçŠ¶æ€è®°å½•</p>
<h2 id="2-æ— è¿æ¥"><a href="#2-æ— è¿æ¥" class="headerlink" title="2. æ— è¿æ¥"></a>2. æ— è¿æ¥</h2><p>æµè§ˆå™¨æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦å»ºç«‹ tcp è¿æ¥</p>
<p>æ— è¿æ¥å¯¼è‡´çš„æ€§èƒ½ç¼ºé™·æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>æ— æ³•å¤ç”¨è¿æ¥<br>æ¯æ¬¡å‘é€è¯·æ±‚ï¼Œéƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡ tcp è¿æ¥ï¼ˆå³ 3 æ¬¡æ¡æ‰‹ 4 æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œä½¿å¾—ç½‘ç»œçš„åˆ©ç”¨ç‡éå¸¸ä½</li>
<li>é˜Ÿå¤´é˜»å¡<br>http1.0 è§„å®šåœ¨å‰ä¸€ä¸ªè¯·æ±‚å“åº”åˆ°è¾¾ä¹‹åä¸‹ä¸€ä¸ªè¯·æ±‚æ‰èƒ½å‘é€ï¼Œå¦‚æœå‰ä¸€ä¸ªé˜»å¡ï¼Œåé¢çš„è¯·æ±‚ä¹Ÿç»™é˜»å¡çš„</li>
</ol>
<h1 id="http-1-1-ç‰¹æ€§"><a href="#http-1-1-ç‰¹æ€§" class="headerlink" title="http 1.1 ç‰¹æ€§"></a>http 1.1 ç‰¹æ€§</h1><p>ä¸ºäº†è§£å†³ http1.0 çš„æ€§èƒ½ç¼ºé™·ï¼Œhttp1.1 å‡ºç°äº†</p>
<h2 id="1-é•¿è¿æ¥"><a href="#1-é•¿è¿æ¥" class="headerlink" title="1. é•¿è¿æ¥"></a>1. é•¿è¿æ¥</h2><p>http1.1 é»˜è®¤ä¿æŒé•¿è¿æ¥ï¼Œæ•°æ®ä¼ è¾“å®Œæˆä¿æŒ tcp è¿æ¥ä¸æ–­å¼€,ç»§ç»­ç”¨è¿™ä¸ªé€šé“ä¼ è¾“æ•°æ®ã€‚<br>æ–°å¢ Connection å­—æ®µï¼Œå¯ä»¥è®¾ç½® keep-alive å€¼ä¿æŒè¿æ¥ä¸æ–­å¼€ã€‚</p>
<h2 id="2-ç®¡é“åŒ–"><a href="#2-ç®¡é“åŒ–" class="headerlink" title="2. ç®¡é“åŒ–"></a>2. ç®¡é“åŒ–</h2><p>åŸºäºä¸Šé¢é•¿è¿æ¥çš„åŸºç¡€ï¼Œç®¡é“åŒ–å¯ä»¥ä¸ç­‰ç¬¬ä¸€ä¸ªè¯·æ±‚å“åº”ç»§ç»­å‘é€åé¢çš„è¯·æ±‚ï¼Œä½†å“åº”çš„é¡ºåºè¿˜æ˜¯æŒ‰ç…§è¯·æ±‚çš„é¡ºåºè¿”å›ã€‚</p>
<p>åŸºäºé•¿è¿æ¥çš„åŸºç¡€ï¼Œæˆ‘ä»¬å…ˆçœ‹æ²¡æœ‰ç®¡é“åŒ–è¯·æ±‚å“åº”ï¼š<br>tcp æ²¡æœ‰æ–­å¼€ï¼Œç”¨çš„åŒä¸€ä¸ªé€šé“<br><code>è¯·æ±‚1 &gt; å“åº”1 --&gt; è¯·æ±‚2 &gt; å“åº”2 --&gt; è¯·æ±‚3 &gt; å“åº”3</code></p>
<p>ç®¡é“åŒ–çš„è¯·æ±‚å“åº”ï¼š<br><code>è¯·æ±‚1 --&gt; è¯·æ±‚2 --&gt; è¯·æ±‚3 &gt; å“åº”1 --&gt; å“åº”2 --&gt; å“åº”3</code><br>å³ä½¿æœåŠ¡å™¨å…ˆå‡†å¤‡å¥½å“åº” 2,ä¹Ÿæ˜¯æŒ‰ç…§è¯·æ±‚é¡ºåºå…ˆè¿”å›å“åº” 1<br>è™½ç„¶ç®¡é“åŒ–ï¼Œå¯ä»¥ä¸€æ¬¡å‘é€å¤šä¸ªè¯·æ±‚ï¼Œä½†æ˜¯å“åº”ä»æ˜¯é¡ºåºè¿”å›ï¼Œä»ç„¶æ— æ³•è§£å†³é˜Ÿå¤´é˜»å¡çš„é—®é¢˜</p>
<h2 id="3-ç¼“å­˜å¤„ç†"><a href="#3-ç¼“å­˜å¤„ç†" class="headerlink" title="3. ç¼“å­˜å¤„ç†"></a>3. ç¼“å­˜å¤„ç†</h2><p>å½“æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶ï¼Œå…ˆçœ‹æ˜¯å¦æœ‰ç¼“å­˜çš„èµ„æºï¼Œå¦‚æœæœ‰ç¼“å­˜ï¼Œç›´æ¥å–ï¼Œä¸ä¼šå†å‘è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œåˆ™å‘é€è¯·æ±‚ã€‚<br>æ–°å¢å­—æ®µ cache-control æ¥æ§åˆ¶</p>
<h2 id="4-æ–­ç‚¹ä¼ è¾“"><a href="#4-æ–­ç‚¹ä¼ è¾“" class="headerlink" title="4. æ–­ç‚¹ä¼ è¾“"></a>4. æ–­ç‚¹ä¼ è¾“</h2><p>åœ¨ä¸Šä¼ /ä¸‹è½½èµ„æºæ—¶ï¼Œå¦‚æœèµ„æºè¿‡å¤§ï¼Œå°†å…¶åˆ†å‰²ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸Šä¼ /ä¸‹è½½ï¼Œå¦‚æœé‡åˆ°ç½‘ç»œæ•…éšœï¼Œå¯ä»¥ä»å·²ç»ä¸Šä¼ /ä¸‹è½½å¥½çš„åœ°æ–¹ç»§ç»­è¯·æ±‚ï¼Œä¸ç”¨ä»å¤´å¼€å§‹ï¼Œæé«˜æ•ˆç‡<br>åœ¨ Header é‡Œä¸¤ä¸ªå‚æ•°å®ç°çš„ï¼Œå®¢æˆ·ç«¯å‘è¯·æ±‚æ—¶å¯¹åº”çš„æ˜¯ Range æœåŠ¡å™¨ç«¯å“åº”æ—¶å¯¹åº”çš„æ˜¯ Content-Range</p>
<h1 id="http-2-0-ç‰¹æ€§"><a href="#http-2-0-ç‰¹æ€§" class="headerlink" title="http 2.0 ç‰¹æ€§"></a>http 2.0 ç‰¹æ€§</h1><h2 id="1-äºŒè¿›åˆ¶åˆ†å¸§"><a href="#1-äºŒè¿›åˆ¶åˆ†å¸§" class="headerlink" title="1. äºŒè¿›åˆ¶åˆ†å¸§"></a>1. äºŒè¿›åˆ¶åˆ†å¸§</h2><p>å°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§,å¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–ç </p>
<h2 id="2-å¤šè·¯å¤ç”¨"><a href="#2-å¤šè·¯å¤ç”¨" class="headerlink" title="2. å¤šè·¯å¤ç”¨"></a>2. å¤šè·¯å¤ç”¨</h2><p>åœ¨å…±äº« TCP é“¾æ¥çš„åŸºç¡€ä¸ŠåŒæ—¶å‘é€è¯·æ±‚å’Œå“åº”<br>ä¸€ä¸ª Tcp ä¸­å¤šä¸ª http è¯·æ±‚æ˜¯å¹¶è¡Œçš„</p>
<h2 id="3-å¤´éƒ¨å‹ç¼©"><a href="#3-å¤´éƒ¨å‹ç¼©" class="headerlink" title="3. å¤´éƒ¨å‹ç¼©"></a>3. å¤´éƒ¨å‹ç¼©</h2><p>http2.0 ä½¿ç”¨ encoder æ¥å‡å°‘éœ€è¦ä¼ è¾“çš„ header å¤§å°ï¼Œé€šè®¯åŒæ–¹å„è‡ª cache ä¸€ä»½ header fields è¡¨ï¼Œæ—¢é¿å…äº†é‡å¤ header çš„ä¼ è¾“ï¼Œåˆå‡å°äº†éœ€è¦ä¼ è¾“çš„å¤§å°ã€‚</p>
<h2 id="4-æœåŠ¡å™¨æ¨é€"><a href="#4-æœåŠ¡å™¨æ¨é€" class="headerlink" title="4. æœåŠ¡å™¨æ¨é€"></a>4. æœåŠ¡å™¨æ¨é€</h2><p>æœåŠ¡å™¨å¯ä»¥é¢å¤–çš„å‘å®¢æˆ·ç«¯æ¨é€èµ„æºï¼Œè€Œæ— éœ€å®¢æˆ·ç«¯æ˜ç¡®çš„è¯·æ±‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° TCP çš„ TIME_WAIT</title>
    <url>/2021/02/22/1000-019%E7%AE%80%E8%BF%B0%20TCP%20%E7%9A%84%20TIME_WAIT/</url>
    <content><![CDATA[<h1 id="ä¸ºä»€ä¹ˆ-TIME-WAIT"><a href="#ä¸ºä»€ä¹ˆ-TIME-WAIT" class="headerlink" title="ä¸ºä»€ä¹ˆ TIME_WAIT"></a>ä¸ºä»€ä¹ˆ TIME_WAIT</h1><p>ä¸»åŠ¨å…³é—­è¿æ¥çš„ä¸€æ–¹æœ€ç»ˆè¿›å…¥ <code>TIME_WAIT</code> çŠ¶æ€ç­‰å¾…ä¸€æ®µæ‰çœŸæ­£çš„é‡Šæ”¾å†…æ ¸ä¸­çš„è¿æ¥è®°å½•ï¼Œåœ¨é‡Šæ”¾è®°å½•ä¹‹å‰è¿™ä¸ªè¿æ¥ä½¿ç”¨çš„æœ¬åœ°ç«¯å£å°†ä¸€ç›´è¢«å ç”¨ã€‚<br>ä¿æŒä¸€æ®µæ—¶é—´çš„ <code>TIME_WAIT</code> çš„ç†ç”±æ˜¯ï¼šæ‹…å¿ƒ <code>ack N+1</code> æ²¡æœ‰é€è¾¾ï¼Œå¯¼è‡´è¢«åŠ¨æ–¹é‡ä¼  <code>FIN N</code>ï¼Œé‚£ä¹ˆä¸»åŠ¨æ–¹åº”å½“å†æ¬¡å“åº” <code>ack N+1</code>ã€‚<br>å¦‚æœæ²¡æœ‰ <code>TIME_WAIT</code> å°±ç›´æ¥å¤ç”¨è¯¥è¿æ¥å ç”¨çš„ç«¯å£ï¼Œé‚£ä¹ˆä¸‡ä¸€è¢«åŠ¨æ–¹é‡ä¼ <code>FIN N</code>ï¼Œé‚£ä¹ˆä½¿ç”¨ç›¸åŒç«¯å£çš„æ–°è¿æ¥å°±ä¼šè¢«é”™è¯¯å…³é—­ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/m8c6bs.png"
                      alt="å››æ¬¡æŒ¥æ‰‹"
                ></p>
<h1 id="ä¼˜åŒ–-TIME-WAIT"><a href="#ä¼˜åŒ–-TIME-WAIT" class="headerlink" title="ä¼˜åŒ– TIME_WAIT"></a>ä¼˜åŒ– TIME_WAIT</h1><p>è°ä¸»åŠ¨å…³é—­ <code>socket</code>ï¼Œè°<code>TIME_WAIT</code>ã€‚<br>å¦‚æœåŒæ–¹å“åº”æ­£å¸¸ï¼ŒTIME_WAIT åº”è¯¥åªæ˜¯ç¬é—´çŠ¶æ€ã€‚</p>
<h1 id="æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­"><a href="#æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­" class="headerlink" title="æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­"></a>æœåŠ¡ç«¯ä¸»åŠ¨å…³é—­</h1><p>æ— è®ºæœ‰å¤šå°‘è¿æ¥ï¼ŒæœåŠ¡ç«¯éƒ½åªæœ‰ä¸€ä¸ªç«¯å£ï¼Œé‚£å°±æ˜¯ç›‘å¬ç«¯å£ï¼Œå¤§é‡è¿æ¥ä¹‹é—´çš„å·®å¼‚ä»…ä»…æ˜¯ TCP 4 å…ƒç¥–çš„å®¢æˆ·ç«¯ ip å’Œ port ä¸åŒè€Œå·²ã€‚</p>
<p>å› æ­¤æœåŠ¡ç«¯<code>TIME_WAIT</code>å‹æ ¹ä¸ä¼šè€—å°½ç«¯å£ï¼Œå› ä¸ºå®ƒå°±ä¸€ä¸ªç«¯å£ã€‚</p>
<p>é‚£ä¹ˆæœåŠ¡ç«¯å°±ä¸éœ€è¦ä¼˜åŒ–äº†å—ï¼Ÿå¯¹ï¼Œæ²¡å¿…è¦ä¼˜åŒ–ï¼Œä¸€ä¸ª<code>TIME_WAIT</code>çš„ 4 å…ƒç¥–å½“é‡åˆ°æ–°çš„ SYN æ—¶ä¼šå¤ç”¨ï¼Œä¸éœ€è¦ç‰¹æ®Šé…ç½®ã€‚</p>
<p>å¦å¤–ï¼Œå½“<code>TIME_WAIT</code>æ•°é‡è¶…è¿‡å†…æ ¸é€‰é¡¹ net.ipv4.tcp_max_tw_buckets çš„é™åˆ¶æ—¶ï¼Œå¤šä½™çš„<code>TIME_WAIT</code>è¿æ¥å°†è¢«ç«‹å³å…³é—­ï¼Œç„¶ååœ¨ netstat -s ä¸­ç•™ä¸‹å¦‚ä¸‹çš„æº¢å‡ºç»Ÿè®¡æŒ‡æ ‡ï¼š</p>
<h1 id="å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­"><a href="#å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­" class="headerlink" title="å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­"></a>å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­</h1><p>å®¢æˆ·ç«¯æ¯ä¸ªè¿æ¥éƒ½ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªæœ¬åœ°ç«¯å£ï¼Œæ‰€ä»¥æœ€ç»ˆä¼šå¯¼è‡´å®¢æˆ·ç«¯å¤§é‡ç«¯å£å¤„äº TIME_WAIT çŠ¶æ€ï¼Œè¿™å’ŒæœåŠ¡ç«¯ä¸»åŠ¨å…³é—­æ˜¯æœ€å¤§çš„ä¸åŒã€‚<br>æ‰€ä»¥æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ TIME_WAIT é—®é¢˜éƒ½æ˜¯é’ˆå¯¹å®¢æˆ·ç«¯çš„ï¼Œåªæ˜¯å¥½åƒå¾ˆå°‘æœ‰äººæåŠè¿™ä¸€ç‚¹ã€‚<br>ç½‘ä¸Šæœ‰ä¸€ç§ä¼˜åŒ–æ‰‹æ®µæ˜¯æŠŠ net.ipv4.tcp_max_tw_buckets è°ƒä½ï¼Œè¿™æ · TIME_WAIT è¿æ¥å°±ä¼šè¢«åˆ é™¤ï¼Œä½†æ˜¯è¿™ä¸æ˜¯ä¸€ä¸ªæœ€ä½³æ‰‹æ®µå“ˆã€‚</p>
<p>ç›®å‰å”¯ä¸€å®‰å…¨çš„é€‰é¡¹å°±æ˜¯åŒæ—¶å¼€å¯å¦‚ä¸‹ 2 ä¸ªé€‰é¡¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">net.ipv4.tcp_timestamps&#x3D;1ï¼ˆè¿æ¥å‘èµ·æ–¹å’Œæ¥æ”¶æ–¹éƒ½éœ€è¦å¼€å¯ï¼‰</span><br><span class="line">net.ipv4.tcp_tw_reuse&#x3D;1ï¼ˆåªå½±å“è¿æ¥å‘èµ·æ–¹ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°é…ç½®åªå½±å“è¿æ¥å‘èµ·æ–¹ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ï¼Œå¯¹æœåŠ¡ç«¯æ˜¯æ— æ•ˆçš„ã€‚<br>å®ƒçš„ä½œç”¨æ˜¯å‘å¤–å‘èµ·è¿æ¥çš„æ—¶å€™ï¼Œå¯ä»¥å¤ç”¨ TIME_WAIT çš„ç«¯å£ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå‰æ<br>è¯¥ç«¯å£æœ€åä¸€æ¬¡é€šè®¯æ—¶é—´è·ç¦»å½“å‰ç³»ç»Ÿæ—¶é—´&gt;1 ç§’</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://yuerblog.cc/2020/03/09/%E5%85%B3%E4%BA%8Etime_wait%E9%97%AE%E9%A2%98%E7%AE%80%E8%BF%B0%E4%B8%8E%E4%BC%98%E5%8C%96/" >https://yuerblog.cc/2020/03/09/å…³äºtime_waité—®é¢˜ç®€è¿°ä¸ä¼˜åŒ–/<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>å››æ¬¡æŒ¥æ‰‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•é˜²æ­¢æ”»å‡»ï¼Ÿ</title>
    <url>/2021/02/23/1000-020%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%EF%BC%9F%E5%A6%82%E4%BD%95%E9%98%B2%E6%AD%A2%E6%94%BB%E5%87%BB%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿ</h1><p>A &lt;â€”-&gt; B<br>A &lt;â€”-&gt; C &lt;â€”-&gt; B<br>æ­£å¸¸æ˜¯ A å’Œ B é€šä¿¡ï¼Œè¿™æ—¶ C æˆªè·äº† A å‘ç»™ B çš„æ¶ˆæ¯ï¼Œç„¶åå‡è£…æˆ A ç»™ B å‘é€æ¶ˆæ¯ã€‚</p>
<p>ä¸­é—´äººæ”»å‡»ï¼ˆè‹±è¯­ï¼šMan-in-the-middle attackï¼Œç¼©å†™ï¼šMITMï¼‰åœ¨å¯†ç å­¦å’Œè®¡ç®—æœºå®‰å…¨é¢†åŸŸä¸­æ˜¯æŒ‡æ”»å‡»è€…ä¸é€šè®¯çš„ä¸¤ç«¯åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„è”ç³»ï¼Œå¹¶äº¤æ¢å…¶æ‰€æ”¶åˆ°çš„æ•°æ®ï¼Œä½¿é€šè®¯çš„ä¸¤ç«¯è®¤ä¸ºä»–ä»¬æ­£åœ¨é€šè¿‡ä¸€ä¸ªç§å¯†çš„è¿æ¥ä¸å¯¹æ–¹ç›´æ¥å¯¹è¯ï¼Œä½†äº‹å®ä¸Šæ•´ä¸ªä¼šè¯éƒ½è¢«æ”»å‡»è€…å®Œå…¨æ§åˆ¶ã€‚<br>åœ¨ä¸­é—´äººæ”»å‡»ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥æ‹¦æˆªé€šè®¯åŒæ–¹çš„é€šè¯å¹¶æ’å…¥æ–°çš„å†…å®¹ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹è¿™æ˜¯å¾ˆç®€å•çš„ï¼ˆä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæœªåŠ å¯†çš„ Wi-Fi æ— çº¿æ¥å…¥ç‚¹çš„æ¥å—èŒƒå›´å†…çš„ä¸­é—´äººæ”»å‡»è€…ï¼Œå¯ä»¥å°†è‡ªå·±ä½œä¸ºä¸€ä¸ªä¸­é—´äººæ’å…¥è¿™ä¸ªç½‘ç»œï¼‰ã€‚<br>ä¸€ä¸ªä¸­é—´äººæ”»å‡»èƒ½æˆåŠŸçš„å‰ææ¡ä»¶æ˜¯æ”»å‡»è€…èƒ½å°†è‡ªå·±ä¼ªè£…æˆæ¯ä¸€ä¸ªå‚ä¸ä¼šè¯çš„ç»ˆç«¯ï¼Œå¹¶ä¸”ä¸è¢«å…¶ä»–ç»ˆç«¯è¯†ç ´ã€‚ä¸­é—´äººæ”»å‡»æ˜¯ä¸€ä¸ªï¼ˆç¼ºä¹ï¼‰ç›¸äº’è®¤è¯çš„æ”»å‡»ã€‚å¤§å¤šæ•°çš„åŠ å¯†åè®®éƒ½ä¸“é—¨åŠ å…¥äº†ä¸€äº›ç‰¹æ®Šçš„è®¤è¯æ–¹æ³•ä»¥é˜»æ­¢ä¸­é—´äººæ”»å‡»ã€‚ä¾‹å¦‚ï¼ŒSSL åè®®å¯ä»¥éªŒè¯å‚ä¸é€šè®¯çš„ä¸€æ–¹æˆ–åŒæ–¹ä½¿ç”¨çš„è¯ä¹¦æ˜¯å¦æ˜¯ç”±æƒå¨çš„å—ä¿¡ä»»çš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„é¢å‘ï¼Œå¹¶ä¸”èƒ½æ‰§è¡ŒåŒå‘èº«ä»½è®¤è¯ã€‚</p>
<h1 id="å¦‚ä½•é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼Ÿ"><a href="#å¦‚ä½•é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼Ÿ" class="headerlink" title="å¦‚ä½•é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼Ÿ"></a>å¦‚ä½•é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼Ÿ</h1><p>ä½¿ç”¨ç”± CA (æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ Certificate Authority)ç­¾å‘æˆ–ç­¾åçš„æ•°å­è¯ä¹¦ æ¥æä¾›è®¤è¯å’ŒåŠ å¯†ã€‚è¯ä¹¦å¿…é¡»æ”¾å…¥æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸­ã€‚</p>
<p>è¦ä¿¡ä»»æŸä¸ªè¯ä¹¦çœŸå®æœ‰æ•ˆï¼Œè¯¥è¯ä¹¦å¿…é¡»é€šè¿‡å±äºå¯ä¿¡è®¤è¯ä¸­å¿ƒ (CA) çš„æ ¹è¯ä¹¦è¿›è¡Œæ•°å­—ç­¾åã€‚æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨ç»´æŠ¤æœ‰å¯ä¿¡ CA æ ¹è¯ä¹¦çš„åˆ—è¡¨ï¼Œä»¥ä¾¿å¯ä»¥è½»æ¾éªŒè¯ CA ç­¾å‘å’Œç­¾åçš„è¯ä¹¦ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB" >https://zh.wikipedia.org/wiki/ä¸­é—´äººæ”»å‡»<i class="fas fa-external-link-alt"></i></a> <a class="link"   href="https://cloud.ibm.com/docs/mobilefoundation?topic=mobilefoundation-prevent_man_in_the_middle_attack&amp;locale=zh-CN" >https://cloud.ibm.com/docs/mobilefoundation?topic=mobilefoundation-prevent_man_in_the_middle_attack&amp;locale=zh-CN<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
  </entry>
  <entry>
    <title>RxSwift-Observableè®¢é˜…ã€ç›‘å¬</title>
    <url>/2020/11/12/200-RxSwift-Observable%E8%AE%A2%E9%98%85%E3%80%81%E7%9B%91%E5%90%AC/</url>
    <content><![CDATA[<h3 id="è®¢é˜…"><a href="#è®¢é˜…" class="headerlink" title="è®¢é˜…"></a>è®¢é˜…</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç›´æ¥è®¢é˜…æ‰€æœ‰çš„</span><br><span class="line">ob.subscribe &#123; event in</span><br><span class="line">    print(&quot;äº‹ä»¶&quot;, event)</span><br><span class="line">&#x2F;&#x2F; é€šè¿‡ event.element å¯ä»¥è·å–å€¼</span><br><span class="line">    print(&quot;å€¼æ˜¯&quot;, event.element)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;åˆ†å¼€è®¢é˜…</span><br><span class="line">ob.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä»…è®¢é˜… onNext</span><br><span class="line">ob.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ç›‘å¬-do"><a href="#ç›‘å¬-do" class="headerlink" title="ç›‘å¬ do"></a>ç›‘å¬ do</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">ob.do &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; afterNext: &#123; element in</span><br><span class="line">    print(&quot;afterNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; afterError: &#123; error in</span><br><span class="line">    print(&quot;afterError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; afterCompleted: &#123;</span><br><span class="line">    print(&quot;afterCompleted&quot;)</span><br><span class="line">&#125; onSubscribe: &#123;</span><br><span class="line">    print(&quot;onSubscribe&quot;)</span><br><span class="line">&#125; onSubscribed: &#123;</span><br><span class="line">    print(&quot;onSubscribed&quot;)</span><br><span class="line">&#125; onDispose: &#123;</span><br><span class="line">    print(&quot;onDispose&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿™é‡Œæ˜¯è®¢é˜…éƒ¨åˆ†</span><br><span class="line">.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-Singleã€Completabã€Maybe</title>
    <url>/2020/11/22/200-RxSwift-Single%E3%80%81Completab%E3%80%81Maybe/</url>
    <content><![CDATA[<h1 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h1><p>åªå‘å‡ºä¸€æ¬¡äº‹ä»¶ï¼Œå¸¸ç”¨äºç½‘ç»œè¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum DataError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getData() -&gt; Single&lt;[String: Any]&gt; &#123;</span><br><span class="line">    return Single&lt;[String: Any]&gt;.create &#123; (single) -&gt; Disposable in</span><br><span class="line">        single(.success([&quot;&quot;: 1]))</span><br><span class="line">&#x2F;&#x2F;                single(.error(DataError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData().subscribe &#123; req in</span><br><span class="line">    switch req &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Completable"><a href="#Completable" class="headerlink" title="Completable"></a>Completable</h1><p>åªä¼šå‘å‡º<code>completed</code>æˆ–<code>error</code> äº‹ä»¶ï¼Œç”¨äºåªå…³å¿ƒæ“ä½œç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func cancel() -&gt; Completable &#123;</span><br><span class="line">    return Completable.create &#123; (comp) -&gt; Disposable in</span><br><span class="line">        comp(.completed)</span><br><span class="line">&#x2F;&#x2F;                comp(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cancel().subscribe &#123; rep in</span><br><span class="line">    switch rep &#123;</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;æˆåŠŸ&quot;)</span><br><span class="line">    case let .error(error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Maybe"><a href="#Maybe" class="headerlink" title="Maybe"></a>Maybe</h1><p>ä¹Ÿæ˜¯åªèƒ½å‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œæ­£å¸¸çš„<code>event</code>æˆ–<code>completed </code>æˆ–<code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">func test() -&gt; Maybe&lt;String&gt; &#123;</span><br><span class="line">    return Maybe&lt;String&gt;.create &#123; (mayBe) -&gt; Disposable in</span><br><span class="line">        mayBe(.success(&quot;æˆåŠŸ&quot;))</span><br><span class="line">&#x2F;&#x2F;                mayBe(.completed)</span><br><span class="line">&#x2F;&#x2F;                mayBe(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().subscribe &#123; event in</span><br><span class="line">    switch event &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;completed&quot;)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—</title>
    <url>/2020/11/11/200-RxSwift-%E5%88%9B%E5%BB%BA%E5%8F%AF%E8%A7%82%E5%AF%9F%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h3 id="empty-æ–¹æ³•åˆå§‹åŒ–"><a href="#empty-æ–¹æ³•åˆå§‹åŒ–" class="headerlink" title="empty() æ–¹æ³•åˆå§‹åŒ–"></a>empty() æ–¹æ³•åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºäº†ä¸€ä¸ªç©ºå†…å®¹çš„ Observable</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.empty()</span><br><span class="line">&#x2F;&#x2F; å…ˆç®€å•çš„å†™ä¸€ç§è®¢é˜…çš„æ–¹æ³•</span><br><span class="line">ob.subscribe &#123; print(&quot;æ‰§è¡Œäº†&quot;) &#125;</span><br></pre></td></tr></table></figure>

<h3 id="just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"><a href="#just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–" class="headerlink" title="just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"></a>just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™é‡Œä¸ç”¨ç»™å®šæ³›å‹ï¼Œä¼šæ ¹æ® just è‡ªåŠ¨æ¨å€’å‡º</span><br><span class="line">let ob &#x3D; Observable.just(&quot;åˆå§‹åŒ–é»˜è®¤å€¼&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"><a href="#of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹" class="headerlink" title="of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"></a>of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;å¯&quot;, &quot;å˜&quot;, &quot;æ•°&quot;, &quot;é‡&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"><a href="#from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"></a>from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.from([&quot;æ•°&quot;, &quot;ç»„&quot;])</span><br></pre></td></tr></table></figure>

<h3 id="never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—"><a href="#never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—" class="headerlink" title="never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—"></a>never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Any&gt;.never()</span><br></pre></td></tr></table></figure>

<h3 id="error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"><a href="#error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯" class="headerlink" title="error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"></a>error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum OBError: Error &#123;</span><br><span class="line">    case abc</span><br><span class="line">&#125;</span><br><span class="line">let ob &#x3D; Observable&lt;OBError&gt;.error(OBError.abc)</span><br></pre></td></tr></table></figure>

<h3 id="interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"><a href="#interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡" class="headerlink" title="interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"></a>interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>

<h3 id="timer-å®šæ—¶å‘é€"><a href="#timer-å®šæ—¶å‘é€" class="headerlink" title="timer() å®šæ—¶å‘é€"></a>timer() å®šæ—¶å‘é€</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œä»…å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, scheduler: MainScheduler.instance)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œæ¯ 2 ç§’å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, period: 2, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å‘é€ã€è®¢é˜…-Subjectsã€Variables</title>
    <url>/2020/11/15/200-RxSwift-%E5%8F%91%E9%80%81%E3%80%81%E8%AE%A2%E9%98%85-Subjects%E3%80%81Variables/</url>
    <content><![CDATA[<h1 id="Subjects-ä»‹ç»"><a href="#Subjects-ä»‹ç»" class="headerlink" title="Subjects ä»‹ç»"></a>Subjects ä»‹ç»</h1><h3 id="1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"><a href="#1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable" class="headerlink" title="1. Subjects æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"></a>1. <code>Subjects</code> æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯<code>Observable</code></h3><ul>
<li>è®¢é˜…è€…ï¼šå®ƒèƒ½åŠ¨æ€çš„æ¥æ”¶æ–°çš„å€¼ã€‚</li>
<li><code>Observable</code>ï¼š å½“<code>Subjects</code>æœ‰äº†æ–°å€¼åä¼šé€šè¿‡<code>Event</code>å°†æ–°å€¼å‘å‡ºç»™ä»–çš„æ‰€æœ‰è®¢é˜…è€…ã€‚</li>
</ul>
<hr>
<h3 id="2-å¸¸ç”¨çš„æ–¹æ³•"><a href="#2-å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="2. å¸¸ç”¨çš„æ–¹æ³•"></a>2. å¸¸ç”¨çš„æ–¹æ³•</h3><p><code>onNext(:)ï¼š</code>æ˜¯<code> on(.next(:))</code> çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code>.next</code> äº‹ä»¶ã€‚<br><code>onError(:)ï¼š</code>æ˜¯<code>on(.error(:))</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code> .error</code> äº‹ä»¶ã€‚<br><code>onCompleted()ï¼š</code>æ˜¯ <code>on(.completed)</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª <code>.completed</code>äº‹ä»¶ã€‚</p>
<hr>
<h3 id="3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"><a href="#3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable" class="headerlink" title="3. Subjects æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"></a>3. <code>Subjects</code> æœ‰å››ç§<code>PublishSubject</code>ã€<code>BehaviorSubject</code>ã€<code>ReplaySubject</code>ã€<code>Variable</code></h3><h5 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h5><ul>
<li>éƒ½æ˜¯<code>Observable</code>ï¼Œä»–ä»¬çš„è®¢é˜…è€…éƒ½èƒ½æ¥æ”¶ä»–ä»¬å‘å‡ºçš„æ–°çš„<code>Event</code></li>
<li>ç›´åˆ° <code>Subject</code> å‘å‡º <code>.complete</code> æˆ–è€… <code>.error</code> çš„ <code>Event</code> åï¼Œè¯¥ <code>Subject</code> ä¾¿ç»ˆç»“äº†ï¼ŒåŒæ—¶å®ƒä¹Ÿå°±ä¸ä¼šå†å‘å‡º<code>.next</code>äº‹ä»¶ã€‚</li>
<li>å¯¹äºé‚£äº›åœ¨<code> Subject</code> ç»ˆç»“åå†è®¢é˜…ä»–çš„è®¢é˜…è€…ï¼Œä¹Ÿèƒ½æ”¶åˆ° <code>subject</code>å‘å‡ºçš„ä¸€æ¡<code> .complete</code> æˆ–<code> .error</code>çš„<code> event</code>ï¼Œå‘Šè¯‰è¿™ä¸ªæ–°çš„è®¢é˜…è€…å®ƒå·²ç»ç»ˆç»“äº†ã€‚<h5 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h5></li>
<li> <code>PublishSubject</code><br>æœ€æ™®é€šçš„<code>Subject</code>ï¼Œä¸éœ€è¦åˆå§‹å€¼å°±èƒ½åˆå§‹åŒ–ã€‚<br>ä»–çš„è®¢é˜…è€…åªèƒ½æ”¶åˆ°ä»–ä»¬è®¢é˜…åçš„ <code>Event</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹å‰çš„ä¸èƒ½æ¥æ”¶åˆ°&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event.element)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;nil</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;ç»“æŸ</span><br><span class="line">sub.onCompleted()</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»“æŸä¹‹åæ·»åŠ çš„è®¢é˜…èƒ½æ”¶åˆ° completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;ç»“æŸåå‘çš„éƒ½æ”¶ä¸åˆ°&quot;)</span><br></pre></td></tr></table></figure></li>
<li><code>BehaviorSubject</code><br>éœ€è¦ä¸€ä¸ªé»˜è®¤å€¼åˆå§‹åŒ–<br>å½“ä¸€ä¸ªè®¢é˜…è€…è®¢é˜…ä¹‹åä¼šç«‹é©¬æ”¶åˆ°ä¸Šä¸€ä¸ª<code>Event</code>ï¼Œä¹‹åå°±æ˜¯æ­£å¸¸æƒ…å†µå‘ä¸€ä¸ªæ”¶ä¸€ä¸ªã€‚<br><code>onCompleted()</code>ä¹‹åçš„è®¢é˜…è€…ä¹Ÿåªèƒ½æ”¶åˆ°<code>Completed</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorSubject(value: &quot;é»˜è®¤å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(é»˜è®¤å€¼)</span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br></pre></td></tr></table></figure></li>
<li><code>ReplaySubject</code><br>åˆ›å»ºçš„æ—¶å€™éœ€è¦ä¸€ä¸ªå‚æ•°<code>bufferSize</code>è®¾ç½®è®°å½•ä¸ªæ•°<br>æ–°æ·»åŠ çš„è®¢é˜…ä¼šæ¥æ”¶åˆ°ä¹‹å‰å‘é€çš„ä¸¤ä¸ª  <code>Event</code>ï¼Œå¦‚æœä¸è¶³ä¸¤ä¸ªå°±åªæ¥æ”¶ä¸€ä¸ªã€‚<br>å¦‚æœè¶…è¿‡ä¸¤ä¸ªåªæ¥æ”¶æœ€æ–°çš„ä¸¤ä¸ªã€‚<br>å¦‚æœè®¢é˜…æ—¶å·²ç»ç»“æŸé™¤äº†ä¼šæ¥æ”¶åˆ°æœ€æ–°çš„ä¸¤ä¸ª<code>Event</code>å¤–è¿˜æœ‰ç»“æŸçš„<code>complete </code>æˆ–<code>error </code>ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; ReplaySubject&lt;String&gt;.create(bufferSize: 2)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€3&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€4&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸ä»…ä¼šæ”¶åˆ°æœ€åçš„ä¸¤ä¸ª event è¿˜æœ‰ Completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…4&quot;, event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 next(å‘é€2)</span><br><span class="line">è®¢é˜…2 next(å‘é€2)</span><br><span class="line">è®¢é˜…1 next(å‘é€3)</span><br><span class="line">è®¢é˜…2 next(å‘é€3)</span><br><span class="line">è®¢é˜…1 next(å‘é€4)</span><br><span class="line">è®¢é˜…2 next(å‘é€4)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…3 next(å‘é€3)</span><br><span class="line">è®¢é˜…3 next(å‘é€4)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…4 next(å‘é€3)</span><br><span class="line">è®¢é˜…4 next(å‘é€4)</span><br><span class="line">è®¢é˜…4 completed</span><br></pre></td></tr></table></figure>
<ul>
<li><code>BehaviorRelay </code><br>åŸºæœ¬åŒ <code>BehaviorSubject </code>åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯ä¸èƒ½ä¸»åŠ¨è°ƒç”¨<code>onCompleted</code>å’Œ<code>error </code>ï¼Œä¼šåœ¨<code>BehaviorRelay </code>é‡Šæ”¾å‰è°ƒç”¨<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorRelay(value: &quot;åˆå§‹å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬ä¸€æ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.accept(&quot;æ–°å€¼1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬äºŒæ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>









</li>
</ul>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å»¶è¿Ÿã€è¶…æ—¶ã€delayã€timeout</title>
    <url>/2020/11/20/200-RxSwift-%E5%BB%B6%E8%BF%9F%E3%80%81%E8%B6%85%E6%97%B6%E3%80%81delay%E3%80%81timeout/</url>
    <content><![CDATA[<h1 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h1><p>å¯¹æ‰€æœ‰å‘é€äº‹ä»¶(åŒ…æ‹¬<code>onCompleted</code>)åå»¶è¿Ÿ n ç§’æ¥æ”¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.delay(RxTimeInterval.seconds(2), scheduler: MainScheduler.asyncInstance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€äº†&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="timeout"><a href="#timeout" class="headerlink" title="timeout"></a>timeout</h1><p> è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è§„å®šæ—¶é—´çš„äº‹ä»¶å°†å‘é€  <code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.timeout(RxTimeInterval.seconds(3), scheduler: MainScheduler.instance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 4) &#123;</span><br><span class="line">    ob.onNext(&quot;è¶…æ—¶å‘é€&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;next(å‘é€1)</span><br><span class="line">&#x2F;&#x2F;error(Sequence timeout.)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-æ’å…¥å‘é€åˆå¹¶å‹ç¼©-startWithã€mergeã€zipignoreElement</title>
    <url>/2020/11/18/200-RxSwift-%E6%8F%92%E5%85%A5%E5%8F%91%E9%80%81%E5%90%88%E5%B9%B6%E5%8E%8B%E7%BC%A9-startWith%E3%80%81merge%E3%80%81zip/</url>
    <content><![CDATA[<h1 id="startWith"><a href="#startWith" class="headerlink" title="startWith"></a>startWith</h1><p>åœ¨è®¢é˜…çš„æ—¶å€™æ’å…¥å‘é€äº‹ä»¶ï¼ŒååŠ å…¥çš„å…ˆå‘é€ã€‚å®Œæˆäº‹ä»¶å‘é€æ—¶ä¸ä¼šæ’å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.startWith(&quot;æ’å…¥1&quot;).startWith(&quot;æ’å…¥2&quot;).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">æ’å…¥2</span><br><span class="line">æ’å…¥1</span><br><span class="line">å‘é€1</span><br></pre></td></tr></table></figure>

<h1 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h1><p>åˆå¹¶æ“ä½œï¼Œå°†å¤šä¸ª <code>Observable</code> åˆå¹¶æˆä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.of(ob1,ob2).merge().subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘1&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘1&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘2&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h1><p>å°† n ä¸ª<code>Observable</code>å‹ç¼©æˆä¸€ä¸ªå‘é€äº‹ä»¶ï¼Œå¿…é¡»æ¯ä¸ªéƒ½å‚ä¸çš„å‘é€å®Œæ‰ä¼šå‘é€ä¸€æ¬¡äº‹ä»¶ã€‚å‚ä¸çš„æˆå¯¹å‘é€å®Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.zip(ob1,ob2).subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob1.onNext(&quot;ob1  2&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  3&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  A&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  B&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  C&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  1&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  2&quot;, &quot;ob2  A&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  3&quot;, &quot;ob2  B&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  1&quot;, &quot;ob2  C&quot;))</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-ç»‘å®š-bindã€bindToã€Binder</title>
    <url>/2020/11/13/200-RxSwift-%E7%BB%91%E5%AE%9A-bind%E3%80%81bindTo%E3%80%81Binder/</url>
    <content><![CDATA[<h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">&#x2F;&#x2F; å¯¹å€¼è¿›ä¸€æ­¥å¤„ç†ç„¶åè¿”å›</span><br><span class="line">    &quot;count &quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind &#123; text in</span><br><span class="line">    countLab.text &#x3D; text</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">ob.bind &#123; x in</span><br><span class="line">    print(x)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h3 id="Binder-bindTo"><a href="#Binder-bindTo" class="headerlink" title="Binder + bindTo"></a>Binder + bindTo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">let observer: Binder&lt;String&gt; &#x3D; Binder(countLab) &#123; lab, text in</span><br><span class="line">    lab.text &#x3D; text</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">    &quot;c&quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind(to: observer)</span><br><span class="line">.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è‡ªå®šä¹‰å¯ç»‘å±æ€§</title>
    <url>/2020/11/14/200-RxSwift-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%AF%E7%BB%91%E5%B1%9E%E6%80%A7/</url>
    <content><![CDATA[<h3 id="å¯¹-Reactive-è¿›è¡Œæ‰©å±•"><a href="#å¯¹-Reactive-è¿›è¡Œæ‰©å±•" class="headerlink" title="å¯¹ Reactive è¿›è¡Œæ‰©å±•"></a>å¯¹ Reactive è¿›è¡Œæ‰©å±•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»™ UILabel å¢åŠ äº† fontSize å¯ç»‘å±æ€§</span><br><span class="line">extension Reactive where Base: UILabel &#123;</span><br><span class="line">    public var fontSize: Binder&lt;CGFloat&gt; &#123;</span><br><span class="line">        return Binder(base) &#123; lab, size in</span><br><span class="line">            lab.font &#x3D; UIFont.systemFont(ofSize: size)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">ob.map &#123; CGFloat($0) + 10.0 &#125;</span><br><span class="line">    .bind(to: lab.rx.fontSize) &#x2F;&#x2F; è¿™é‡Œè¦ä½¿ç”¨ .rx</span><br><span class="line">    .disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤1-mapã€bufferã€filter</title>
    <url>/2020/11/16/200-RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A41-map%E3%80%81buffer%E3%80%81filter/</url>
    <content><![CDATA[<h1 id="map"><a href="#map" class="headerlink" title="map"></a>map</h1><p>åŒ <code>Swift</code>ä¸­ <code>map</code> ç”¨æ³•ä¸€æ ·ï¼Œå¯¹å€¼è¿›è¡Œå¤„ç†å¹¶è¿”å›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.map &#123; $0 + &quot;mmmmm&quot; &#125;</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(event.element)</span><br><span class="line">    &#125;</span><br><span class="line">    .disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;a&quot;)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;ammmmm&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="buffer"><a href="#buffer" class="headerlink" title="buffer"></a>buffer</h1><p><code>timeSpan </code> ç¼“å­˜é—´éš”æ—¶é—´ã€              <code>count </code>ç¼“å­˜ä¸ªæ•° ã€  <code>scheduler </code>çº¿ç¨‹<br>å‘é€ä¸¤ä¸ª<code>event</code>åä¼šè§¦å‘è®¢é˜…ã€‚æ»¡ 2 ç§’ä¹Ÿä¼šè§¦å‘è®¢é˜… ï¼Œå¦‚æœ<code>event</code> æ²¡æœ‰å‘é€ç©ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">sub.buffer(timeSpan: 2, count: 2, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">    &#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h1><p>è¿‡æ»¤ åŒ<code>Swift</code>ä¸­<code>filter</code>ä¸€æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(10, 11, 12, 99, 33, 55, 77)</span><br><span class="line">ob.filter &#123; $0 &gt; 20</span><br><span class="line">&#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤2-distinctUntilChangedã€singleã€elementAtã€ignoreElement</title>
    <url>/2020/11/17/200-RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A42-distinctUntilChanged%E3%80%81single%E3%80%81elementAt%E3%80%81ignoreElement/</url>
    <content><![CDATA[<h1 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a>distinctUntilChanged</h1><p>è¿‡æ»¤è¿ç»­é‡å¤çš„äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1, 1, 1, 3, 5, 7, 9, 9)</span><br><span class="line">ob.distinctUntilChanged().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#x2F;&#x2F;1 3 5 7 9</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="single"><a href="#single" class="headerlink" title="single"></a>single</h1><p>åªå‘é€ä¸€æ¬¡æ­£å¸¸äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…è¶…è¿‡ 1 ä¸ªä¼šå‘é€ <code>error</code> äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1,2)</span><br><span class="line">ob.single().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;,error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        1</span><br><span class="line">&#x2F;&#x2F;        é”™è¯¯ Sequence contains more than one element.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;----- single å¢åŠ è¿‡æ»¤</span><br><span class="line">let ob &#x3D; Observable.of(1, 2, 1)</span><br><span class="line">ob.single &#123; $0 &#x3D;&#x3D; 2 &#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;, error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        2</span><br></pre></td></tr></table></figure>

<h1 id="elementAt"><a href="#elementAt" class="headerlink" title="elementAt"></a>elementAt</h1><p>è·å–æŒ‡å®šä½ç½®çš„äº‹ä»¶ï¼Œ0 å¼€å§‹ã€‚ å¦‚æœæ²¡æœ‰å‘ç”Ÿè¯¥æŒ‡å®šä½ç½®äº‹ä»¶ ä¼šå‘é€é”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.elementAt(2).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>

<h1 id="ignoreElements"><a href="#ignoreElements" class="headerlink" title="ignoreElements"></a>ignoreElements</h1><p>ä¼šå¿½ç•¥æ‰€æœ‰ä¸»åŠ¨å‘é€çš„<code>event</code>äº‹ä»¶ï¼Œåªä¿ç•™ <code>error</code> äº‹ä»¶å’Œ <code>Completed</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4)</span><br><span class="line">ob.ignoreElements().subscribe &#123;</span><br><span class="line">    print(&quot;Completed&quot;)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h1 id="take"><a href="#take" class="headerlink" title="take"></a>take</h1><p>åªå–å‰ n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3)</span><br><span class="line">ob.take(2).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="takeLast"><a href="#takeLast" class="headerlink" title="takeLast"></a>takeLast</h1><p>åªå–å n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.takeLast(12).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h1><p>è·³è¿‡å‰ n ä¸ªäº‹ä»¶ï¼Œå‘é€å®Œå‰©ä¸‹çš„äº‹ä»¶åä¼šå‘é€<code>onCompleted</code>ã€‚ä¸è¶³ n ä¸ªç›´æ¥å‘é€<code>onCompleted</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4,5)</span><br><span class="line">ob.skip(4).subscribe &#123; (element) in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a>debounce</h1><p>å½“ä¸¤ä¸ªäº‹ä»¶çš„å‘é€é—´éš”å¤§äºçº¦å®šæ—¶é—´æ—¶æ‰ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ï¼Œå¸¸ç”¨çš„ä¾‹å­æ˜¯æœç´¢æ—¶å»¶è¿Ÿæœç´¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.debounce(RxTimeInterval.seconds(1), scheduler: MainScheduler.instance).subscribe(onNext: &#123; element in</span><br><span class="line">    print(&quot;æ”¶&quot;, element, CFAbsoluteTimeGetCurrent())</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">print(&quot;å‘&quot;, &quot;aaa&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">ob.onNext(&quot;aaa&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 0.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;bbb&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;bbb&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ccc&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ccc&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 3.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ddd&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ddd&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å‘ aaa 627481044.719082</span><br><span class="line">&#x2F;&#x2F;å‘ bbb 627481045.241852</span><br><span class="line">&#x2F;&#x2F;å‘ ccc 627481046.231139</span><br><span class="line">&#x2F;&#x2F;æ”¶ ccc 627481047.233378</span><br><span class="line">&#x2F;&#x2F;å‘ ddd 627481048.552644</span><br><span class="line">&#x2F;&#x2F;æ”¶ ddd 627481049.55595</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è½¬æ•°ç»„ã€ç´¯è®¡æ“ä½œ-toArrayã€reduce</title>
    <url>/2020/11/19/200-RxSwift-%E8%BD%AC%E6%95%B0%E7%BB%84%E3%80%81%E7%B4%AF%E8%AE%A1%E6%93%8D%E4%BD%9C-toArray%E3%80%81reduce/</url>
    <content><![CDATA[<h1 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h1><p>å°†æ‰€æœ‰çš„äº‹ä»¶é›†åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ•°ç»„å‘å‡ºï¼Œéœ€è¦å‘é€<code>onCompleted</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.toArray().subscribe &#123; strArr in</span><br><span class="line">    print(strArr)</span><br><span class="line">&#125; onError: &#123; _ in</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>

<h1 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h1><p>ç´¯è®¡æ“ä½œï¼Œå°†æ¯ä¸€æ¬¡çš„äº‹ä»¶éƒ½ç´¯ç§¯åœ¨ä¸€èµ·åœ¨å‘é€<code>onCompleted</code>æ—¶ç»Ÿä¸€å‘é€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.reduce(&quot;åˆå§‹å€¼&quot;, accumulator: +).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-é”™è¯¯å¤„ç†ã€é‡è¯•-catchErrorã€retry</title>
    <url>/2020/11/21/200-RxSwift-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E3%80%81%E9%87%8D%E8%AF%95-catchError%E3%80%81retry/</url>
    <content><![CDATA[<h1 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a>catchError</h1><p>å½“å‘é€äº†<code>error</code>äº‹ä»¶åå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„åºåˆ—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum ObError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject.of(&quot;A&quot;, &quot;B&quot;)</span><br><span class="line"></span><br><span class="line">ob1.catchError &#123; (error) -&gt; Observable&lt;String&gt; in</span><br><span class="line">    print(error)</span><br><span class="line">    return ob2</span><br><span class="line">&#125;.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;111&quot;)</span><br><span class="line">ob1.onError(ObError.error1)</span><br><span class="line">&#x2F;&#x2F;next(111)</span><br><span class="line">&#x2F;&#x2F;error1</span><br><span class="line">&#x2F;&#x2F;next(A)</span><br><span class="line">&#x2F;&#x2F;next(B)</span><br><span class="line">&#x2F;&#x2F;completed</span><br></pre></td></tr></table></figure>
<h1 id="retry"><a href="#retry" class="headerlink" title="retry"></a>retry</h1><p>å½“å‘é€äº†<code>error</code>åå¯ä»¥é‡æ–°å‘é€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var isFail &#x3D; true</span><br><span class="line">let obs &#x3D; Observable&lt;String&gt;.create &#123; (ob) -&gt; Disposable in</span><br><span class="line">    ob.onNext(&quot;æˆåŠŸ1&quot;)</span><br><span class="line">    if isFail &#123;</span><br><span class="line">        ob.onError(ObError.error1)</span><br><span class="line">        isFail &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">    ob.onNext(&quot;é‡è¯•æˆåŠŸ&quot;)</span><br><span class="line">    ob.onCompleted()</span><br><span class="line">    return Disposables.create()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obs.retry(2).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(é‡è¯•æˆåŠŸ)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>674. æœ€é•¿è¿ç»­é€’å¢åºåˆ—</title>
    <url>/2021/02/21/2000-001-674.%20%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E9%80%92%E5%A2%9E%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h1 id="674-æœ€é•¿è¿ç»­é€’å¢åºåˆ—"><a href="#674-æœ€é•¿è¿ç»­é€’å¢åºåˆ—" class="headerlink" title="674. æœ€é•¿è¿ç»­é€’å¢åºåˆ—"></a><a class="link"   href="https://leetcode-cn.com/problems/longest-continuous-increasing-subsequence/" >674. æœ€é•¿è¿ç»­é€’å¢åºåˆ—<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/a0hi84.png"
                      alt="é¢˜ç›®æè¿°"
                ></p>
<h1 id="è´ªå¿ƒè§£æ³•"><a href="#è´ªå¿ƒè§£æ³•" class="headerlink" title="è´ªå¿ƒè§£æ³•"></a>è´ªå¿ƒè§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func findLengthOfLCIS(_ nums: [Int]) -&gt; Int &#123;</span><br><span class="line">        var start &#x3D; 0</span><br><span class="line">        var maxCount &#x3D; 0</span><br><span class="line"></span><br><span class="line">        for (index, _) in nums.enumerated() &#123;</span><br><span class="line">            if index &gt; 0, nums[index] &lt;&#x3D; nums[index - 1] &#123;</span><br><span class="line">                start &#x3D; index</span><br><span class="line">            &#125;</span><br><span class="line">            let currentCount &#x3D; index - start + 1</span><br><span class="line">            maxCount &#x3D; (maxCount &gt; currentCount) ? maxCount : currentCount</span><br><span class="line">        &#125;</span><br><span class="line">        return maxCount</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h1 id="è§£æ³•2"><a href="#è§£æ³•2" class="headerlink" title="è§£æ³•2"></a>è§£æ³•2</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func findLengthOfLCIS(_ nums: [Int]) -&gt; Int &#123;</span><br><span class="line">        if nums.count &lt; 2 &#123;</span><br><span class="line">            return nums.count</span><br><span class="line">        &#125;</span><br><span class="line">        var maxCount &#x3D; 0</span><br><span class="line">        var preNumber &#x3D; nums.first</span><br><span class="line">        var tempCount &#x3D; 0</span><br><span class="line">        for item in nums &#123;</span><br><span class="line">            let isAdd &#x3D; item &gt; preNumber!</span><br><span class="line">            if isAdd &#123;</span><br><span class="line">                tempCount +&#x3D; 1</span><br><span class="line">                maxCount &#x3D; (maxCount &gt; tempCount) ? maxCount : tempCount</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                tempCount &#x3D; 0</span><br><span class="line">            &#125;</span><br><span class="line">            preNumber &#x3D; item</span><br><span class="line">        &#125;</span><br><span class="line">        return maxCount + 1</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>è´ªå¿ƒç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</title>
    <url>/2021/02/21/2000-002-108.%20%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</url>
    <content><![CDATA[<h1 id="108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><a href="#108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"></a><a class="link"   href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/" >108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/hq8ztg.png"
                      alt="108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"
                ></p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func sortedArrayToBST(_ nums: [Int]) -&gt; TreeNode? &#123;</span><br><span class="line">    return sortTree(nums, 0, nums.count - 1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func sortTree(_ nums: [Int], _ left: Int, _ right: Int) -&gt; TreeNode? &#123;</span><br><span class="line">    if left &gt; right &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    let mid &#x3D; (left + right) &#x2F; 2</span><br><span class="line">    let root &#x3D; TreeNode(nums[mid])</span><br><span class="line">    root.left &#x3D; sortTree(nums, left, mid - 1)</span><br><span class="line">    root.right &#x3D; sortTree(nums, mid + 1, right)</span><br><span class="line"></span><br><span class="line">    return root</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡</title>
    <url>/2021/02/21/2000-003-1382.%20%E5%B0%86%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E5%8F%98%E5%B9%B3%E8%A1%A1/</url>
    <content><![CDATA[<h1 id="1382-å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡"><a href="#1382-å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡" class="headerlink" title="1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡"></a><a class="link"   href="https://leetcode-cn.com/problems/balance-a-binary-search-tree/" >1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/qm12q4.png"
                      alt="1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡"
                ></p>
<h1 id="å…ˆå˜ä¸ºæœ‰åºé€’å¢æ•°ç»„ï¼Œå†å¹³è¡¡"><a href="#å…ˆå˜ä¸ºæœ‰åºé€’å¢æ•°ç»„ï¼Œå†å¹³è¡¡" class="headerlink" title="å…ˆå˜ä¸ºæœ‰åºé€’å¢æ•°ç»„ï¼Œå†å¹³è¡¡"></a>å…ˆå˜ä¸ºæœ‰åºé€’å¢æ•°ç»„ï¼Œå†å¹³è¡¡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    var list: [Int] &#x3D; []</span><br><span class="line"></span><br><span class="line">    func balanceBST(_ root: TreeNode?) -&gt; TreeNode? &#123;</span><br><span class="line">        getList(root)</span><br><span class="line">        return buildTree(list, 0, list.count - 1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func buildTree(_ nums: [Int], _ left: Int, _ right: Int) -&gt; TreeNode? &#123;</span><br><span class="line">        if left &gt; right &#123;</span><br><span class="line">            return nil</span><br><span class="line">        &#125;</span><br><span class="line">        let mid &#x3D; (left + right) &#x2F; 2</span><br><span class="line">        let root &#x3D; TreeNode(nums[mid])</span><br><span class="line">        root.left &#x3D; buildTree(nums, left, mid - 1)</span><br><span class="line">        root.right &#x3D; buildTree(nums, mid + 1, right)</span><br><span class="line">        return root</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; äºŒå‰æœç´¢æ ‘</span><br><span class="line">&#x2F;&#x2F;è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› </span><br><span class="line">&#x2F;&#x2F; æ‰€ä»¥é‡‡ç”¨ä¸­åºéå†  å…ˆå·¦ å†æ ¹ æœ€åå³  åˆšå¥½æ˜¯é€’å¢æ•°ç»„</span><br><span class="line">    func getList(_ root: TreeNode?) &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return &#125;</span><br><span class="line">        getList(root.left)</span><br><span class="line">        list.append(root.val)</span><br><span class="line">        getList(root.right)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>å¹³è¡¡æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</title>
    <url>/2021/02/21/2000-004-33.%20%E6%90%9C%E7%B4%A2%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="#33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„" class="headerlink" title="33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„"></a><a class="link"   href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" >33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/8z9prz.png"
                      alt="33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„"
                ></p>
<h1 id="äºŒåˆ†æ³•"><a href="#äºŒåˆ†æ³•" class="headerlink" title="äºŒåˆ†æ³•"></a>äºŒåˆ†æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    func search(_ nums: [Int], _ target: Int) -&gt; Int &#123;</span><br><span class="line">        if nums.isEmpty &#123;</span><br><span class="line">            return -1</span><br><span class="line">        &#125;</span><br><span class="line">        if nums.count &#x3D;&#x3D; 1 &#123;</span><br><span class="line">            return (nums[0] &#x3D;&#x3D; target) ? 0 : -1</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var left &#x3D; 0</span><br><span class="line">        var right &#x3D; nums.count - 1</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F; left &lt;&#x3D; right è¯´æ˜ç›¸é‡äº† åœ¨å˜å°±é”™è¿‡</span><br><span class="line">        while left &lt;&#x3D; right &#123; </span><br><span class="line">            &#x2F;&#x2F; ç¡®å®šä¸­é—´å€¼</span><br><span class="line">            let mid &#x3D; (right - left) &#x2F; 2 + left</span><br><span class="line">            if nums[mid] &#x3D;&#x3D; target &#123;</span><br><span class="line">                return mid</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; nums[mid] &lt; nums[right] è¯´æ˜ mid å³è¾¹æ˜¯æœ‰åºé€’å¢çš„</span><br><span class="line">            if nums[mid] &lt; nums[right] &#123;</span><br><span class="line">                &#x2F;&#x2F;å¦‚æœ target å€¼åœ¨è¿™ä¸ªæœ‰åºé€’å¢çš„èŒƒå›´å†…é‚£å°±èƒ½ç¡®å®š left äº†ï¼Œè¿™é‡ŒåŒ…å«äº†å³è¾¹ç­‰äº target å€¼çš„æƒ…å†µ</span><br><span class="line">                if target &gt; nums[mid], target &lt;&#x3D; nums[right] &#123;</span><br><span class="line">                    left &#x3D; mid + 1</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    right &#x3D; mid - 1</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123; &#x2F;&#x2F; nums[mid] &gt; nums[right]  è¯´æ˜çªå˜å€¼ï¼ˆæœ€å°å€¼ï¼‰åœ¨ mid å³è¾¹ï¼Œåˆ™ mid å·¦è¾¹æ˜¯æœ‰åºé€’å¢çš„</span><br><span class="line">                if target &gt;&#x3D; nums[left], target &lt; nums[mid] &#123;</span><br><span class="line">                    &#x2F;&#x2F;å¦‚æœ target å€¼åœ¨è¿™ä¸ªæœ‰åºé€’å¢çš„èŒƒå›´å†…é‚£å°±èƒ½ç¡®å®š right äº†ï¼Œè¿™é‡ŒåŒ…å«äº†å·¦è¾¹ç­‰äº target å€¼çš„æƒ…å†µ</span><br><span class="line">                    right &#x3D; mid - 1</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    left &#x3D; mid + 1</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return -1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>äºŒåˆ†æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title>141. ç¯å½¢é“¾è¡¨</title>
    <url>/2021/02/21/2000-005-141.%20%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<h1 id="141-ç¯å½¢é“¾è¡¨"><a href="#141-ç¯å½¢é“¾è¡¨" class="headerlink" title="141. ç¯å½¢é“¾è¡¨"></a><a class="link"   href="https://leetcode-cn.com/problems/linked-list-cycle/" >141. ç¯å½¢é“¾è¡¨<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/3k71ua.png"
                      alt="141. ç¯å½¢é“¾è¡¨"
                ></p>
<h1 id="å¿«æ…¢æŒ‡é’ˆè§£æ³•"><a href="#å¿«æ…¢æŒ‡é’ˆè§£æ³•" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆè§£æ³•"></a>å¿«æ…¢æŒ‡é’ˆè§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func hasCycle(_ head: ListNode?) -&gt; Bool &#123;</span><br><span class="line">        var slowTree &#x3D; head</span><br><span class="line">        var fastTree &#x3D; head?.next</span><br><span class="line"></span><br><span class="line">        while slowTree !&#x3D; nil || fastTree !&#x3D; nil &#123;</span><br><span class="line">            if slowTree &#x3D;&#x3D;&#x3D; fastTree &#123;</span><br><span class="line">                return true</span><br><span class="line">            &#125;</span><br><span class="line">            slowTree &#x3D; slowTree?.next</span><br><span class="line">            fastTree &#x3D; fastTree?.next?.next</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="å“ˆå¸Œè¡¨è§£æ³•"><a href="#å“ˆå¸Œè¡¨è§£æ³•" class="headerlink" title="å“ˆå¸Œè¡¨è§£æ³•"></a>å“ˆå¸Œè¡¨è§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func hasCycle(_ head: ListNode?) -&gt; Bool &#123;</span><br><span class="line">        &#x2F;&#x2F; æ³¨æ„è¿™é‡Œä½¿ç”¨ Set, ä½¿ç”¨ Array ä¼šè¶…æ—¶</span><br><span class="line">        &#x2F;&#x2F; ListNode éœ€è¦å®ç° Equatable, Hashable åè®®</span><br><span class="line">        var list: Set&lt;ListNode&gt; &#x3D; []</span><br><span class="line">        var head &#x3D; head</span><br><span class="line"></span><br><span class="line">        while head !&#x3D; nil &#123;</span><br><span class="line">            if list.contains(head!) &#123;</span><br><span class="line">                return true</span><br><span class="line">            &#125;</span><br><span class="line">            list.insert(head!)</span><br><span class="line">            head &#x3D; head?.next</span><br><span class="line">        &#125;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Swift-é“¾è¡¨-åŠ-å®ç°åè®®"><a href="#Swift-é“¾è¡¨-åŠ-å®ç°åè®®" class="headerlink" title="Swift é“¾è¡¨ åŠ å®ç°åè®®"></a>Swift é“¾è¡¨ åŠ å®ç°åè®®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class ListNode &#123;</span><br><span class="line">    public var val: Int</span><br><span class="line">    public var next: ListNode?</span><br><span class="line">    public init() &#123; self.val &#x3D; 0; self.next &#x3D; nil &#125;</span><br><span class="line">    public init(_ val: Int) &#123; self.val &#x3D; val; self.next &#x3D; nil &#125;</span><br><span class="line">    public init(_ val: Int, _ next: ListNode?) &#123; self.val &#x3D; val; self.next &#x3D; next &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">extension ListNode: Equatable &#123;</span><br><span class="line">    public static func &#x3D;&#x3D; (l: ListNode, r: ListNode) -&gt; Bool &#123;</span><br><span class="line">        return l &#x3D;&#x3D;&#x3D; r</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">extension ListNode: Hashable &#123;</span><br><span class="line">    public func hash(into hasher: inout Hasher) &#123;</span><br><span class="line">        hasher.combine(ObjectIdentifier(self))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>å¿«æ…¢æŒ‡é’ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>53. æœ€å¤§å­åºå’Œ-ç®€å•</title>
    <url>/2021/02/23/2000-007-53.%20%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C/</url>
    <content><![CDATA[<h1 id="53-æœ€å¤§å­åºå’Œ"><a href="#53-æœ€å¤§å­åºå’Œ" class="headerlink" title="53. æœ€å¤§å­åºå’Œ"></a><a class="link"   href="https://leetcode-cn.com/problems/maximum-subarray/" >53. æœ€å¤§å­åºå’Œ<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/o6raa6.png"
                      alt="53. æœ€å¤§å­åºå’Œ"
                ></p>
<h1 id="åŠ¨æ€è§„åˆ’-è§£æ³•"><a href="#åŠ¨æ€è§„åˆ’-è§£æ³•" class="headerlink" title="åŠ¨æ€è§„åˆ’ è§£æ³•"></a>åŠ¨æ€è§„åˆ’ è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n)<br>ä¸€æ¬¡éå†ï¼Œå…¶ä¸­ n ä¸º nums æ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†ä¸€éæ•°ç»„å³å¯æ±‚å¾—ç­”æ¡ˆã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)<br>åªå¼€è¾Ÿäº†ä¸¤ä¸ªé¢å¤–çš„ç©ºé—´ï¼Œå³åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func maxSubArray(_ nums: [Int]) -&gt; Int &#123;</span><br><span class="line">        &#x2F;&#x2F; å–nums[0] ä¸ºå’Œ</span><br><span class="line">        var sum &#x3D; nums[0]</span><br><span class="line">        &#x2F;&#x2F; å–nums[0] ä¸ºå½“å‰æœ€å¤§å€¼</span><br><span class="line">        var ans &#x3D; nums[0]</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; å› ä¸ºå·²ç»æŠŠ nums[0] è®¡ç®—äº†ï¼Œæ‰€ä»¥ä» nums[1] å¼€å§‹</span><br><span class="line">        for i in 1 ..&lt; nums.count &#123;</span><br><span class="line">            if sum &lt; 0 &#123; &#x2F;&#x2F; å¦‚æœ sum å°äº 0 ï¼Œé‚£ä¹ˆ sum + nums[i] åªä¼šè®© nums[i] æ›´å°</span><br><span class="line">                sum &#x3D; nums[i] &#x2F;&#x2F; æ‰€ä»¥æ¥æŠŠ num[i] èµ‹å€¼ç»™ sum</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                &#x2F;&#x2F; sum &gt;&#x3D; 0 é‚£ä¹ˆå°±ç›´æ¥åŠ  nums[i] ä¸ç”¨è€ƒè™‘ nums[i] æ˜¯å¤§äºé›¶ è¿˜æ˜¯å°äºé›¶</span><br><span class="line">                sum &#x3D; sum + nums[i]</span><br><span class="line">            &#125;</span><br><span class="line">            ans &#x3D; (sum &gt; ans) ? sum : ans</span><br><span class="line">        &#125;</span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>912. æ’åºæ•°ç»„</title>
    <url>/2021/02/22/2000-006-912.%20%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="912-æ’åºæ•°ç»„"><a href="#912-æ’åºæ•°ç»„" class="headerlink" title="912. æ’åºæ•°ç»„"></a><a class="link"   href="https://leetcode-cn.com/problems/sort-an-array/" >912. æ’åºæ•°ç»„<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/stmaiz.png"
                      alt="912. æ’åºæ•°ç»„"
                ></p>
<h1 id="å¿«é€Ÿæ’åº-é€’å½’è§£æ³•"><a href="#å¿«é€Ÿæ’åº-é€’å½’è§£æ³•" class="headerlink" title="å¿«é€Ÿæ’åº é€’å½’è§£æ³•"></a>å¿«é€Ÿæ’åº é€’å½’è§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    func sortArray(_ nums: [Int]) -&gt; [Int] &#123;</span><br><span class="line">        var nums &#x3D; nums</span><br><span class="line">        sort2(&amp;nums, 0, nums.count - 1)</span><br><span class="line">        return nums</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func sort2(_ nums: inout [Int], _ left: Int, _ right: Int) &#123;</span><br><span class="line">        if left &lt; right &#123;</span><br><span class="line">            let p &#x3D; partition(&amp;nums, left, right)</span><br><span class="line">            &#x2F;&#x2F; åŒæ ·çš„æ–¹æ³•å¤„ç†åˆ†ç•Œå€¼å·¦è¾¹çš„æ•°æ® åˆ†ç•Œå€¼çš„ä½ç½®å·²ç»ç¡®å®š æ‰€ä»¥ä¼ å…¥ right &#x3D; p - 1</span><br><span class="line">            sort2(&amp;nums, left, p - 1)</span><br><span class="line">            &#x2F;&#x2F; åŒæ ·çš„æ–¹æ³•å¤„ç†åˆ†ç•Œå€¼å³è¾¹çš„æ•°æ® åˆ†ç•Œå€¼çš„ä½ç½®å·²ç»ç¡®å®š æ‰€ä»¥ä¼ å…¥ left &#x3D; p + 1</span><br><span class="line">            sort2(&amp;nums, p + 1, right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func partition(_ nums: inout [Int], _ left: Int, _ right: Int) -&gt; Int &#123;</span><br><span class="line">        &#x2F;&#x2F; ç›´æ¥ä»¥ nums[right] ä¸ºåˆ†ç•Œå€¼</span><br><span class="line">        let p &#x3D; nums[right]</span><br><span class="line">        &#x2F;&#x2F; è®°å½•ä¸‹ä¸€ä¸ª æ¯”åˆ†ç•Œå€¼å°çš„å€¼ åº”è¯¥ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ï¼Œ é»˜è®¤ä¸ºæœ€å·¦è¾¹</span><br><span class="line">        var minL &#x3D; left</span><br><span class="line">        for i in left ..&lt; right &#123;</span><br><span class="line">            &#x2F;&#x2F; å½“å‰å€¼ å°äºç­‰äºåˆ†ç•Œå€¼ï¼Œé‚£ä¹ˆäº¤æ¢ i å’Œ minL çš„å€¼ã€‚å¦åˆ™ä¸åšå¤„ç†</span><br><span class="line">            if nums[i] &lt;&#x3D; p &#123;</span><br><span class="line">                swap(&amp;nums, minL, i)</span><br><span class="line">                &#x2F;&#x2F; minL å·²ç»è¢«å°äºç­‰äºåˆ†ç•Œå€¼çš„å€¼å ç”¨ï¼Œé‚£ä¹ˆ +&#x3D; 1</span><br><span class="line">                minL +&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; åˆ°è¿™é‡Œï¼Œåœ¨ minL ç´¢å¼• å‰çš„å€¼éƒ½æ˜¯å°äºç­‰äº åˆ†ç•Œå€¼çš„ï¼Œåœ¨ minL åˆ° right - 1ï¼ŒåŒ…æ‹¬ minL çš„å€¼éƒ½æ˜¯å¤§äº åˆ†ç•Œå€¼çš„ã€‚ åˆ†ç•Œå€¼ä¸€ç›´åœ¨æœ€å</span><br><span class="line">        &#x2F;&#x2F; æ‰€ä»¥ æŠŠåˆ†ç•Œå€¼ å’Œ nums[minL] äº¤æ¢ä½ç½®</span><br><span class="line">        swap(&amp;nums, minL, right)</span><br><span class="line">        &#x2F;&#x2F; è¿”å›åˆ†ç•Œå€¼æ‰€åœ¨çš„ ä½ç½®</span><br><span class="line">        return minL</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func swap(_ nums: inout [Int], _ a: Int, _ b: Int) &#123;</span><br><span class="line">        let temp &#x3D; nums[a]</span><br><span class="line">        nums[a] &#x3D; nums[b]</span><br><span class="line">        nums[b] &#x3D; temp</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å¿«é€Ÿæ’åº-è¿­ä»£è§£æ³•"><a href="#å¿«é€Ÿæ’åº-è¿­ä»£è§£æ³•" class="headerlink" title="å¿«é€Ÿæ’åº è¿­ä»£è§£æ³•"></a>å¿«é€Ÿæ’åº è¿­ä»£è§£æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ution &#123;</span><br><span class="line">    func sortArray(_ nums: [Int]) -&gt; [Int] &#123;</span><br><span class="line">         var nums &#x3D; nums</span><br><span class="line">        sort(&amp;nums, 0, nums.count - 1)</span><br><span class="line">        return nums</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func sort(_ nums: inout [Int], _ left: Int, _ right: Int) &#123;</span><br><span class="line">        &#x2F;&#x2F; å–ä¸­é—´å€¼ åšä¸ºå½“å‰çš„ åˆ†ç•Œå€¼</span><br><span class="line">        let pivot &#x3D; nums[(right - left) &#x2F; 2 + left]</span><br><span class="line">        var L &#x3D; left</span><br><span class="line">        var R &#x3D; right</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; L &lt; R è¯´æ˜ L å’Œ R æ²¡ç›¸é‡</span><br><span class="line">        while L &lt; R &#123;</span><br><span class="line">            &#x2F;&#x2F; å¦‚æœ pivot å·¦è¾¹çš„æ•°å°äº pivotï¼Œé‚£ä¹ˆå°±ä¸ç”¨ç§»åŠ¨è¿™ä¸ªæ•°ã€‚</span><br><span class="line">            &#x2F;&#x2F; æ¥ç€ç»§ç»­çœ‹ä¸‹ä¸€ä¸ª å› ä¸ºæ˜¯ä»å·¦å¾€å³  æ‰€ä»¥ L +&#x3D; 1</span><br><span class="line">            &#x2F;&#x2F; å¦‚æœè¿™ä¸ªæ•°å¤§äº pivot ï¼Œ é‚£ä¹ˆè·³å‡ºè¿™ä¸ªå¾ªç¯ ä¸”è¿™ä¸ªæ•°çš„ç´¢å¼•ä½ L</span><br><span class="line"></span><br><span class="line">            while nums[L] &lt; pivot &#123;</span><br><span class="line">                L +&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; å¦‚æœ pivot å³è¾¹çš„æ•°å¤§äº pivotï¼Œé‚£ä¹ˆå°±ä¸ç”¨ç§»åŠ¨è¿™ä¸ªæ•°ã€‚</span><br><span class="line">            &#x2F;&#x2F; æ¥ç€ç»§ç»­çœ‹ä¸‹ä¸€ä¸ª å› ä¸ºæ˜¯ä»å³å¾€å·¦ æ‰€ä»¥ R -&#x3D; 1</span><br><span class="line">            &#x2F;&#x2F; å¦‚æœè¿™ä¸ªæ•°å°äº pivot ï¼Œ é‚£ä¹ˆè·³å‡ºè¿™ä¸ªå¾ªç¯ ä¸”è¿™ä¸ªæ•°çš„ç´¢å¼•ä½ R</span><br><span class="line"></span><br><span class="line">            while nums[R] &gt; pivot &#123;</span><br><span class="line">                R -&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; L &gt;&#x3D; R è¯´æ˜ pivot å·¦è¾¹å·²ç»æ˜¯ å…¨éƒ¨å°äºç­‰äº pivot ï¼Œå³è¾¹ å…¨éƒ¨æ˜¯ å¤§äºç­‰äº pivotã€‚ å¯ä»¥æå‰é€€å‡º</span><br><span class="line">            if L &gt;&#x3D; R &#123;</span><br><span class="line">                break</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; è·³å‡ºäº†ä¸Šè¾¹çš„ä¸¤ä¸ªå¾ªç¯ä¹‹å è¯´æ˜ åˆ†åˆ«æ‰¾åˆ°äº†</span><br><span class="line">            &#x2F;&#x2F; ä¸€ä¸ªåœ¨ pivot å·¦è¾¹ï¼Œä½†å¤§äºç­‰äº pivot çš„æ•°ï¼Œå®ƒçš„ç´¢å¼•ä¸º L</span><br><span class="line">            &#x2F;&#x2F; ä¸€ä¸ªåœ¨ pivot å³è¾¹ï¼Œä½†å°äºç­‰äº pivot çš„æ•°ï¼Œå®ƒçš„ç´¢å¼•ä½ R</span><br><span class="line">            &#x2F;&#x2F; é‚£ä¹ˆäº¤æ¢è¿™ä¸¤ä¸ªæ•°çš„ä½ç½®</span><br><span class="line"></span><br><span class="line">            let temp &#x3D; nums[L]</span><br><span class="line">            nums[L] &#x3D; nums[R]</span><br><span class="line">            nums[R] &#x3D; temp</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; äº¤æ¢å®Œå nums[L] æ˜¯å°äºç­‰äº pivot, nums[R] æ˜¯å¤§äºç­‰äº pivot</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; å¦‚æœ nums[L] &#x3D;&#x3D; pivot äº†,è¦è®© R -&#x3D; 1ï¼Œ</span><br><span class="line">            if nums[L] &#x3D;&#x3D; pivot &#123;</span><br><span class="line">                R -&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; å¦‚æœ nums[R] &#x3D;&#x3D; pivot äº†,è¦è®© L +&#x3D; 1</span><br><span class="line">            if nums[R] &#x3D;&#x3D; pivot &#123;</span><br><span class="line">                L +&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; å¦‚æœä¸å¤„ç† äº¤æ¢å®Œå nums[L] &#x3D;&#x3D; pivot å’Œ nums[R] &#x3D;&#x3D; pivot çš„æƒ…å†µï¼Œ</span><br><span class="line">            &#x2F;&#x2F; å½“ nums[L] &#x3D;&#x3D; pivot å’Œ nums[R] &#x3D;&#x3D; pivot éƒ½æ˜¯ true æ—¶ï¼Œ</span><br><span class="line">            &#x2F;&#x2F; ä¸Šè¾¹çš„ä¸¤ä¸ª while ä¹Ÿä¸ä¼šåœ¨æ‰§è¡Œäº†ï¼Œ é‚£ä¹ˆ L å’Œ R çš„æ•°å€¼ä¹Ÿä¸ä¼šå†å‘ç”Ÿå˜åŒ– å°±å¡æ­»åœ¨è¿™é‡Œäº†</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; åˆ°è¿™é‡Œ L &gt;&#x3D; R è¯´æ˜ç›¸é‡äº†</span><br><span class="line">        &#x2F;&#x2F; é‚£ä¹ˆ pivot å·¦è¾¹çš„æ•°éƒ½æ˜¯ å°äºç­‰äº pivot çš„</span><br><span class="line">        &#x2F;&#x2F; é‚£ä¹ˆ pivot å³è¾¹çš„æ•°éƒ½æ˜¯ å¤§äºç­‰äº pivot çš„</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è¿™ä¸€æ­¥æ˜¯é˜²æ­¢å¯¹ pivot å·¦å³åˆ†åˆ«æ“ä½œæ—¶è¶Šç•Œ</span><br><span class="line">        if L &#x3D;&#x3D; R &#123;</span><br><span class="line">            L +&#x3D; 1</span><br><span class="line">            R -&#x3D; 1</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if left &lt; R &#123;</span><br><span class="line">            &#x2F;&#x2F; ç»§ç»­å¤„ç† pivot å·¦è¾¹çš„æ•°æ®</span><br><span class="line">            sort(&amp;nums, left, R)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if right &gt; L &#123;</span><br><span class="line">            &#x2F;&#x2F; ç»§ç»­å¤„ç† pivot å³è¾¹çš„æ•°æ®</span><br><span class="line">            sort(&amp;nums, L, right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
      <tags>
        <tag>å¿«é€Ÿæ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>144. äºŒå‰æ ‘çš„å‰åºéå† - ä¸­ç­‰</title>
    <url>/2021/02/23/2000-009-144.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<h1 id="144-äºŒå‰æ ‘çš„å‰åºéå†"><a href="#144-äºŒå‰æ ‘çš„å‰åºéå†" class="headerlink" title="144. äºŒå‰æ ‘çš„å‰åºéå†"></a><a class="link"   href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/" >144. äºŒå‰æ ‘çš„å‰åºéå†<i class="fas fa-external-link-alt"></i></a></h1><p><a class="link"   href="https://leetcode-cn.com/leetbook/read/data-structure-binary-tree/xe17x7/" >äºŒå‰æ ‘éå†<i class="fas fa-external-link-alt"></i></a></p>
<p>äºŒå‰æ ‘çš„å‰åºéå† æ ¹ å·¦ å³</p>
<p>å½“æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºæ—¶,ç›´æ¥æŠŠ root.val add list</p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) ä¸ºé€’å½’è¿‡ç¨‹ä¸­æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func preorderTraversal(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        preorder(root, &amp;list)</span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func preorder(_ root: TreeNode?, _ list: inout [Int]) &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return &#125;</span><br><span class="line">        list.append(root.val)</span><br><span class="line">        preorder(root.left, &amp;list)</span><br><span class="line">        preorder(root.right, &amp;list)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="è¿­ä»£è§£æ³•"><a href="#è¿­ä»£è§£æ³•" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) ä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func preorderTraversal(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        var stackTree: [TreeNode] &#x3D; []</span><br><span class="line">        var root &#x3D; root</span><br><span class="line">        while root !&#x3D; nil || !stackTree.isEmpty &#123;</span><br><span class="line">            while root !&#x3D; nil &#123;</span><br><span class="line">                list.append(root!.val)</span><br><span class="line">                stackTree.append(root!)</span><br><span class="line">                root &#x3D; root?.left</span><br><span class="line">            &#125;</span><br><span class="line">            root &#x3D; stackTree.popLast()</span><br><span class="line">            root &#x3D; root?.right</span><br><span class="line">        &#125;</span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>94. äºŒå‰æ ‘çš„ä¸­åºéå† - ä¸­ç­‰</title>
    <url>/2021/02/23/2000-008-94.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<h1 id="94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#94-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="94. äºŒå‰æ ‘çš„ä¸­åºéå†"></a><a class="link"   href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/" >94. äºŒå‰æ ‘çš„ä¸­åºéå†<i class="fas fa-external-link-alt"></i></a></h1><p><a class="link"   href="https://leetcode-cn.com/leetbook/read/data-structure-binary-tree/xe17x7/" >äºŒå‰æ ‘éå†<i class="fas fa-external-link-alt"></i></a></p>
<p>äºŒå‰æ ‘ä¸­åºéå†é¡ºåºä¸º å·¦ æ ¹ å³<br>å½“æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ºç©ºæ—¶æ·»åŠ è¯¥æ ¹èŠ‚ç‚¹ï¼Œå³åœ¨ root.left = nil, å add root.val</p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n)<br>å…¶ä¸­ n ä¸ºäºŒå‰æ ‘èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚äºŒå‰æ ‘çš„éå†ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¼šè¢«è®¿é—®ä¸€æ¬¡ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(n)<br>ç©ºé—´å¤æ‚åº¦å–å†³äºé€’å½’çš„æ ˆæ·±åº¦ï¼Œè€Œæ ˆæ·±åº¦åœ¨äºŒå‰æ ‘ä¸ºä¸€æ¡é“¾çš„æƒ…å†µä¸‹ä¼šè¾¾åˆ° O(n) çš„çº§åˆ«ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func inorderTraversal(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        inorder(root, &amp;list)</span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func inorder(_ root: TreeNode?, _ list: inout [Int]) &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; ä¸­åºéå† å·¦ ä¸­ å³</span><br><span class="line">        &#x2F;&#x2F; å³ä¸­åºéå†ï¼Œå·¦æ ¹å³ã€‚å½“æ ¹ç»“ç‚¹çš„å·¦å­æ ‘ä¸ºç©ºæ—¶ï¼Œé‚£ä¹ˆ add root.val</span><br><span class="line">        &#x2F;&#x2F; å³å‰åºéå†ï¼Œæ ¹å·¦å³ã€‚å½“æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºæ—¶ï¼Œé‚£ä¹ˆ add root.val</span><br><span class="line">        &#x2F;&#x2F; å³ååºéå†ï¼Œå·¦å³æ ¹ã€‚å½“æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘å‡ä¸ºç©ºæ—¶ï¼Œé‚£ä¹ˆ add root.val</span><br><span class="line">        inorder(root.left, &amp;list)</span><br><span class="line">        list.append(root.val)</span><br><span class="line">        inorder(root.right, &amp;list)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="è¿­ä»£è§£æ³•"><a href="#è¿­ä»£è§£æ³•" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n)<br>å…¶ä¸­ n ä¸ºäºŒå‰æ ‘èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚äºŒå‰æ ‘çš„éå†ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¼šè¢«è®¿é—®ä¸€æ¬¡ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(n)<br>ç©ºé—´å¤æ‚åº¦å–å†³äºæ ˆæ·±åº¦ï¼Œè€Œæ ˆæ·±åº¦åœ¨äºŒå‰æ ‘ä¸ºä¸€æ¡é“¾çš„æƒ…å†µä¸‹ä¼šè¾¾åˆ° O(n) çš„çº§åˆ«ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func inorderTraversal(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        var tempList: [TreeNode] &#x3D; []</span><br><span class="line">        var root &#x3D; root</span><br><span class="line"></span><br><span class="line">        while root !&#x3D; nil || !tempList.isEmpty &#123;</span><br><span class="line">            while root !&#x3D; nil &#123;</span><br><span class="line">                tempList.append(root!)</span><br><span class="line">                root &#x3D; root?.left</span><br><span class="line">            &#125;</span><br><span class="line">            root &#x3D; tempList.popLast()</span><br><span class="line">            list.append(root!.val)</span><br><span class="line">            root &#x3D; root?.right</span><br><span class="line">        &#125;</span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>145. äºŒå‰æ ‘çš„ååºéå† - ä¸­ç­‰</title>
    <url>/2021/02/23/2000-010-145.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<h1 id="145-äºŒå‰æ ‘çš„ååºéå†"><a href="#145-äºŒå‰æ ‘çš„ååºéå†" class="headerlink" title="145. äºŒå‰æ ‘çš„ååºéå†"></a><a class="link"   href="https://leetcode-cn.com/problems/binary-tree-postorder-traversal/" >145. äºŒå‰æ ‘çš„ååºéå†<i class="fas fa-external-link-alt"></i></a></h1><p><a class="link"   href="https://leetcode-cn.com/leetbook/read/data-structure-binary-tree/xe17x7/" >äºŒå‰æ ‘éå†<i class="fas fa-external-link-alt"></i></a></p>
<p>äºŒå‰æ ‘çš„ååºéå† å·¦ å³ æ ¹</p>
<p>å½“æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘å‡ä¸ºç©ºçš„æ—¶å€™ add root.val</p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) ä¸ºé€’å½’è¿‡ç¨‹ä¸­æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func postorderTraversal(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        postorder(root, &amp;list)</span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func postorder(_ root: TreeNode?, _ list: inout [Int]) &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return &#125;</span><br><span class="line">        postorder(root.left, &amp;list)</span><br><span class="line">        postorder(root.right, &amp;list)</span><br><span class="line">        list.append(root.val)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="çœŸè¿­ä»£è§£æ³•"><a href="#çœŸè¿­ä»£è§£æ³•" class="headerlink" title="çœŸè¿­ä»£è§£æ³•"></a>çœŸè¿­ä»£è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) ä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func postorderTraversal1(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        var root &#x3D; root</span><br><span class="line">        var stackTree: [TreeNode] &#x3D; []</span><br><span class="line">        &#x2F;&#x2F; ç”¨æ¥è®°å½•å›é€€çš„æ ¹èŠ‚ç‚¹ åœ¨å›é€€çš„æ—¶å€™ è¦åˆ¤æ–­è¿™ä¸ªæ˜¯ä¸æ˜¯åˆšåˆšå›é€€çš„èŠ‚ç‚¹ å¦‚æœä¸åŠ åˆ¤æ–­ä¼šæ­»å¾ªç¯</span><br><span class="line">        var lastTree: TreeNode?</span><br><span class="line">        while root !&#x3D; nil || !stackTree.isEmpty &#123;</span><br><span class="line">            while root !&#x3D; nil &#123;</span><br><span class="line">                stackTree.append(root!)</span><br><span class="line">                root &#x3D; root?.left</span><br><span class="line">            &#125;</span><br><span class="line">            root &#x3D; stackTree.popLast()</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; root.right &#x3D;&#x3D; nil æ—¶åšä¸‹åˆ—æ“ä½œå¾ˆå®¹æ˜“ç†è§£</span><br><span class="line">            if root?.right &#x3D;&#x3D; nil || root?.right &#x3D;&#x3D;&#x3D; lastTree &#123;</span><br><span class="line">                list.append(root!.val)</span><br><span class="line">                &#x2F;&#x2F; è¿™ä¸ªæ—¶å€™è¦å›é€€äº†ï¼Œæ‰€ä»¥å…ˆè®°å½•å½“å‰çš„è¿™ä¸ªèŠ‚ç‚¹</span><br><span class="line">                lastTree &#x3D; root</span><br><span class="line">                &#x2F;&#x2F; è¦æŠŠ root ç½® nil è¿›è¡Œå›é€€ï¼Œ å¦åˆ™åˆæ˜¯æ­»å¾ªç¯</span><br><span class="line">                root &#x3D; nil</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                stackTree.append(root!)</span><br><span class="line">                root &#x3D; root?.right</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return list</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="å‡ååºè§£æ³•"><a href="#å‡ååºè§£æ³•" class="headerlink" title="å‡ååºè§£æ³•"></a>å‡ååºè§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n): O(2n) å› ä¸º 2 ä¸ºå¸¸æ•°çº§ï¼Œæ‰€ä»¥æ˜¯ O(n)ã€‚ ä¸€ä¸ª n æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„éå†ï¼Œå¦ä¸€ä¸ªæ˜¯æœ€åçš„åè½¬</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n): O(2n) å› ä¸º 2 ä¸ºå¸¸æ•°çº§ï¼Œæ‰€ä»¥æ˜¯ O(n)ã€‚ä¸€ä¸ª n æ˜¯è¿­ä»£æ ˆçš„å¼€é”€ï¼Œä¸€ä¸ªæ˜¯æœ€ååè½¬çš„å¼€é”€</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func postorderTraversal2(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        var root &#x3D; root</span><br><span class="line">        var list: [Int] &#x3D; []</span><br><span class="line">        var stackTree: [TreeNode] &#x3D; []</span><br><span class="line">        &#x2F;&#x2F; ååºéå†çš„é¡ºåºæ˜¯  å·¦å³æ ¹</span><br><span class="line">        &#x2F;&#x2F; åè½¬åæ˜¯ æ ¹å³å·¦ï¼Œå’Œå‰åºéå†çš„ æ ¹å·¦å³ å¾ˆåƒ</span><br><span class="line">        &#x2F;&#x2F; æ‰€ä»¥æ¥ç”¨å‰åºéå†çš„å˜å½¢å†™æ³•ï¼Œç„¶åæŠŠå¾—çš„æ•°æ®åè½¬å°±è¡Œäº†</span><br><span class="line">        while root !&#x3D; nil || !stackTree.isEmpty &#123;</span><br><span class="line">            while root !&#x3D; nil &#123;</span><br><span class="line">                list.append(root!.val)</span><br><span class="line">                stackTree.append(root!)</span><br><span class="line">                root &#x3D; root?.right</span><br><span class="line">            &#125;</span><br><span class="line">            root &#x3D; stackTree.popLast()</span><br><span class="line">            root &#x3D; root?.left</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return list.reversed()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>155. æœ€å°æ ˆ - ç®€å•</title>
    <url>/2021/02/23/2000-011-155.%20%E6%9C%80%E5%B0%8F%E6%A0%88/</url>
    <content><![CDATA[<h1 id="155-æœ€å°æ ˆ"><a href="#155-æœ€å°æ ˆ" class="headerlink" title="155. æœ€å°æ ˆ"></a><a class="link"   href="https://leetcode-cn.com/problems/min-stack/" >155. æœ€å°æ ˆ<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/g135og.png"
                      alt="155. æœ€å°æ ˆ"
                ></p>
<h1 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>å¯¹äºé¢˜ç›®ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)ã€‚å› ä¸ºæ ˆçš„æ’å…¥ã€åˆ é™¤ä¸è¯»å–æ“ä½œéƒ½æ˜¯<br>O(1)ï¼Œæˆ‘ä»¬å®šä¹‰çš„æ¯ä¸ªæ“ä½œæœ€å¤šè°ƒç”¨æ ˆæ“ä½œä¸¤æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>å…¶ä¸­ n ä¸ºæ€»æ“ä½œæ•°ã€‚æœ€åæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šè¿ç»­æ’å…¥ n ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶ä¸¤ä¸ªæ ˆå ç”¨çš„ç©ºé—´ä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class MinStack &#123;</span><br><span class="line">    &#x2F;** initialize your data structure here. *&#x2F;</span><br><span class="line">    var list: [Int] &#x3D; []</span><br><span class="line">    &#x2F;&#x2F;è®°å½•å½“å‰æœ€å°å€¼</span><br><span class="line">    var minNum: Int?</span><br><span class="line">    &#x2F;&#x2F;åªå­˜æœ€å°å€¼</span><br><span class="line">    var minNums: [Int] &#x3D; []</span><br><span class="line"></span><br><span class="line">    init() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    func push(_ x: Int) &#123;</span><br><span class="line">        list.append(x)</span><br><span class="line">        minNum &#x3D; min(minNum ?? .max, x)</span><br><span class="line">        if minNum &#x3D;&#x3D; x &#123;</span><br><span class="line">            minNums.append(minNum!)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func pop() &#123;</span><br><span class="line">        let p &#x3D; list.removeLast()</span><br><span class="line">        if minNum &#x3D;&#x3D; p &#123;</span><br><span class="line">            minNum &#x3D; list.min()</span><br><span class="line">            minNums.removeLast()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func top() -&gt; Int &#123;</span><br><span class="line">        return list.last ?? 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getMin() -&gt; Int &#123;</span><br><span class="line">        return minNums.last ?? 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>112. è·¯å¾„æ€»å’Œ - ç®€å•</title>
    <url>/2021/02/23/2000-012-112.%20%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C/</url>
    <content><![CDATA[<h1 id="112-è·¯å¾„æ€»å’Œ"><a href="#112-è·¯å¾„æ€»å’Œ" class="headerlink" title="112. è·¯å¾„æ€»å’Œ"></a><a class="link"   href="https://leetcode-cn.com/problems/path-sum/" >112. è·¯å¾„æ€»å’Œ<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/lxqfb4.png"
                      alt="112. è·¯å¾„æ€»å’Œ"
                ></p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n),æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(H)ï¼Œå…¶ä¸­ H æ˜¯æ ‘çš„é«˜åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’æ—¶æ ˆç©ºé—´çš„å¼€é”€ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ ‘å‘ˆç°é“¾çŠ¶ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚å¹³å‡æƒ…å†µä¸‹æ ‘çš„é«˜åº¦ä¸èŠ‚ç‚¹æ•°çš„å¯¹æ•°æ­£ç›¸å…³ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(logN)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func hasPathSum(_ root: TreeNode?, _ targetSum: Int) -&gt; Bool &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return false &#125;</span><br><span class="line">        if root.left &#x3D;&#x3D; nil, root.right &#x3D;&#x3D; nil &#123;</span><br><span class="line">            return root.val &#x3D;&#x3D; targetSum</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; é€’å½’æ¯æ¬¡ç”¨å½“å‰çš„ sum - å½“å‰ root.val</span><br><span class="line">        &#x2F;&#x2F; ä¸€ç›´ å‡å‡å‡ å‡åˆ° å¶å­èŠ‚ç‚¹ï¼Œ å°±åˆ¤æ–­å½“å‰çš„ sum å’Œ root.val æ˜¯å¦ç›¸ç­‰å³å¯</span><br><span class="line">        return hasPathSum(root.left, targetSum - root.val) || hasPathSum(root.right, targetSum - root.val)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="å¹¿åº¦ä¼˜å…ˆè§£æ³•"><a href="#å¹¿åº¦ä¼˜å…ˆè§£æ³•" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆè§£æ³•"></a>å¹¿åº¦ä¼˜å…ˆè§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n),æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(N)ï¼Œå…¶ä¸­ N æ˜¯æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé˜Ÿåˆ—çš„å¼€é”€ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ä¼šè¶…è¿‡æ ‘çš„èŠ‚ç‚¹æ•°ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func hasPathSum(_ root: TreeNode?, _ targetSum: Int) -&gt; Bool &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; &#x2F;&#x2F; å¦‚æœ root &#x3D; nil é‚£ä¹ˆå°±ä¸€å®šä¸å­˜åœ¨äº†</span><br><span class="line">            return false</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var stackTree: [TreeNode] &#x3D; [root]</span><br><span class="line">        var treeVal: [Int] &#x3D; [root.val]</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;           1</span><br><span class="line">        &#x2F;&#x2F;         &#x2F;   \</span><br><span class="line">        &#x2F;&#x2F;        2     3</span><br><span class="line">        &#x2F;&#x2F;       &#x2F; \    &#x2F; \</span><br><span class="line">        &#x2F;&#x2F;      4   5   6  7</span><br><span class="line">        &#x2F;&#x2F; stackTree ç§»é™¤ 1 æ·»åŠ  2 3,åŒæ—¶ treeVal ç§»é™¤ 1.val æ·»åŠ  1+2.val ï¼Œ1+3.val</span><br><span class="line">        &#x2F;&#x2F; stackTree ç§»é™¤ 2 æ·»åŠ  4 5,åŒæ—¶ treeVal ç§»é™¤ 2.val æ·»åŠ  2+4.val ï¼Œ2+5.val</span><br><span class="line">        &#x2F;&#x2F; stackTree ç§»é™¤ 3 æ·»åŠ  6 7,åŒæ—¶ treeVal ç§»é™¤ 3.val æ·»åŠ  3+6.val ï¼Œ3+7.val</span><br><span class="line">        while !stackTree.isEmpty &#123;</span><br><span class="line">            let tree: TreeNode &#x3D; stackTree.popLast()!</span><br><span class="line">            let sum &#x3D; treeVal.popLast()</span><br><span class="line">            if tree.left &#x3D;&#x3D; nil, tree.right &#x3D;&#x3D; nil &#123;</span><br><span class="line">                if sum &#x3D;&#x3D; targetSum &#123;</span><br><span class="line">                    return true</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if tree.left !&#x3D; nil &#123;</span><br><span class="line">                stackTree.append(tree.left!)</span><br><span class="line">                treeVal.append(sum! + tree.left!.val)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if tree.right !&#x3D; nil &#123;</span><br><span class="line">                stackTree.append(tree.right!)</span><br><span class="line">                treeVal.append(sum! + tree.right!.val)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­— - ç®€å•</title>
    <url>/2021/02/24/2000-013-%E5%89%91%E6%8C%87%20Offer%2011.%20%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%B0%8F%E6%95%B0%E5%AD%97/</url>
    <content><![CDATA[<h1 id="å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"><a href="#å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—" class="headerlink" title="å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"></a><a class="link"   href="https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/" >å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://ftp.bmp.ovh/imgs/2021/02/f8daa4e0fade64f3.png"
                      alt="å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"
                ></p>
<h1 id="äºŒåˆ†æ³•"><a href="#äºŒåˆ†æ³•" class="headerlink" title="äºŒåˆ†æ³•"></a>äºŒåˆ†æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(log n) åœ¨äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¼šå¿½ç•¥ä¸€åŠçš„åŒºé—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(1)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func minArray(_ numbers: [Int]) -&gt; Int &#123;</span><br><span class="line">        if numbers.count &#x3D;&#x3D; 1 &#123;</span><br><span class="line">            return numbers[0]</span><br><span class="line">        &#125;</span><br><span class="line">        var left &#x3D; 0</span><br><span class="line">        var right &#x3D; numbers.count - 1</span><br><span class="line">        while right &gt; left &#123;</span><br><span class="line">            let mid &#x3D; (right - left) &#x2F; 2 + left</span><br><span class="line">            if numbers[mid] &gt; numbers[right] &#123;</span><br><span class="line">                &#x2F;&#x2F; numbers[mid] &gt; numbers[right] mid å·²ç»å¤§äº right æ‰€ä»¥ mid ä¸åº”è¯¥åŒ…å«åœ¨åŒºé—´å†…  æ‰€ä»¥ mid + 1</span><br><span class="line">                left &#x3D; mid + 1</span><br><span class="line">            &#125; else if numbers[mid] &lt; numbers[right] &#123;</span><br><span class="line">                right &#x3D; mid</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                &#x2F;&#x2F;  mid å’Œ left right ç›¸ç­‰çš„æƒ…å†µï¼Œ å°±è®©right -&#x3D;1</span><br><span class="line">                right -&#x3D; 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return numbers[left]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä¸€æ¬¡éå†æ³•"><a href="#ä¸€æ¬¡éå†æ³•" class="headerlink" title="ä¸€æ¬¡éå†æ³•"></a>ä¸€æ¬¡éå†æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n)</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(1)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func minArray(_ numbers: [Int]) -&gt; Int &#123;</span><br><span class="line">        if numbers.isEmpty &#123;</span><br><span class="line">            return -1</span><br><span class="line">        &#125;</span><br><span class="line">        var ans &#x3D; numbers[0]</span><br><span class="line">        for item in numbers &#123;</span><br><span class="line">            ans &#x3D; min(ans, item)</span><br><span class="line">        &#125;</span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II - ä¸­ç­‰</title>
    <url>/2021/02/24/2000-014-81.%20%E6%90%9C%E7%B4%A2%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%20II/</url>
    <content><![CDATA[<h1 id="81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II"><a href="#81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II" class="headerlink" title="81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II"></a><a class="link"   href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/" >81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/pwhsby.png"
                      alt="81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II"
                ></p>
<h1 id="äºŒåˆ†æ³•"><a href="#äºŒåˆ†æ³•" class="headerlink" title="äºŒåˆ†æ³•"></a>äºŒåˆ†æ³•</h1><ul>
<li><p>æ—¶é—´å¤æ‚åº¦<br>O(n) å¤§å¤šæƒ…å†µä¸‹æ¯æ¬¡éƒ½å‡å°‘ä¸€èˆ¬çš„æ•°æ®</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦<br>O(1)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func search(_ nums: [Int], _ target: Int) -&gt; Bool &#123;</span><br><span class="line">      if nums.isEmpty &#123;</span><br><span class="line">          return false</span><br><span class="line">      &#125;</span><br><span class="line">      if nums.count &#x3D;&#x3D; 1 &#123;</span><br><span class="line">          return nums[0] &#x3D;&#x3D; target</span><br><span class="line">      &#125;</span><br><span class="line">      var left &#x3D; 0</span><br><span class="line">      var right &#x3D; nums.count - 1</span><br><span class="line">      &#x2F;&#x2F; [1, 2]</span><br><span class="line">      &#x2F;&#x2F; å¿…é¡»æ˜¯ &gt;&#x3D; ä¼šå­˜åœ¨ åˆ°æœ€åå·¦å³æŒ‡é’ˆç›¸é‡ æ‰æ‰¾åˆ° ç›®æ ‡å€¼çš„æƒ…å†µ</span><br><span class="line">      while right &gt;&#x3D; left &#123;</span><br><span class="line">          let mid &#x3D; (right - left) &#x2F; 2 + left</span><br><span class="line">          if nums[mid] &#x3D;&#x3D; target &#123;</span><br><span class="line">              return true</span><br><span class="line">          &#125;</span><br><span class="line">          if nums[mid] &lt; nums[right] &#123;</span><br><span class="line">              if nums[mid] &lt; target, target &lt;&#x3D; nums[right] &#123;</span><br><span class="line">                  left &#x3D; mid + 1</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                  right &#x3D; mid - 1</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; else if nums[mid] &gt; nums[right] &#123;</span><br><span class="line">              if nums[left] &lt;&#x3D; target, target &lt; nums[mid] &#123;</span><br><span class="line">                  right &#x3D; mid - 1</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                  left &#x3D; mid + 1</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">              right -&#x3D; 1</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      return false</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ - ä¸­ç­‰</title>
    <url>/2021/02/24/2000-015-236.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/</url>
    <content><![CDATA[<h1 id="236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a><a class="link"   href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/" >236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/8s3kd1.png"
                      alt="236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"
                ></p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) å…¶ä¸­ N æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½ä¼šè¢«è®¿é—®ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) å…¶ä¸­ N æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º Nï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var commTree: TreeNode?</span><br><span class="line"></span><br><span class="line">    func lowestCommonAncestor(_ root: TreeNode?, _ p: TreeNode?, _ q: TreeNode?) -&gt; TreeNode? &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return nil &#125;</span><br><span class="line">        _ &#x3D; dfs(root, p, q)</span><br><span class="line">        return commTree</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func dfs(_ root: TreeNode?, _ p: TreeNode?, _ q: TreeNode?) -&gt; Bool &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return false &#125;</span><br><span class="line">        &#x2F;&#x2F; å·¦å­æ ‘æ˜¯å¦åŒ…å« q æˆ– q</span><br><span class="line">        let lson &#x3D; dfs(root.left, p, q)</span><br><span class="line">        &#x2F;&#x2F; å³å­æ ‘æ˜¯å¦åŒ…å« q æˆ– q</span><br><span class="line">        let rson &#x3D; dfs(root.right, p, q)</span><br><span class="line">        &#x2F;&#x2F; å·¦å³å­æ ‘åŒ…å«pq || (å·¦å­æ ‘æˆ–å³å­æ ‘åŒ…å« ä¸” å½“å‰root.val &#x3D;&#x3D; p.val æˆ– q.val)</span><br><span class="line">        if (lson &amp;&amp; rson) || ((lson || rson) &amp;&amp; (root.val &#x3D;&#x3D; p?.val || root.val &#x3D;&#x3D; q?.val)) &#123;</span><br><span class="line">            commTree &#x3D; root</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; å¦‚æœåŒ…å« p q, ä¼šå…ˆå‘½ä¸­ root.val &#x3D;&#x3D; p?.val || root.val &#x3D;&#x3D; q?.val</span><br><span class="line">        &#x2F;&#x2F; è¿™æ—¶è¿”å›çš„å€¼æ˜¯ true, åé¢ ä¼šå‘½ä¸­ lson || rson</span><br><span class="line">        return root.val &#x3D;&#x3D; p?.val || root.val &#x3D;&#x3D; q?.val || lson || rson</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>70. çˆ¬æ¥¼æ¢¯ - ç®€å•</title>
    <url>/2021/02/24/2000-016-70.%20%E7%88%AC%E6%A5%BC%E6%A2%AF/</url>
    <content><![CDATA[<h1 id="70-çˆ¬æ¥¼æ¢¯"><a href="#70-çˆ¬æ¥¼æ¢¯" class="headerlink" title="70. çˆ¬æ¥¼æ¢¯"></a><a class="link"   href="https://leetcode-cn.com/problems/climbing-stairs/" >70. çˆ¬æ¥¼æ¢¯<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/kmucz8.png"
                      alt="70. çˆ¬æ¥¼æ¢¯"
                ></p>
<h1 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯è¾“å…¥çš„ï¼Œå¾ªç¯æ‰§è¡Œ n æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(1) åªç”¨äº†å¸¸æ•°ä¸ªå˜é‡ä½œä¸ºè¾…åŠ©ç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; n ans</span><br><span class="line">&#x2F;&#x2F; 1  1</span><br><span class="line">&#x2F;&#x2F; 2  2</span><br><span class="line">&#x2F;&#x2F; 3  3</span><br><span class="line">&#x2F;&#x2F; 4  5</span><br><span class="line">&#x2F;&#x2F;( n çš„ ans) &#x3D; (n-1 çš„ ans) + (n-2 çš„ ans)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func climbStairs(_ n: Int) -&gt; Int &#123;</span><br><span class="line">        var b1 &#x3D; 0</span><br><span class="line">        var b2 &#x3D; 1</span><br><span class="line">        var ans &#x3D; 0</span><br><span class="line"></span><br><span class="line">        for _ in 1 ... n &#123;</span><br><span class="line">            ans &#x3D; b1 + b2</span><br><span class="line">            b1 &#x3D; b2</span><br><span class="line">            b2 &#x3D; ans</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>226. ç¿»è½¬äºŒå‰æ ‘ - ç®€å•</title>
    <url>/2021/02/24/2000-017-226.%20%E7%BF%BB%E8%BD%AC%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h1 id="226-ç¿»è½¬äºŒå‰æ ‘"><a href="#226-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="226. ç¿»è½¬äºŒå‰æ ‘"></a><a class="link"   href="https://leetcode-cn.com/problems/invert-binary-tree/" >226. ç¿»è½¬äºŒå‰æ ‘<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/spum89.png"
                      alt="226. ç¿»è½¬äºŒå‰æ ‘"
                ></p>
<h1 id="è¿­ä»£è§£æ³•"><a href="#è¿­ä»£è§£æ³•" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n ä¸ºèŠ‚ç‚¹ä¸ªæ•°ï¼Œæ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä»æ ¹èŠ‚ç‚¹å¼€å§‹åè½¬çš„</span><br><span class="line">    func invertTree2(_ root: TreeNode?) -&gt; TreeNode? &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return nil &#125;</span><br><span class="line"></span><br><span class="line">        var treeRoot &#x3D; root</span><br><span class="line">        let ansRoot &#x3D; root</span><br><span class="line">        var list: [TreeNode] &#x3D; [treeRoot]</span><br><span class="line">        while !list.isEmpty &#123;</span><br><span class="line">            treeRoot &#x3D; list.popLast()!</span><br><span class="line">            let temp &#x3D; treeRoot.right</span><br><span class="line">            treeRoot.right &#x3D; treeRoot.left</span><br><span class="line">            treeRoot.left &#x3D; temp</span><br><span class="line">            if treeRoot.left !&#x3D; nil &#123;</span><br><span class="line">                list.append(treeRoot.left!)</span><br><span class="line">            &#125;</span><br><span class="line">            if treeRoot.right !&#x3D; nil &#123;</span><br><span class="line">                list.append(treeRoot.right!)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ansRoot</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n ä¸ºèŠ‚ç‚¹ä¸ªæ•°ï¼Œæ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ä»å¶å­èŠ‚ç‚¹å¼€å§‹åè½¬çš„</span><br><span class="line">    func invertTree(_ root: TreeNode?) -&gt; TreeNode? &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return nil &#125;</span><br><span class="line">        let left &#x3D; invertTree(root.left)</span><br><span class="line">        let right &#x3D; invertTree(root.right)</span><br><span class="line">        root.left &#x3D; right</span><br><span class="line">        root.right &#x3D; left</span><br><span class="line">        return root</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - ä¸­ç­‰</title>
    <url>/2021/02/24/2000-018-105.%20%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h1 id="105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a><a class="link"   href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" >105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/zn7zcr.png"
                      alt="105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"
                ></p>
<h1 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) n æ˜¯èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n) é™¤å»è¿”å›çš„ç­”æ¡ˆéœ€è¦çš„ O(n) ç©ºé—´ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ O(n) çš„ç©ºé—´å­˜å‚¨å“ˆå¸Œæ˜ å°„ï¼Œä»¥åŠ O(h)ï¼ˆå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ï¼‰çš„ç©ºé—´è¡¨ç¤ºé€’å½’æ—¶æ ˆç©ºé—´ã€‚è¿™é‡Œ h &lt; nï¼Œæ‰€ä»¥æ€»ç©ºé—´å¤æ‚åº¦ä¸º O(n)ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var inorderMap: [Int: Int] &#x3D; [:]</span><br><span class="line"></span><br><span class="line">    func buildTree(_ preorder: [Int], _ inorder: [Int]) -&gt; TreeNode? &#123;</span><br><span class="line">        let count &#x3D; preorder.count</span><br><span class="line">        &#x2F;&#x2F; è¿™ä¸€æ­¥æ˜¯ä¸ºäº†èŠ‚çœæ—¶é—´ ä½†æ˜¯å¢åŠ äº†ç©ºé—´å ç”¨</span><br><span class="line">        for (index, val) in inorder.enumerated() &#123;</span><br><span class="line">            inorderMap[val] &#x3D; index</span><br><span class="line">        &#125;</span><br><span class="line">        return myBuildTree(preorder, inorder, 0, count - 1, 0, count - 1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func myBuildTree(_ preorder: [Int], _ inorder: [Int], _ preorderLeft: Int, _ preorderRight: Int, _ inorderLeft: Int, _ inorderRight: Int) -&gt; TreeNode? &#123;</span><br><span class="line">        if preorderLeft &gt; preorderRight &#123;</span><br><span class="line">            return nil</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; å‰åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span><br><span class="line">        let preorderRoot &#x3D; preorderLeft</span><br><span class="line">        &#x2F;&#x2F; æ‰¾å‡ºä¸­åºéå†çš„æ ¹èŠ‚ç‚¹ä½ç½®</span><br><span class="line">        let inorderRoot &#x3D; inorderMap[preorder[preorderRoot]]!</span><br><span class="line">        &#x2F;&#x2F; å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥</span><br><span class="line">        let root &#x3D; TreeNode(preorder[preorderRoot])</span><br><span class="line">        &#x2F;&#x2F; å·¦å­æ ‘çš„èŠ‚ç‚¹æ•°ç›®</span><br><span class="line">        let leftTreeCount &#x3D; inorderRoot - inorderLeft</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        &#x2F;&#x2F; å‰åºéå†ä¸­ä» [preorderLeft + 1 å¼€å§‹çš„ leftTreeCount ä¸ªå…ƒç´ å°±æ˜¯ å½“å‰ root å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">        &#x2F;&#x2F; ä¸­åºéå†ä¸­ä» [inorderLeft å¼€å§‹åˆ° inorderRoot - 1]  å°±æ˜¯å½“å‰ root å·¦å­æ ‘çš„ æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">        root.left &#x3D; myBuildTree(preorder, inorder, preorderLeft + 1, preorderLeft + leftTreeCount, inorderLeft, inorderRoot - 1)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        &#x2F;&#x2F; å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span><br><span class="line">        &#x2F;&#x2F; å‰åºéå†ä¸­ä» [preorderRoot + 1(è¿™ä¸ª1æ˜¯æ ¹èŠ‚ç‚¹çš„é•¿åº¦) + leftTreeCount åˆ° preorderRight] æ˜¯å½“å‰ root å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">        &#x2F;&#x2F; ä¸­åºéå†ä¸­ä» [inorderRoot + 1 åˆ° inorderRight] æ˜¯å½“å‰ root å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">        root.right &#x3D; myBuildTree(preorder, inorder, preorderRoot + 1 + leftTreeCount, preorderRight, inorderRoot + 1, inorderRight)</span><br><span class="line"></span><br><span class="line">        return root</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>102. äºŒå‰æ ‘çš„å±‚åºéå†</title>
    <url>/2021/02/24/2000-019-102.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<h1 id="102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="102. äºŒå‰æ ‘çš„å±‚åºéå†"></a><a class="link"   href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/" >102. äºŒå‰æ ‘çš„å±‚åºéå†<i class="fas fa-external-link-alt"></i></a></h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func levelOrder(_ root: TreeNode?) -&gt; [[Int]] &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return [] &#125;</span><br><span class="line">        var treeList: [TreeNode] &#x3D; [root]</span><br><span class="line">        var ans: [[Int]] &#x3D; []</span><br><span class="line"></span><br><span class="line">        while !treeList.isEmpty &#123;</span><br><span class="line">            var valList: [Int] &#x3D; []</span><br><span class="line">            var tempList: [TreeNode] &#x3D; []</span><br><span class="line">            for tree in treeList &#123;</span><br><span class="line">                valList.append(tree.val)</span><br><span class="line">                if tree.left !&#x3D; nil &#123;</span><br><span class="line">                    tempList.append(tree.left!)</span><br><span class="line">                &#125;</span><br><span class="line">                if tree.right !&#x3D; nil &#123;</span><br><span class="line">                    tempList.append(tree.right!)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans.append(valList)</span><br><span class="line">            treeList &#x3D; tempList</span><br><span class="line">        &#125;</span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III</title>
    <url>/2021/02/24/2000-020-%E5%89%91%E6%8C%87%20Offer%2032%20-%20III.%20%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91%20III/</url>
    <content><![CDATA[<h1 id="å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III"><a href="#å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III" class="headerlink" title="å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III"></a><a class="link"   href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/" >å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III<i class="fas fa-external-link-alt"></i></a></h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func levelOrder(_ root: TreeNode?) -&gt; [[Int]] &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return [] &#125;</span><br><span class="line">        var ans: [[Int]] &#x3D; []</span><br><span class="line">        var listTree: [TreeNode] &#x3D; [root]</span><br><span class="line"></span><br><span class="line">        var isLR &#x3D; false</span><br><span class="line">        while !listTree.isEmpty &#123;</span><br><span class="line">            var valList: [Int] &#x3D; []</span><br><span class="line">            var tempTree: [TreeNode] &#x3D; []</span><br><span class="line">            isLR &#x3D; !isLR</span><br><span class="line">            for tree in listTree &#123;</span><br><span class="line">                if tree.left !&#x3D; nil &#123;</span><br><span class="line">                    tempTree.append(tree.left!)</span><br><span class="line">                &#125;</span><br><span class="line">                if tree.right !&#x3D; nil &#123;</span><br><span class="line">                    tempTree.append(tree.right!)</span><br><span class="line">                &#125;</span><br><span class="line">                if isLR &#123;</span><br><span class="line">                    valList.append(tree.val)</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    valList.insert(tree.val, at: 0)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            listTree &#x3D; tempTree</span><br><span class="line">            ans.append(valList)</span><br><span class="line">        &#125;</span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>199. äºŒå‰æ ‘çš„å³è§†å›¾</title>
    <url>/2021/02/24/2000-021-199.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%8F%B3%E8%A7%86%E5%9B%BE/</url>
    <content><![CDATA[<h1 id="199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="199. äºŒå‰æ ‘çš„å³è§†å›¾"></a><a class="link"   href="https://leetcode-cn.com/problems/binary-tree-right-side-view/" >199. äºŒå‰æ ‘çš„å³è§†å›¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="è§£æ³•ä¸€-BFS-å¹¿åº¦ä¼˜å…ˆ-å±‚åºéå†"><a href="#è§£æ³•ä¸€-BFS-å¹¿åº¦ä¼˜å…ˆ-å±‚åºéå†" class="headerlink" title="è§£æ³•ä¸€ BFS å¹¿åº¦ä¼˜å…ˆ å±‚åºéå†"></a>è§£æ³•ä¸€ BFS å¹¿åº¦ä¼˜å…ˆ å±‚åºéå†</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func rightSideView(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return [] &#125;</span><br><span class="line">        var ans: [Int] &#x3D; []</span><br><span class="line">        var treeList &#x3D; [root]</span><br><span class="line"></span><br><span class="line">        while !treeList.isEmpty &#123;</span><br><span class="line">            let count &#x3D; treeList.count</span><br><span class="line">            for i in 0 ..&lt; count &#123;</span><br><span class="line">                let tree &#x3D; treeList.remove(at: 0)</span><br><span class="line">                if i &#x3D;&#x3D; count - 1 &#123;</span><br><span class="line">                    ans.append(tree.val)</span><br><span class="line">                &#125;</span><br><span class="line">                if tree.left !&#x3D; nil &#123;</span><br><span class="line">                    treeList.append(tree.left!)</span><br><span class="line">                &#125;</span><br><span class="line">                if tree.right !&#x3D; nil &#123;</span><br><span class="line">                    treeList.append(tree.right!)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="è§£æ³•äºŒ-DFS-æ·±åº¦ä¼˜å…ˆ-å‰åºéå†-å˜å½¢"><a href="#è§£æ³•äºŒ-DFS-æ·±åº¦ä¼˜å…ˆ-å‰åºéå†-å˜å½¢" class="headerlink" title="è§£æ³•äºŒ DFS æ·±åº¦ä¼˜å…ˆ å‰åºéå† å˜å½¢"></a>è§£æ³•äºŒ DFS æ·±åº¦ä¼˜å…ˆ å‰åºéå† å˜å½¢</h1><ul>
<li>æ—¶é—´å¤æ‚åº¦<br>O(n) æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦<br>O(n)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var ans: [Int] &#x3D; []</span><br><span class="line">    func rightSideView(_ root: TreeNode?) -&gt; [Int] &#123;</span><br><span class="line">        dfsSlideView(root, 0)</span><br><span class="line">        return ans</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func dfsSlideView(_ root: TreeNode?, _ depth: Int) &#123;</span><br><span class="line">        guard let root &#x3D; root else &#123; return &#125;</span><br><span class="line">        if depth &#x3D;&#x3D; ans.count &#123;</span><br><span class="line">            ans.append(root.val)</span><br><span class="line">        &#125;</span><br><span class="line">        let d &#x3D; depth + 1</span><br><span class="line">        dfsSlideView(root.right, d)</span><br><span class="line">        dfsSlideView(root.left, d)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>LeetCode</category>
      </categories>
  </entry>
  <entry>
    <title>10äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„10000ä¸ªæ•°ï¼ˆtop Ké—®é¢˜ï¼‰</title>
    <url>/2021/03/07/2000-022-10%E4%BA%BF%E4%B8%AA%E6%95%B0%E4%B8%AD%E6%89%BE%E5%87%BA%E6%9C%80%E5%A4%A7%E7%9A%8410000%E4%B8%AA%E6%95%B0%EF%BC%88top%20K%E9%97%AE%E9%A2%98%EF%BC%89/</url>
    <content><![CDATA[<h1 id="10-äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„-10000-ä¸ªæ•°ï¼ˆtop-K-é—®é¢˜ï¼‰"><a href="#10-äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„-10000-ä¸ªæ•°ï¼ˆtop-K-é—®é¢˜ï¼‰" class="headerlink" title="10 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„ 10000 ä¸ªæ•°ï¼ˆtop K é—®é¢˜ï¼‰"></a>10 äº¿ä¸ªæ•°ä¸­æ‰¾å‡ºæœ€å¤§çš„ 10000 ä¸ªæ•°ï¼ˆtop K é—®é¢˜ï¼‰</h1><h2 id="1-å¯¹å…¨éƒ¨æ•°æ®ç›´æ¥è¿›è¡Œæ’åº"><a href="#1-å¯¹å…¨éƒ¨æ•°æ®ç›´æ¥è¿›è¡Œæ’åº" class="headerlink" title="1. å¯¹å…¨éƒ¨æ•°æ®ç›´æ¥è¿›è¡Œæ’åº"></a>1. å¯¹å…¨éƒ¨æ•°æ®ç›´æ¥è¿›è¡Œæ’åº</h2><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(nlogn)</li>
<li>ç©ºé—´å¤æ‚åº¦ O(n)</li>
</ul>
<p>å°† 10 äº¿æ•°æ®ç›´æ¥è¿›è¡Œå¿«æ’ï¼Œç„¶åå¦‚æœå¤§å †é•¿åº¦å¤§äº 10000ï¼Œç»§ç»­å°†å¤§å †è¿›è¡Œå¿«æ’ã€‚ å¦‚æœå°äº 10000 ï¼Œé‚£ä¹ˆå°†æœ€è¿‘ä¸€æ¬¡çš„å°å †å†æ¬¡è¿›è¡Œå¿«æ’ã€‚å¦‚æœè¿™ä¸ªå¤§å †é•¿åº¦åŠ ä¸Šä¹‹å‰çš„é•¿åº¦å¤§äº 10000ï¼Œé‚£ä¹ˆå¯¹è¿™ä¸ªå¤§å †è¿›è¡Œå®Œæ•´çš„å¿«æ’ã€‚å¹¶å–æœ€å¤§çš„ n ä¸ªæ•°ã€‚</p>
<h2 id="2-å±€éƒ¨æ·˜æ±°æ³•"><a href="#2-å±€éƒ¨æ·˜æ±°æ³•" class="headerlink" title="2.å±€éƒ¨æ·˜æ±°æ³•"></a>2.å±€éƒ¨æ·˜æ±°æ³•</h2><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n+m^2) m ä¸ºå½“å‰å®¹å™¨å¤§å° 10000</li>
<li>ç©ºé—´å¤æ‚åº¦ O(m)</li>
</ul>
<p>å…ˆä¿å­˜ 10000 ä¸ªæ•°ï¼Œç„¶åå°†åç»­çš„æ•°ä¾æ¬¡ä¸ 10000 é‡Œæœ€å°çš„æ•°æ¯”è¾ƒï¼Œå°çš„ç›´æ¥ä¸¢å¼ƒï¼Œå¤§çš„è¿›è¡Œæ›¿æ¢ã€‚æœ€åè¿™ 10000 ä¸ªæ•°å°±æ˜¯ç­”æ¡ˆã€‚</p>
<h2 id="3-åˆ†æ²»æ³•"><a href="#3-åˆ†æ²»æ³•" class="headerlink" title="3.åˆ†æ²»æ³•"></a>3.åˆ†æ²»æ³•</h2><ul>
<li>æ—¶é—´å¤æ‚åº¦ O(nlogn)</li>
<li>ç©ºé—´å¤æ‚åº¦ O(max(a,b)) a ä¸ºæ¯ä»½çš„é•¿åº¦ è¿™é‡Œä¸º 100 ä¸‡ï¼Œb ä¸ºæœ€åçš„ m ä»½çš„æœ€å¤§ k è¿™é‡Œä¸º 100 ä»½çš„æœ€å¤§ 10000 å³ 100 ä¸‡ã€‚</li>
</ul>
<p>å…ˆå°† 1 äº¿ä¸ªæ•°åˆ†æˆ 100 ä»½ï¼Œ æ¯ä»½ 100 ä¸‡ä¸ªæ•°ã€‚ç„¶åå¯¹æ¯ä¸€ä»½è¿›è¡Œå¿«æ’æ‰¾å‡ºæœ€å¤§çš„ 10000 ä¸ªæ•°ã€‚<br>æ–¹æ³•æ˜¯ï¼šå¿«æ’ä¸­å¦‚æœå¤§å †å¤§äº 10000 ï¼Œç»§ç»­å¯¹å¤§å †è¿›è¡Œå¿«æ’ã€‚å¦‚æœå°äº 10000ï¼Œé‚£ä¹ˆå¯¹æœ€è¿‘çš„å°å †è¿›è¡Œå¿«æ’ï¼Œå¦‚æœå¤§å †é•¿åº¦ + ä¹‹å‰çš„å¤§å †é•¿åº¦æ»¡è¶³ã€‚é‚£ä¹ˆå¯¹å¤§å †è¿›è¡Œå®Œå…¨å¿«æ’å–æœ€å¤§çš„ n ä¸ªæ•°ã€‚<br>è¿™æ ·æ‰¾å‡ºäº† 100 ä»½ æœ€å¤§çš„ 10000 ä¸ªæ•°ã€‚ç»§ç»­ä¸Šè¾¹çš„æ€è·¯è¿›è¡Œå¿«æ’ç›´åˆ°æ‰¾å‡ºæœ€å¤§çš„ 10000 ä¸ªæ•°ã€‚</p>
<h2 id="4-Hash-æ³•"><a href="#4-Hash-æ³•" class="headerlink" title="4.Hash æ³•"></a>4.Hash æ³•</h2><p>å…ˆå°†æ‰€æœ‰çš„æ•°å­˜å…¥ hash è¡¨ä¸­å»é‡å¤ï¼Œå‡å°‘æ•°æ®é‡ã€‚ç„¶ååˆ†æ²»æ³•ã€‚</p>
<blockquote>
<p><a class="link"   href="https://blog.csdn.net/zyq522376829/article/details/47686867" >https://blog.csdn.net/zyq522376829/article/details/47686867<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>Top K</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•é€šè¿‡ä¸€ä¸ªä¸å‡åŒ€çš„ç¡¬å¸å¾—åˆ°å…¬å¹³çš„ç»“æœï¼Ÿ</title>
    <url>/2021/03/07/2000-023-%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E4%B8%8D%E5%9D%87%E5%8C%80%E7%9A%84%E7%A1%AC%E5%B8%81%E5%BE%97%E5%88%B0%E5%85%AC%E5%B9%B3%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="å¦‚ä½•é€šè¿‡ä¸€ä¸ªä¸å‡åŒ€çš„ç¡¬å¸å¾—åˆ°å…¬å¹³çš„ç»“æœï¼Ÿ"><a href="#å¦‚ä½•é€šè¿‡ä¸€ä¸ªä¸å‡åŒ€çš„ç¡¬å¸å¾—åˆ°å…¬å¹³çš„ç»“æœï¼Ÿ" class="headerlink" title="å¦‚ä½•é€šè¿‡ä¸€ä¸ªä¸å‡åŒ€çš„ç¡¬å¸å¾—åˆ°å…¬å¹³çš„ç»“æœï¼Ÿ"></a>å¦‚ä½•é€šè¿‡ä¸€ä¸ªä¸å‡åŒ€çš„ç¡¬å¸å¾—åˆ°å…¬å¹³çš„ç»“æœï¼Ÿ</h1><p>å‡è®¾ 60% æ¦‚ç‡ æ­£é¢ï¼Œ40% æ¦‚ç‡åé¢<br>é‚£ä¹ˆæŠ›ä¸¤æ¬¡ä¼šæœ‰ä¸‹é¢å››ç§ç»“æœ</p>
<ul>
<li>æ­£ æ­£ 36%</li>
<li>æ­£ å 24%</li>
<li>å æ­£ 24%</li>
<li>å å 16%</li>
</ul>
<p>å¯ä»¥çœ‹å‡º æ­£å ä¸ åæ­£ çš„æ¦‚ç‡æ˜¯ç›¸ç­‰çš„ã€‚<br>æ‰€ä»¥æŠ›ä¸¤æ¬¡å½“æ­£åé¢ä¸åŒæ—¶ï¼Œéƒ½å–ç¬¬ä¸€æ¬¡çš„ç»“æœä¸ºæœ€ç»ˆç»“æœå³å¯ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
  </entry>
  <entry>
    <title>æ ‘ã€äºŒå‰æ ‘ã€äºŒå‰æœç´¢æ ‘</title>
    <url>/2021/02/06/2000-%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h1 id="äºŒå‰æ ‘-LeetCode"><a href="#äºŒå‰æ ‘-LeetCode" class="headerlink" title="äºŒå‰æ ‘ LeetCode"></a><a class="link"   href="https://leetcode-cn.com/leetbook/read/data-structure-binary-tree/xe17x7/" >äºŒå‰æ ‘ LeetCode<i class="fas fa-external-link-alt"></i></a></h1><h1 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h1><blockquote>
<p>æ˜¯ä¸€ç§ç»å¸¸ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æ„æ€§è´¨çš„æ•°æ®é›†åˆã€‚æ ‘é‡Œçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå€¼å’Œä¸€ä¸ªåŒ…å«æ‰€æœ‰å­èŠ‚ç‚¹çš„åˆ—è¡¨ã€‚ä»å›¾çš„è§‚ç‚¹æ¥çœ‹ï¼Œæ ‘ä¹Ÿå¯è§†ä¸ºä¸€ä¸ªæ‹¥æœ‰ N ä¸ªèŠ‚ç‚¹å’Œ N-1 æ¡è¾¹çš„ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾</p>
</blockquote>
<h1 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h1><blockquote>
<p>æ˜¯ä¸€ç§æ›´ä¸ºå…¸å‹çš„æ ‘çŠ¶ç»“æ„ã€‚å¦‚å®ƒåå­—æ‰€æè¿°çš„é‚£æ ·ï¼ŒäºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç»“æ„ï¼Œé€šå¸¸å­æ ‘è¢«ç§°ä½œâ€œå·¦å­æ ‘â€å’Œâ€œå³å­æ ‘â€ã€‚</p>
</blockquote>
<h1 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h1><blockquote>
<p>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼› è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</p>
</blockquote>
<h1 id="æ ‘çš„éå†"><a href="#æ ‘çš„éå†" class="headerlink" title="æ ‘çš„éå†"></a>æ ‘çš„éå†</h1><h2 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h2><p>å‰åºéå†é¦–å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚</p>
<h2 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h2><p>ä¸­åºéå†æ˜¯å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åéå†å³å­æ ‘ã€‚</p>
<h2 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h2><p>ååºéå†æ˜¯å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åéå†å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<h1 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h1><p>ä¸€æ£µæ·±åº¦ä¸º k çš„æœ‰ n ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå¯¹æ ‘ä¸­çš„ç»“ç‚¹æŒ‰ä»ä¸Šè‡³ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œç¼–å·ï¼Œå¦‚æœç¼–å·ä¸º iï¼ˆ1â‰¤iâ‰¤nï¼‰çš„ç»“ç‚¹ä¸æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸º i çš„ç»“ç‚¹åœ¨äºŒå‰æ ‘ä¸­çš„ä½ç½®ç›¸åŒï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
      <tags>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>äºŒå‰æ ‘</tag>
        <tag>äºŒå‰æ ‘éå†</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½è¿ç®—</title>
    <url>/2021/02/28/2000-%E4%BD%8D%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<h1 id="å·¦ç§»è¿ç®—-lt-lt"><a href="#å·¦ç§»è¿ç®—-lt-lt" class="headerlink" title="å·¦ç§»è¿ç®— &lt;&lt;"></a>å·¦ç§»è¿ç®— &lt;&lt;</h1><p>3 &lt;&lt; 2ï¼Œåˆ™æ˜¯å°†æ•°å­— 3 å·¦ç§» 2 ä½</p>
<h2 id="è®¡ç®—è¿‡ç¨‹ï¼š"><a href="#è®¡ç®—è¿‡ç¨‹ï¼š" class="headerlink" title="è®¡ç®—è¿‡ç¨‹ï¼š"></a>è®¡ç®—è¿‡ç¨‹ï¼š</h2><p>3 &lt;&lt; 2 é¦–å…ˆæŠŠ 3 è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°å­— 0000 0011ï¼Œç„¶åæŠŠè¯¥æ•°å­—é«˜ä½(å·¦ä¾§)çš„ä¸¤ä¸ªé›¶ç§»å‡ºï¼Œå…¶ä»–çš„æ•°å­—éƒ½æœå·¦å¹³ç§» 2 ä½ï¼Œæœ€ååœ¨ä½ä½(å³ä¾§)çš„ä¸¤ä¸ªç©ºä½è¡¥é›¶ã€‚åˆ™å¾—åˆ°çš„æœ€ç»ˆç»“æœæ˜¯ 0000 1100ï¼Œåˆ™è½¬æ¢ä¸ºåè¿›åˆ¶æ˜¯ 12ã€‚</p>
<h2 id="æ•°å­¦æ„ä¹‰"><a href="#æ•°å­¦æ„ä¹‰" class="headerlink" title="æ•°å­¦æ„ä¹‰:"></a>æ•°å­¦æ„ä¹‰:</h2><p>åœ¨æ•°å­—æ²¡æœ‰æº¢å‡ºçš„å‰æä¸‹ï¼Œå¯¹äºæ­£æ•°å’Œè´Ÿæ•°ï¼Œå·¦ç§»ä¸€ä½éƒ½ç›¸å½“äºä¹˜ä»¥ 2 çš„ 1 æ¬¡æ–¹ï¼Œå·¦ç§» n ä½å°±ç›¸å½“äºä¹˜ä»¥ 2 çš„ n æ¬¡æ–¹ã€‚</p>
<h1 id="amp-ä¸è¿ç®—"><a href="#amp-ä¸è¿ç®—" class="headerlink" title="&amp; ä¸è¿ç®—"></a>&amp; ä¸è¿ç®—</h1><p>å‚åŠ è¿ç®—çš„ä¸¤ä¸ªæ•°æ®ï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œâ€œä¸â€è¿ç®—ã€‚<br>è¿ç®—è§„åˆ™ï¼š0&amp;0=0;0&amp;1=0;1&amp;0=0;1&amp;1=1;<br>å³ï¼šä¸¤ä½åŒæ—¶ä¸ºâ€œ1â€ï¼Œç»“æœæ‰ä¸ºâ€œ1â€ï¼Œå¦åˆ™ä¸º 0<br>ä¾‹å¦‚ï¼š3&amp;5 å³ 0000 0011 &amp; 0000 0101 = 0000 0001 å› æ­¤ï¼Œ3&amp;5 çš„å€¼å¾— 1ã€‚</p>
<h1 id="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"><a href="#åè¿›åˆ¶è½¬äºŒè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></a>åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</h1><p>ç”¨ 2 æ•´é™¤åè¿›åˆ¶æ•´æ•°ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼›å†ç”¨ 2 å»é™¤å•†ï¼Œåˆä¼šå¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼Œå¦‚æ­¤è¿›è¡Œï¼Œç›´åˆ°å•†ä¸ºå°äº 1 æ—¶ä¸ºæ­¢ï¼Œç„¶åæŠŠå…ˆå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„ä½ä½æœ‰æ•ˆä½ï¼Œåå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„é«˜ä½æœ‰æ•ˆä½ï¼Œä¾æ¬¡æ’åˆ—èµ·æ¥ã€‚</p>
<blockquote>
<p><a class="link"   href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6" >https://baike.baidu.com/item/äºŒè¿›åˆ¶<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
  </entry>
  <entry>
    <title>Dart åŸºç¡€ä¹‹ ç±»ã€setã€getã€æ„é€ å‡½æ•°ã€æ–¹æ³•</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%801/</url>
    <content><![CDATA[<h1 id="ç±»ã€å±æ€§ã€æ–¹æ³•"><a href="#ç±»ã€å±æ€§ã€æ–¹æ³•" class="headerlink" title="ç±»ã€å±æ€§ã€æ–¹æ³•"></a>ç±»ã€å±æ€§ã€æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—:$name å¹´é¾„:$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"><a href="#é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"></a>é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨</h1><blockquote>
<p>å­˜åœ¨åˆå§‹åŒ–åˆ—è¡¨å°±ä¸èƒ½å­˜åœ¨é»˜è®¤æ„é€ å‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° ç®€å†™</span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° å…¨å†™</span><br><span class="line">  Person(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åˆå§‹åŒ–åˆ—è¡¨</span><br><span class="line">  Person()</span><br><span class="line">      : name &#x3D; &#39;æå&#39;,</span><br><span class="line">        age &#x3D; 22 &#123;</span><br><span class="line">    print(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="åŒ¿åæ„é€ å‡½æ•°"><a href="#åŒ¿åæ„é€ å‡½æ•°" class="headerlink" title="åŒ¿åæ„é€ å‡½æ•°"></a>åŒ¿åæ„é€ å‡½æ•°</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  Person.newPeople() &#123;</span><br><span class="line">    name &#x3D; &quot;æå››&quot;;</span><br><span class="line">    age &#x3D; 33;</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; å¸¦å‚æ•°åŒ¿åæ„é€ å‡½æ•°</span><br><span class="line">  Person.new2(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"><a href="#ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•" class="headerlink" title="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"></a>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•</h1><blockquote>
<p>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•  è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  var _money &#x3D; 999999;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:set æ–¹æ³•</span><br><span class="line">  set gongzi(int value) &#123;</span><br><span class="line">    _money &#x3D; _money + value;</span><br><span class="line">    _printMoney();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:getæ–¹æ³•</span><br><span class="line">  int get money &#123;</span><br><span class="line">    return _money;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:   ç§æœ‰æ–¹æ³• è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">  _printMoney() &#123;</span><br><span class="line">    print(money);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart é™æ€å±æ€§ã€é™æ€æ–¹æ³•</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%802/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;MARK: é™æ€å±æ€§</span><br><span class="line">  static String name &#x3D; &#39;å¼ ä¸‰&#39;;</span><br><span class="line">  int age &#x3D; 20;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;MARK:é™æ€æ–¹æ³•</span><br><span class="line">  static getInfo() &#123;</span><br><span class="line">    print(name);</span><br><span class="line">    &#x2F;&#x2F; print(age);  é™æ€æ–¹æ³•å†…éƒ¨ä¸èƒ½åé—®éé™æ€å±æ€§</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printInfo() &#123;</span><br><span class="line">    &#x2F;&#x2F; éé™æ€æ–¹æ³• å¯ä»¥è®¿é—®é™æ€æˆå‘˜ä¸éé™æ€ åŒ…æ‹¬æ–¹æ³•</span><br><span class="line">    getInfo();</span><br><span class="line">    print(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ï¼Ÿå¯é€‰æ“ä½œ ç±»å‹åˆ¤æ–­ã€ç±»å‹è½¬æ¢ã€è”ç¼€</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%803/</url>
    <content><![CDATA[<h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—ï¼š$name  å¹´é¾„ï¼š$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ï¼Ÿ-å¯é€‰æ“ä½œç¬¦"><a href="#ï¼Ÿ-å¯é€‰æ“ä½œç¬¦" class="headerlink" title="ï¼Ÿ å¯é€‰æ“ä½œç¬¦"></a>ï¼Ÿ å¯é€‰æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Person p2;</span><br><span class="line">&#x2F;&#x2F; p2.getInfo();  p2 æœªåˆå§‹åŒ–  å¯ä½¿ç”¨ ï¼Ÿ å¯é€‰ç¬¦æ“ä½œ</span><br><span class="line">&#x2F;&#x2F;MARK:     å¯é€‰æ“ä½œç¬¦</span><br><span class="line">p2?.getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­"><a href="#is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­" class="headerlink" title="is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­"></a>is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p1 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F;MARK: is  æ“ä½œç¬¦    ç±»å‹åˆ¤æ–­</span><br><span class="line">  if (p1 is Person) &#123;</span><br><span class="line">    print(&#39;p1 æ˜¯ person&#39;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢"><a href="#as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢" class="headerlink" title="as æ“ä½œç¬¦ ç±»å‹è½¬æ¢"></a>as æ“ä½œç¬¦ ç±»å‹è½¬æ¢</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p3;</span><br><span class="line">p3 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F; p3.name;   è™½ç„¶æ²¡æŠ¥é”™  ä½†æ˜¯ä¸çŸ¥é“ p3 ç±»å‹</span><br><span class="line">(p3 as Person).name &#x3D; &#39;ç‹éº»å­&#39;;</span><br><span class="line">(p3 as Person).age &#x3D; 11;</span><br><span class="line">(p3 as Person).getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="è”ç¼€æ“ä½œç¬¦"><a href="#è”ç¼€æ“ä½œç¬¦" class="headerlink" title=".. è”ç¼€æ“ä½œç¬¦"></a>.. è”ç¼€æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; .. è”ç¼€ æ“ä½œç¬¦</span><br><span class="line">  Person p4 &#x3D; Person();</span><br><span class="line">  p4</span><br><span class="line">    ..name &#x3D; &#39;å“ˆå“ˆå“ˆ&#39;</span><br><span class="line">    ..age &#x3D; 40</span><br><span class="line">    ..getInfo();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ç±»çš„ç»§æ‰¿</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%804/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line"></span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name    ---   $age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  work() &#123;</span><br><span class="line">    print(&quot;object åŠªåŠ›å­¦ä¹ &quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"></a>ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•</h1><blockquote>
<p>ä½¿ç”¨ extends å…³é”®å­—ç»§æ‰¿</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Zp extends Person &#123;</span><br><span class="line">  String sex;</span><br><span class="line">  Zp(String name, int age, [String sex &#x3D; &#39;ç”·&#39;]) : super(name, age) &#123;</span><br><span class="line">    this.sex &#x3D; sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  faGongZi(&#123;int money&#125;) &#123;</span><br><span class="line">    print(&#39;å‘å·¥èµ„äº† $money&#39;);</span><br><span class="line">    super.work();</span><br><span class="line">    work();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK: é‡å†™çˆ¶ç±»æ–¹æ³•</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name ä»Šå¹´ $age  å¾ˆæœ‰é’±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart abstract æŠ½è±¡ç±»</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%805/</url>
    <content><![CDATA[<h1 id="æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£"><a href="#æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£" class="headerlink" title="æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£"></a>æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class Animal &#123;</span><br><span class="line">  &#x2F;&#x2F;æŠ½è±¡æ–¹æ³• åªæœ‰æ–¹æ³•å æ²¡æœ‰å…·ä½“å®ç°</span><br><span class="line">  run();</span><br><span class="line"></span><br><span class="line">  String name;</span><br><span class="line"></span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æ™®é€šæ–¹æ³•&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–"><a href="#Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–" class="headerlink" title="Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–"></a>Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–</h2><h1 id="ç»§æ‰¿æŠ½è±¡ç±»"><a href="#ç»§æ‰¿æŠ½è±¡ç±»" class="headerlink" title="ç»§æ‰¿æŠ½è±¡ç±»"></a>ç»§æ‰¿æŠ½è±¡ç±»</h1><blockquote>
<p>ç»§æ‰¿è‡ªæŠ½è±¡ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•     ç»§æ‰¿è‡ªæŠ½è±¡ç±»çš„å±æ€§ä¸æ˜¯å¿…é¡»å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ç‹—è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="implements-å£°æ˜ã€with"><a href="#implements-å£°æ˜ã€with" class="headerlink" title="implements å£°æ˜ã€with"></a>implements å£°æ˜ã€with</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Cat implements Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æˆ‘æ˜¯ğŸ±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ğŸ±è·‘çš„å¿«&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Duck with Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°é¸­è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart å¤šç»§æ‰¿</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%806/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class A &#123;</span><br><span class="line">  printA() &#123;</span><br><span class="line">    print(&#39;AAAAA&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;A run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B &#123;</span><br><span class="line">  printB() &#123;</span><br><span class="line">    print(&#39;BBBBBBBBB&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; B.bbb()&#123;&#125;    ä½œä¸º minxins çš„ç±»ä¸èƒ½æœ‰æ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;B run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="mixins-æ··å…¥"><a href="#mixins-æ··å…¥" class="headerlink" title="mixins æ··å…¥"></a>mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;MARK:   mixins çš„å¿…é¡»æ˜¯å•ç‹¬çš„ä¸€ä¸ªobject ç±» Aä¸èƒ½ç»§æ‰¿äºå…¶ä»–ç±»</span><br><span class="line">class Z with A, B &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç»§æ‰¿-mixins-æ··å…¥"><a href="#ç»§æ‰¿-mixins-æ··å…¥" class="headerlink" title="ç»§æ‰¿ + mixins æ··å…¥"></a>ç»§æ‰¿ + mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class X extends Person with A, B &#123;</span><br><span class="line">  X.aa() : super.aa();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"><a href="#A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„" class="headerlink" title="A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"></a>A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„</h1>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart æ³›å‹</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%807/</url>
    <content><![CDATA[<h1 id="æ–¹æ³•æ·»åŠ æ³›å‹"><a href="#æ–¹æ³•æ·»åŠ æ³›å‹" class="headerlink" title="æ–¹æ³•æ·»åŠ æ³›å‹"></a>æ–¹æ³•æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">T getData&lt;T&gt;(T value) &#123;</span><br><span class="line">  return value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç±»æ·»åŠ æ³›å‹"><a href="#ç±»æ·»åŠ æ³›å‹" class="headerlink" title="ç±»æ·»åŠ æ³›å‹"></a>ç±»æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Pppp&lt;T&gt; &#123;</span><br><span class="line">  var list &#x3D; List&lt;T&gt;();</span><br><span class="line"></span><br><span class="line">  add(T) &#123;</span><br><span class="line">    list.add(T);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printList() &#123;</span><br><span class="line">    print(list);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ³›å‹-æ¥å£"><a href="#æ³›å‹-æ¥å£" class="headerlink" title="æ³›å‹ æ¥å£"></a>æ³›å‹ æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class ABC&lt;T&gt; &#123;</span><br><span class="line">  addObject(String key);</span><br><span class="line">  setValue(String key, T value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å®ç°æ³›å‹æ¥å£"><a href="#å®ç°æ³›å‹æ¥å£" class="headerlink" title="å®ç°æ³›å‹æ¥å£"></a>å®ç°æ³›å‹æ¥å£</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Wq&lt;T&gt; implements ABC&lt;T&gt; &#123;</span><br><span class="line">  @override</span><br><span class="line">  addObject(String key) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  setValue(String key, T value) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart å¯¼å…¥åº“</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%808/</url>
    <content><![CDATA[<blockquote>
<p>å¦‚æœåº“å†²çªäº† ä½¿ç”¨ as é‡å‘½å   show å¯¼å…¥éƒ¨åˆ†  hideä¸å¯¼å…¥çš„éƒ¨åˆ†</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;XXX.dart&#39; as lib show Person;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter æœ¬åœ°å›¾ç‰‡é…ç½®å·¥å…· FlutterGen</title>
    <url>/2020/12/02/400-Flutter-%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7-FlutterGen/</url>
    <content><![CDATA[<h1 id="github-gt-FlutterGen"><a href="#github-gt-FlutterGen" class="headerlink" title="github -&gt; FlutterGen"></a><a class="link"   href="https://github.com/FlutterGen" >github -&gt; FlutterGen<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ¨èä½¿ç”¨ Homebrew å®‰è£…</span><br><span class="line">$ brew install FlutterGen&#x2F;tap&#x2F;fluttergen</span><br></pre></td></tr></table></figure>

<p>#ä½¿ç”¨å‰å…ˆæŠŠ assets: é…ç½®å¥½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">assets:</span><br><span class="line">    - assets&#x2F;images&#x2F;cat.png</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ fluttergen -c example&#x2F;pubspec.yaml</span><br></pre></td></tr></table></figure>

<h1 id="VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨"><a href="#VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨" class="headerlink" title="VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨"></a>VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-645686099e6124e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="VSCode"
                ></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter å¼€å‘é”™è¯¯ StatefulWidget createState must return a subtype of State</title>
    <url>/2020/12/01/400-Flutter-%E5%BC%80%E5%8F%91%E9%94%99%E8%AF%AF-StatefulWidget-createState-must-return-a-subtype-of-State/</url>
    <content><![CDATA[<p>æŠ¥é”™å¦‚ä¸‹:</p>
<p>StatefulWidget.createState must return a subtype of State</p>
<p>The createState function for XXXX2 returned a state of type _XXXXState, which is not a subtype of State<XXXX2>, violating the contract for createState.</p>
<p>é”™è¯¯åˆ†æï¼š<br>å…¶å®å°±æ˜¯è¿”å›çš„ Widget ç±»å‹ä¸å¯¹ï¼Œ<br>å¤§æ„äº†ï¼Œä¿®æ”¹æ­£ç¡®å³å¯ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-a44eecc36a9468ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="é”™è¯¯å›¾"
                ></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter é…ç½®ç›¸å…³</title>
    <url>/2020/12/03/400-Flutter-%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h3><blockquote>
<p>CocoaPods requires your terminal to be using UTF-8 encoding<br>Consider adding the following to ~/.profile:<br>export LANG=en_US.UTF-8</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ export LANG&#x3D;en_US.UTF-8 ä¿å­˜</span><br><span class="line">3.é‡å¯VSCode</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  export LANG&#x3D;en_US.UTF-8</span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line">5. é‡å¯VSCode</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h3><blockquote>
<p>-bash: flutter: command not found</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ </span><br><span class="line"></span><br><span class="line">export PUB_HOSTED_URL&#x3D;https:&#x2F;&#x2F;pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL&#x3D;https:&#x2F;&#x2F;storage.flutter-io.cn</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.ç»ˆç«¯è¾“å…¥ source ~&#x2F;.bash_profileä¿å­˜</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  </span><br><span class="line">export PATH&#x3D;&#x2F;Users&#x2F;z&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter å·¥ç¨‹ä¿®å¤</title>
    <url>/2020/12/04/400-Flutter%E5%B7%A5%E7%A8%8B%E4%BF%AE%E5%A4%8D/</url>
    <content><![CDATA[<p>Flutterå·¥ç¨‹ è¯¯åˆ iOSã€è¯¯åˆ Androidç­‰æ–‡ä»¶æ—¶</p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ç»ˆç«¯è¾“å…¥</span><br><span class="line">flutter create å·¥ç¨‹ç›®å½•</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ä¾èµ–åº“æŸ¥è¯¢</title>
    <url>/2020/12/05/400-Flutter%E6%9F%A5%E8%AF%A2%E4%BE%9D%E8%B5%96%E5%BA%93%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<blockquote>
<p>åœ°å€ä¸º <a class="link"   href="https://pub.flutter-io.cn/packages" >https://pub.flutter-io.cn/packages<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<p><a class="link"   href="https://pub.flutter-io.cn/packages" >ç‚¹æˆ‘å‰å¾€æŸ¥è¯¢<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ AspectRatioã€Card</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6AspectRatio%E3%80%81Card/</url>
    <content><![CDATA[<h1 id="AspectRatio"><a href="#AspectRatio" class="headerlink" title="AspectRatio"></a>AspectRatio</h1><blockquote>
<p>è®¾ç½®è‡ªèº«æ¯”ä¾‹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AspectRatio(</span><br><span class="line">        aspectRatio: 5.0 &#x2F; 1.0,</span><br><span class="line">        child: Container(</span><br><span class="line">          child: Text(</span><br><span class="line">            &#39;AspectRatio å®½é«˜æ¯” 5&#x2F;1&#39;,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            style: TextStyle(fontSize: 30),</span><br><span class="line">          ),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>

<h1 id="Card"><a href="#Card" class="headerlink" title="Card"></a>Card</h1><blockquote>
<p>å¡ç‰‡æ ·å¼</p>
</blockquote>
<p>```<br>Card(<br>      margin: EdgeInsets.all(10),<br>      shape: RoundedRectangleBorder(<br>          side: BorderSide(color: Colors.orange, width: 2),<br>          borderRadius: BorderRadius.circular(10)),<br>      child: Column(<br>        children: [<br>          AspectRatio(<br>            aspectRatio: 16 / 9,<br>            child: Image.network(<br>              randomImgSrc(),<br>              fit: BoxFit.cover,<br>            ),<br>          ),<br>          Padding(<br>            padding: EdgeInsets.all(12),<br>            child: Row(<br>              crossAxisAlignment: CrossAxisAlignment.baseline,<br>              children: [<br>                ClipOval(<br>                  child: Image.network(randomImgSrc(),<br>                      width: 60, fit: BoxFit.cover),<br>                ),<br>                Container(<br>                  padding: EdgeInsets.fromLTRB(10, 0, 0, 0),<br>                  height: 60,<br>                  child: Stack(<br>                    children: [<br>                      Align(<br>                        alignment: Alignment.topLeft,<br>                        child: Text(<br>                          â€˜æˆ‘æ˜¯ä¸€åªå¤§çŒ«â€™,<br>                          style: TextStyle(<br>                              fontWeight: FontWeight.bold, fontSize: 22),<br>                        ),<br>                      ),<br>                      Align(<br>                        alignment: Alignment.bottomLeft,<br>                        child: Text(â€˜å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦â€™),<br>                      )<br>                    ],<br>                  ),<br>                ),<br>                CircleAvatar(<br>                  backgroundImage: NetworkImage(randomImgSrc()),<br>                ),<br>              ],<br>            ),<br>          ),<br>        ],<br>      ),<br>    );<br>``</p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ BottomNavigationBar</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6BottomNavigationBar/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int index &#x3D; 0;</span><br><span class="line">var pages &#x3D; [HomePage(), SearchPage(), SetPage()];</span><br><span class="line">var titls &#x3D; [Text(&#39;é¦–é¡µ&#39;), Text(&#39;æœç´¢&#39;), Text(&#39;è®¾ç½®&#39;)];</span><br></pre></td></tr></table></figure>


<h1 id="BottomNavigationBar"><a href="#BottomNavigationBar" class="headerlink" title="BottomNavigationBar"></a>BottomNavigationBar</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">BottomNavigationBar(</span><br><span class="line">        selectedItemColor: Colors.orangeAccent,</span><br><span class="line">        iconSize: 34,</span><br><span class="line">        &#x2F;&#x2F; type: BottomNavigationBarType.shifting,</span><br><span class="line">        unselectedItemColor: Colors.grey,</span><br><span class="line">        &#x2F;&#x2F; showSelectedLabels: false,</span><br><span class="line">        &#x2F;&#x2F; showUnselectedLabels: false,</span><br><span class="line">        currentIndex: index,</span><br><span class="line">        onTap: (index) &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            this.index &#x3D; index;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        items: [</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.home),</span><br><span class="line">              label: &#39;é¦–é¡µ&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.home,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.search),</span><br><span class="line">              label: &#39;æœç´¢&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.search,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.settings),</span><br><span class="line">              label: &#39;è®¾ç½®&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.settings,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter UI ç»„ä»¶ Containerã€Text</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6Container%E3%80%81Text/</url>
    <content><![CDATA[<blockquote>
<p>Textã€Container ç»„ä»¶è¾ƒä¸ºåŸºç¡€åŒæ—¶ä½¿ç”¨ä¹Ÿå¾ˆé¢‘ç¹ï¼Œå»ºè®®è‡ªè¡Œå°è£…ä¸€å¥—ä½¿ç”¨ï¼Œé¿å…æ¯æ¬¡éƒ½è¦è¾“å…¥å¾ˆå¤šå±æ€§ã€‚</p>
</blockquote>
<h1 id="Text-æ–‡æœ¬ç»„ä»¶"><a href="#Text-æ–‡æœ¬ç»„ä»¶" class="headerlink" title="Text æ–‡æœ¬ç»„ä»¶"></a>Text æ–‡æœ¬ç»„ä»¶</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Text(</span><br><span class="line">      &#39;æ–‡æœ¬ç»„ä»¶&#39;,</span><br><span class="line">      textAlign: TextAlign.center,</span><br><span class="line">      overflow: TextOverflow.ellipsis,</span><br><span class="line">      maxLines: 2,</span><br><span class="line">      style: TextStyle(</span><br><span class="line">        fontSize: 20,</span><br><span class="line">        color: Colors.orange,</span><br><span class="line">        fontWeight: FontWeight.bold,</span><br><span class="line">        fontStyle: FontStyle.italic,</span><br><span class="line">        decoration: TextDecoration.underline,</span><br><span class="line">        decorationColor: Colors.black,</span><br><span class="line">        decorationStyle: TextDecorationStyle.dotted,</span><br><span class="line">        letterSpacing: 2,</span><br><span class="line">      ),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h1 id="Container-ç»„ä»¶"><a href="#Container-ç»„ä»¶" class="headerlink" title="Container ç»„ä»¶"></a>Container ç»„ä»¶</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">      child: Text(&#39;Container ç»„ä»¶&#39;),</span><br><span class="line">      width: 300,</span><br><span class="line">      height: 300,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        color: Colors.redAccent,</span><br><span class="line">        borderRadius: BorderRadius.all(Radius.circular(18)),</span><br><span class="line">        border: Border.all(</span><br><span class="line">          color: Colors.blueAccent,</span><br><span class="line">          width: 7,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      &#x2F;&#x2F;å†…è¾¹è·</span><br><span class="line">      padding: EdgeInsets.all(18),</span><br><span class="line">      &#x2F;&#x2F;å¤–è¾¹è·</span><br><span class="line">      margin: EdgeInsets.fromLTRB(50, 50, 0, 0),</span><br><span class="line">      &#x2F;&#x2F; transform: Matrix4.translationValues(100, 0, 0),</span><br><span class="line">      transform: Matrix4.rotationZ(0.1),</span><br><span class="line">      alignment: Alignment.bottomLeft,</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ GridView</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6GridView/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">   var widgetList &#x3D; List&lt;Widget&gt;();</span><br><span class="line">   for (var i &#x3D; 0; i &lt; 30; i++) &#123;</span><br><span class="line">     var c &#x3D; Container(</span><br><span class="line">       &#x2F;&#x2F; alignment: Alignment.topCenter,</span><br><span class="line">       color: Colors.green[100],</span><br><span class="line">       child: Column(</span><br><span class="line">         children: [</span><br><span class="line">           Image(image: Assets.images.cat),</span><br><span class="line">           SizedBox(</span><br><span class="line">             height: 12,</span><br><span class="line">           ),</span><br><span class="line">           Text(</span><br><span class="line">             &#39;å“ˆå“ˆå“ˆ $i&#39;,</span><br><span class="line">             textAlign: TextAlign.center,</span><br><span class="line">             style: TextStyle(fontSize: 24),</span><br><span class="line">           ),</span><br><span class="line">         ],</span><br><span class="line">       ),</span><br><span class="line">     );</span><br><span class="line">     widgetList.add(c);</span><br><span class="line">   &#125;</span><br><span class="line">   return widgetList;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h1 id="GridView-count"><a href="#GridView-count" class="headerlink" title="GridView.count"></a>GridView.count</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">      scrollDirection: Axis.vertical,</span><br><span class="line">      padding: EdgeInsets.fromLTRB(16, 20, 16, 20),</span><br><span class="line">      crossAxisCount: 2,</span><br><span class="line">      crossAxisSpacing: 8,</span><br><span class="line">      mainAxisSpacing: 10,</span><br><span class="line">      childAspectRatio: 0.8,</span><br><span class="line">      children: this._getData(),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="GridView-builder"><a href="#GridView-builder" class="headerlink" title="GridView.builder"></a>GridView.builder</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GridView.builder(</span><br><span class="line">      padding: EdgeInsets.all(10),</span><br><span class="line">      itemCount: _getData().length,</span><br><span class="line">      itemBuilder: (context, index) &#123;</span><br><span class="line">        return _getData()[index];</span><br><span class="line">      &#125;,</span><br><span class="line">      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(</span><br><span class="line">        crossAxisCount: 2,</span><br><span class="line">        childAspectRatio: 0.8,</span><br><span class="line">        mainAxisSpacing: 10,</span><br><span class="line">        crossAxisSpacing: 10,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Image</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6Image/</url>
    <content><![CDATA[<h1 id="Image-æœ¬åœ°å›¾ç‰‡"><a href="#Image-æœ¬åœ°å›¾ç‰‡" class="headerlink" title="Image æœ¬åœ°å›¾ç‰‡"></a>Image æœ¬åœ°å›¾ç‰‡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Image(</span><br><span class="line">        image: Assets.images.cat,</span><br><span class="line">      )</span><br></pre></td></tr></table></figure>

<h1 id="Image-network-æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡"><a href="#Image-network-æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡" class="headerlink" title="Image.network æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡"></a>Image.network æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Image.network(</span><br><span class="line">      &#39;å›¾ç‰‡url&#39;,</span><br><span class="line">      &#x2F;&#x2F;å……æ»¡ä¸å˜å½¢</span><br><span class="line">      fit: BoxFit.cover,</span><br><span class="line">      alignment: Alignment.center,</span><br><span class="line">      color: Colors.blueGrey,</span><br><span class="line">      colorBlendMode: BlendMode.difference,</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="ç»“åˆ-ClipOval-ç»„ä»¶-å±•ç¤ºåœ†å›¾"><a href="#ç»“åˆ-ClipOval-ç»„ä»¶-å±•ç¤ºåœ†å›¾" class="headerlink" title="ç»“åˆ ClipOval ç»„ä»¶ å±•ç¤ºåœ†å›¾"></a>ç»“åˆ ClipOval ç»„ä»¶ å±•ç¤ºåœ†å›¾</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ClipOval(</span><br><span class="line">      clipBehavior: Clip.antiAliasWithSaveLayer,</span><br><span class="line">      child: Image.network(</span><br><span class="line">        imageUrl,</span><br><span class="line">        &#x2F;&#x2F; width: 200,</span><br><span class="line">        &#x2F;&#x2F; height: 200,ÃŸ</span><br><span class="line">        fit: BoxFit.cover,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="Container-BoxDecoration-å±æ€§ç”Ÿæˆ-åœ†å›¾"><a href="#Container-BoxDecoration-å±æ€§ç”Ÿæˆ-åœ†å›¾" class="headerlink" title="Container BoxDecoration å±æ€§ç”Ÿæˆ åœ†å›¾"></a>Container BoxDecoration å±æ€§ç”Ÿæˆ åœ†å›¾</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">      &#x2F;&#x2F; child: networkImage,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        borderRadius: BorderRadius.circular(150),</span><br><span class="line">        image: DecorationImage(</span><br><span class="line">          image: NetworkImage(imageUrl),</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      width: 300,</span><br><span class="line">      height: 300,</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ ListView</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6ListView/</url>
    <content><![CDATA[<h1 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ListView(</span><br><span class="line">      padding: EdgeInsets.fromLTRB(18, 20, 18, 50),</span><br><span class="line">      &#x2F;&#x2F; æ»‘åŠ¨æ–¹å‘</span><br><span class="line">      scrollDirection: Axis.horizontal,</span><br><span class="line">      children: [</span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Icon(</span><br><span class="line">            Icons.tv,</span><br><span class="line">            color: Colors.amberAccent,</span><br><span class="line">          ),</span><br><span class="line">          trailing: Icon(Icons.ac_unit),</span><br><span class="line">          title: Text(&#39;æ ‡é¢˜&#39;),</span><br><span class="line">          subtitle: Text(&#39;äºŒçº§æ ‡é¢˜å•¦å•¦å•¦å•¦å•¦&#39;),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="ListView-builder"><a href="#ListView-builder" class="headerlink" title="ListView.builder"></a>ListView.builder</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">    List&lt;Widget&gt; widgetList &#x3D; List();</span><br><span class="line">    for (var i &#x3D; 0; i &lt; 30; i++) &#123;</span><br><span class="line">      widgetList.add(Text(</span><br><span class="line">        &#39;$i å“ˆå“ˆå“ˆå“ˆå“ˆ&#39;,</span><br><span class="line">        style: TextStyle(fontSize: 30),</span><br><span class="line">      ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return widgetList;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  ListView.builder(</span><br><span class="line">      itemCount: _getData().length,</span><br><span class="line">      itemBuilder: (BuildContext context, int index) &#123;</span><br><span class="line">        return _getData()[index];</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Rowã€Columnã€Expanded</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Row%E3%80%81Column%E3%80%81Expanded/</url>
    <content><![CDATA[<h1 id="Row"><a href="#Row" class="headerlink" title="Row"></a>Row</h1><blockquote>
<p>æ°´å¹³å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ow(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.spaceEvenly,</span><br><span class="line">        crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">        children: [</span><br><span class="line">          MyIconWidget(Icons.tv, color: Colors.redAccent),</span><br><span class="line">          MyIconWidget(Icons.ac_unit, color: Colors.blueAccent),</span><br><span class="line">          MyIconWidget(Icons.access_alarms, color: Colors.orangeAccent)</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>
<h1 id="Column"><a href="#Column" class="headerlink" title="Column"></a>Column</h1><blockquote>
<p>å‚ç›´å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">        crossAxisAlignment: CrossAxisAlignment.end,</span><br><span class="line">        children: [</span><br><span class="line">          MyIconWidget(Icons.tv, color: Colors.redAccent),</span><br><span class="line">          MyIconWidget(Icons.ac_unit, color: Colors.blueAccent),</span><br><span class="line">          MyIconWidget(Icons.access_alarms, color: Colors.orangeAccent)</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>
<h1 id="Expanded"><a href="#Expanded" class="headerlink" title="Expanded"></a>Expanded</h1><blockquote>
<p>æ‰©å±•ç»„ä»¶ æ¯”ä¾‹åˆ†é…</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Expanded(</span><br><span class="line">          child: MyIconWidget(Icons.games, color: Colors.blueGrey),</span><br><span class="line">        ),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Row(</span><br><span class="line">      children: [</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 2,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.red),</span><br><span class="line">        ),</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 1,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.amberAccent),</span><br><span class="line">        ),</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 2,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.red),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ StatefulWidget</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Sft/</url>
    <content><![CDATA[<h1 id="StatefulWidget"><a href="#StatefulWidget" class="headerlink" title="StatefulWidget"></a>StatefulWidget</h1><blockquote>
<p>åŠ¨æ€ç»„ä»¶ï¼Œé¡µé¢å¯å˜åŒ– ä½¿ç”¨  setState(() {});</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class MyStfWidget extends StatefulWidget implements PageRouterProtocol &#123;</span><br><span class="line">  @override</span><br><span class="line">  final Map arguments;</span><br><span class="line">  MyStfWidget(&#123;Key key, this.arguments&#125;) : super(key: key);</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  _MyStfWidgetState createState() &#x3D;&gt; _MyStfWidgetState(arguments);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class _MyStfWidgetState extends State&lt;MyStfWidget&gt; &#123;</span><br><span class="line">  final Map arguments;</span><br><span class="line"></span><br><span class="line">  List dataList &#x3D; [];</span><br><span class="line"></span><br><span class="line">  _MyStfWidgetState(this.arguments);</span><br><span class="line">  addData() &#123;</span><br><span class="line">    List singleList &#x3D; List();</span><br><span class="line">    for (var i &#x3D; 0; i &lt; 20; i++) &#123;</span><br><span class="line">      singleList.add(&#39;å¢åŠ æ•°æ®äº†&#39;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.dataList.addAll(singleList);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    RaisedButton addBtn &#x3D; RaisedButton(</span><br><span class="line">        child: Text(&#39;åŠ è½½æ›´å¤š&#39;),</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            this.addData();</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    return Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(arguments[&#39;title&#39;] ?? &#39;é»˜è®¤æ ‡é¢˜&#39;),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: dataList.length + 1,</span><br><span class="line">        itemBuilder: (BuildContext context, int index) &#123;</span><br><span class="line">          if (index &#x3D;&#x3D; 0) &#123;</span><br><span class="line">            return addBtn;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          return Text(&#39;data  $index&#39;);</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Stackã€Alignã€Positioned</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Stack%E3%80%81Align%E3%80%81Positioned/</url>
    <content><![CDATA[<h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">      &#x2F;&#x2F; alignment: Alignment(-1,-1),</span><br><span class="line">      alignment: Alignment.bottomLeft,</span><br><span class="line">      children: [</span><br><span class="line">        Container(color: Colors.orange, height: 100),</span><br><span class="line">        Text(&#39;å•ç‹¬ Stack å¸ƒå±€åªæœ‰ä¸¤ä¸ªç»„ä»¶&#39;,</span><br><span class="line">            style: TextStyle(color: Colors.white, fontSize: 20)),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="Stack-ç»“åˆ-Align-å¸ƒå±€"><a href="#Stack-ç»“åˆ-Align-å¸ƒå±€" class="headerlink" title="Stack ç»“åˆ Align å¸ƒå±€"></a>Stack ç»“åˆ Align å¸ƒå±€</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: Text(</span><br><span class="line">              &#39;Stack ç»“åˆ Align å¸ƒå±€&#39;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 30),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.topLeft,</span><br><span class="line">            child: Icon(Icons.ac_unit),</span><br><span class="line">          ),</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.bottomLeft,</span><br><span class="line">            child: Icon(Icons.ac_unit),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>

<h1 id="Stack-ç»“åˆ-Positioned-å¸ƒå±€"><a href="#Stack-ç»“åˆ-Positioned-å¸ƒå±€" class="headerlink" title="Stack ç»“åˆ Positioned å¸ƒå±€"></a>Stack ç»“åˆ Positioned å¸ƒå±€</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Positioned(</span><br><span class="line">              top: 16,</span><br><span class="line">              left: 16,</span><br><span class="line">              child: Text(</span><br><span class="line">                &#39; Stack ç»“åˆ Positioned å¸ƒå±€&#39;,</span><br><span class="line">                style: TextStyle(color: Colors.white, fontSize: 30),</span><br><span class="line">              )),</span><br><span class="line">          Positioned(</span><br><span class="line">              bottom: 10,</span><br><span class="line">              right: 10,</span><br><span class="line">              width: 100,</span><br><span class="line">              height: 100,</span><br><span class="line">              child: Container(</span><br><span class="line">                color: Colors.red,</span><br><span class="line">                child: Icon(Icons.tv),</span><br><span class="line">              ))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Wrap</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Wrap/</url>
    <content><![CDATA[<h1 id="Wrap"><a href="#Wrap" class="headerlink" title="Wrap"></a>Wrap</h1><blockquote>
<p>æµå¼å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Wrap(</span><br><span class="line">      spacing: 10,</span><br><span class="line">      runSpacing: 10,</span><br><span class="line">      alignment: WrapAlignment.end,</span><br><span class="line">      children: [</span><br><span class="line">        MyButton(&#39;å“ˆå“ˆå“ˆ&#39;),</span><br><span class="line">        MyButton(&#39;é˜¿æ–¯é¡¿è¨è¾¾æ’’&#39;),</span><br><span class="line">        MyButton(&#39;è‹æ‰“æ°´è¨è¾¾æ’’&#39;),</span><br><span class="line">        MyButton(&#39;é˜¿ç‘Ÿ&#39;),</span><br><span class="line">        MyButton(&#39;è¨å‘é€ä¸ªäººèˆ’æœèˆ’æœå½“å‘é€çš„&#39;),</span><br><span class="line">        MyButton(&#39;title&#39;),</span><br><span class="line">        &#x2F;&#x2F;MARK:       MaterialButton</span><br><span class="line">        MaterialButton(</span><br><span class="line">          child: Text(&#39;MaterialButton é£æ ¼ btn&#39;),</span><br><span class="line">          shape: CircleBorder(side: BorderSide(width: 100)),</span><br><span class="line">          color: Colors.orange,</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            print(&#39;object&#39;);</span><br><span class="line">          &#125;,</span><br><span class="line">        ),</span><br><span class="line">        &#x2F;&#x2F;MARK:IconButton</span><br><span class="line">        IconButton(icon: Icon(Icons.ac_unit), onPressed: null),</span><br><span class="line">        &#x2F;&#x2F;MARK: FlatButton</span><br><span class="line">        FlatButton(onPressed: () &#123;&#125;, child: Text(&#39;æ‰å¹³åŒ–æŒ‰é’®&#39;)),</span><br><span class="line">        FloatingActionButton(</span><br><span class="line">          onPressed: () &#123;&#125;,</span><br><span class="line">          child: Text(&#39;FloatingActionButton&#39;),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter è·¯ç”±è·³è½¬</title>
    <url>/2020/12/29/400-Flutter%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬è·¯ç”±è·³è½¬-åŠ ä¼ å€¼"><a href="#åŸºæœ¬è·¯ç”±è·³è½¬-åŠ ä¼ å€¼" class="headerlink" title="åŸºæœ¬è·¯ç”±è·³è½¬  åŠ ä¼ å€¼"></a>åŸºæœ¬è·¯ç”±è·³è½¬  åŠ ä¼ å€¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Navigator.of(context).push(MaterialPageRoute(</span><br><span class="line">                builder: (context) &#x3D;&gt; MyRouterPage(title: &#39;é¦–é¡µ&#39;),</span><br><span class="line">              ));</span><br></pre></td></tr></table></figure>

<h1 id="è¿”å›"><a href="#è¿”å›" class="headerlink" title="è¿”å›"></a>è¿”å›</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>VSCode Flutter é…ç½®</title>
    <url>/2020/11/19/400-VSCode-Flutter-%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><ul>
<li>Dart</li>
<li>Flutter</li>
<li>Flutter Generators</li>
<li>Flutter Widget Snippets</li>
<li>Flutter Helpers</li>
<li>[FF] Flutter Files</li>
<li>Awesome Flutter Snippets<h1 id="è¿è¡Œé…ç½®"><a href="#è¿è¡Œé…ç½®" class="headerlink" title="è¿è¡Œé…ç½®"></a>è¿è¡Œé…ç½®</h1><code>shift + cmd + d</code> æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤äº†<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-c47d75e75723b671.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ“ä½œå›¾"
                ></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;debug&quot;, &#x2F;&#x2F;debug æ¨¡å¼</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;profile&quot;, &#x2F;&#x2F;profile æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;profile&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;release&quot;, &#x2F;&#x2F;release æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;release&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æœç´¢å…³é”®è¯"><a href="#æœç´¢å…³é”®è¯" class="headerlink" title="æœç´¢å…³é”®è¯"></a>æœç´¢å…³é”®è¯</h3><p>VSCode æ’ä»¶<br>VSCode Flutter è°ƒè¯•é…ç½®<br>VSCode Flutter release æ¨¡å¼<br>Flutter release<br>Flutter å¯åŠ¨ç™½å±</p>
<h1 id="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"><a href="#å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼" class="headerlink" title="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"></a>å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼</h1>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>SnapKité€‚é…åˆ˜æµ·å±ã€å¼‚å½¢å±</title>
    <url>/2020/11/20/500-SnapKit%E9%80%82%E9%85%8D%E5%88%98%E6%B5%B7%E5%B1%8F%E3%80%81%E5%BC%82%E5%BD%A2%E5%B1%8F/</url>
    <content><![CDATA[<h3 id="ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"><a href="#ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»" class="headerlink" title="ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"></a>ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»</h3><p>åœ¨ ViewController çš„ view ä¸­ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make.bottom.equalTo(view.snp.bottomMargin)</span><br><span class="line">make.top.equalTo(view.snp.topMargin)</span><br><span class="line">make.left.equalTo(view.snp.leftMargin)</span><br><span class="line">make.right.equalTo(view.snp.rightMargin)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ view çš„ superView æ²¡æœ‰é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€éœ€è¦é€šè¿‡ä¸Šé¢çš„å†™æ³•é€‚é…<br>å¦‚æœ view çš„ superView å·²ç»é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€ä¹Ÿä¼šè‡ªåŠ¨é€‚é…</p>
<h3 id="å®Œæ•´ğŸŒ°"><a href="#å®Œæ•´ğŸŒ°" class="headerlink" title="å®Œæ•´ğŸŒ°"></a>å®Œæ•´ğŸŒ°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        let redView &#x3D; UIView()</span><br><span class="line">        redView.backgroundColor &#x3D; .red</span><br><span class="line">        view.addSubview(redView)</span><br><span class="line">        redView.snp.makeConstraints &#123; make in</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.topMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">&#x2F;&#x2F;            make.top.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            make.top.equalTo(view.snp.topMargin)    &#x2F;&#x2F;é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.leftMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.left.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.left.equalTo(view.snp.leftMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.rightMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.right.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.right.equalTo(view.snp.rightMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView å·²ç»é€‚é…   é‚£ä¹ˆä¸‹è¾¹çš„éƒ½ä¼šé€‚é…</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView æ²¡é€‚é…   é‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªä¼šé€‚é…</span><br><span class="line">        let blackView &#x3D; UIView()</span><br><span class="line">        blackView.backgroundColor &#x3D; .black</span><br><span class="line">        redView.addSubview(blackView)</span><br><span class="line">        blackView.snp.makeConstraints &#123; make in</span><br><span class="line">            make.left.right.equalToSuperview()</span><br><span class="line">            make.height.equalTo(150)</span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>SnapKit</tag>
        <tag>é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¸¸ç”¨ä»£ç å—</title>
    <url>/2020/11/21/500-Xcode-%E4%BB%A3%E7%A0%81%E5%9D%97/</url>
    <content><![CDATA[<p>ä¸€äº›å¸¸ç”¨çš„ä»£ç å—</p>
<h1 id="ç‚¹æˆ‘ç›´è¾¾"><a href="#ç‚¹æˆ‘ç›´è¾¾" class="headerlink" title="ç‚¹æˆ‘ç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/CodeSnippets" >ç‚¹æˆ‘ç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Xcode-è·¯å¾„"><a href="#Xcode-è·¯å¾„" class="headerlink" title="Xcode è·¯å¾„"></a>Xcode è·¯å¾„</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;Library&#x2F;Developer&#x2F;Xcode&#x2F;UserData&#x2F;CodeSnippets</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€è·¯å¾„å°†æ–‡ä»¶æ‹–è¿›å»<br>ä»£ç å—æ·»åŠ åéœ€è¦é‡å¯ Xcode</p>
<h1 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>lazytab</td>
<td>æ‡’åŠ è½½å±æ€§ tableView</td>
</tr>
<tr>
<td>mk</td>
<td>//MARK: -</td>
</tr>
<tr>
<td>snpmake</td>
<td>SnapKit make å¸ƒå±€</td>
</tr>
<tr>
<td>snpremake</td>
<td>SnapKit remake å¸ƒå±€</td>
</tr>
<tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCCell</td>
<td>UICollectionViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>ssself</td>
<td>guard let  strongSelf = self</td>
</tr>
</tbody></table>
<h1 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTextF</td>
<td>UITextField åˆå§‹åŒ–</td>
</tr>
<tr>
<td>pna</td>
<td>@property (nonatomic, assign)</td>
</tr>
<tr>
<td>pns</td>
<td>@property (nonatomic, strong)</td>
</tr>
<tr>
<td>pnc</td>
<td>@property (nonatomic, copy)</td>
</tr>
<tr>
<td>td</td>
<td>//TODO:</td>
</tr>
<tr>
<td>mas_make</td>
<td>Masonry make å¸ƒå±€</td>
</tr>
<tr>
<td>mas_remake</td>
<td>Masonry remake å¸ƒå±€</td>
</tr>
<tr>
<td>mas_update</td>
<td>Masonry update å¸ƒå±€</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS ä»£ç å—</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS OC ä¸ Swift æ··ç¼–</title>
    <url>/2020/12/06/500-iOS-OC-%E4%B8%8E-Swift-%E6%B7%B7%E7%BC%96/</url>
    <content><![CDATA[<h1 id="1-XXX-Bridging-Header-h"><a href="#1-XXX-Bridging-Header-h" class="headerlink" title="1. XXX-Bridging-Header.h"></a>1. XXX-Bridging-Header.h</h1><p>æ–°å»ºSwiftæ–‡ä»¶æ—¶ä¸€èˆ¬ä¼šè‡ªåŠ¨æç¤ºåˆ›å»º<code>XXX-Bridging-Header.h</code>æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ª Header æ–‡ä»¶ï¼Œå‘½åä¸º<code>é¡¹ç›®å-Bridging-Header.h</code><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-40814d95e9d8b2f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ–°å»º Header æ–‡ä»¶"
                ></p>
<h1 id="2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header"><a href="#2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header" class="headerlink" title="2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ Header"></a>2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ <code>Header</code></h1><h2 id="User-Header-Search-Paths-å¡«å†™-SRCROOT"><a href="#User-Header-Search-Paths-å¡«å†™-SRCROOT" class="headerlink" title="User Header Search Paths å¡«å†™ $(SRCROOT)"></a><code>User Header Search Paths</code> å¡«å†™ <code>$(SRCROOT)</code></h2><h2 id="Enable-Modules-c-and-objective-C-å¡«å†™-YES"><a href="#Enable-Modules-c-and-objective-C-å¡«å†™-YES" class="headerlink" title="Enable Modules(c and objective-C) å¡«å†™ YES"></a><code>Enable Modules(c and objective-C)</code> å¡«å†™ <code>YES</code></h2><h2 id="Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"><a href="#Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„" class="headerlink" title="Objective-C Bridging Header å¡«å†™ é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"></a><code>Objective-C Bridging Header</code> å¡«å†™ <code>é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h</code> âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„</h2><h2 id="Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚"><a href="#Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚" class="headerlink" title="Objective-C Generated Interface Header Name å¡«å†™ é¡¹ç›®åç§°-Swift.h è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚"></a><code>Objective-C Generated Interface Header Name</code> å¡«å†™ <code>é¡¹ç›®åç§°-Swift.h</code> è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-c91b49763e023f54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="BuildSettings éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"
                ></p>
<h1 id="3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"><a href="#3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹" class="headerlink" title="3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"></a>3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹</h1><p>Podfile å¢åŠ  <code>use_frameworks!</code> åé‡æ–° <code>pod install</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">target&#39;XXXXX&#39; do</span><br><span class="line">use_frameworks!</span><br></pre></td></tr></table></figure>
<p><strong>âš ï¸å¹¶æŠŠæ‰€æœ‰ <code>pod</code> å¯¼å…¥çš„åº“ ä½¿ç”¨ <code>&lt;&gt;</code> å¯¼å…¥ è€Œä¸æ˜¯<code>&quot;&quot;</code> ä¾‹å¦‚<code>#import &lt;AFNetworking.h&gt;</code></strong></p>
<blockquote>
<p>âš ï¸ç¬¬ä¸‰åº“æŠ¥é”™å¤§å¤šéƒ½æ˜¯å¯¼å…¥æ–¹å¼ä¸å¯¹å¼•èµ·çš„âš ï¸</p>
</blockquote>
<h1 id="4-OC-å¼•ç”¨-Swift"><a href="#4-OC-å¼•ç”¨-Swift" class="headerlink" title="4. OC å¼•ç”¨ Swift"></a>4. OC å¼•ç”¨ Swift</h1><p>åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ <code>#import &quot;é¡¹ç›®å-Swift.h&quot;</code> ç„¶ååœ¨éœ€è¦è¢«å¼•ç”¨çš„å±æ€§ã€æ–¹æ³•å‰å¢åŠ  <code>@objc</code><br>âš ï¸ <code> é¡¹ç›®å-Swift.h è¿™ä¸ªæ˜¯éšè—æ–‡ä»¶çœ‹ä¸åˆ°</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class XXXViewController: UIViewController &#123;</span><br><span class="line"></span><br><span class="line">    @objc var name:String &#x3D; &quot;&quot;</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">    &#125;  </span><br><span class="line">    @objc func data()  &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Swift-å¼•ç”¨-OC"><a href="#5-Swift-å¼•ç”¨-OC" class="headerlink" title="5. Swift å¼•ç”¨ OC"></a>5. Swift å¼•ç”¨ OC</h1><p>æŠŠéœ€è¦å¼•ç”¨çš„æ–‡ä»¶å¯¼å…¥åˆ° <code>é¡¹ç›®å-Bridging-Header.h</code> ï¼Œå³å¯åœ¨ Swift ä¸­å¼•ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSæ··ç¼–</tag>
      </tags>
  </entry>
  <entry>
    <title>Xcode-å¿«æ·é”®ï¼ŒXcode12-æ‰“å¼€æ§åˆ¶å°</title>
    <url>/2020/11/22/500-Xcode-%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%8CXcode12-%E6%89%93%E5%BC%80%E6%8E%A7%E5%88%B6%E5%8F%B0/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>command + shift + y</td>
<td>æ‰“å¼€æ§åˆ¶å°</td>
</tr>
<tr>
<td>command + shift + j</td>
<td>å®šä½å½“å‰æ–‡ä»¶åœ¨å¯¼èˆª</td>
</tr>
<tr>
<td>command + shift + o</td>
<td>è¾“å…¥åå¿«é€Ÿè·³è½¬åˆ°å¯¹åº”æ–‡ä»¶ï¼Œè¿˜å¯è¾“å…¥æ–¹æ³•å</td>
</tr>
<tr>
<td>command + shift + L</td>
<td>æ‰“å¼€èµ„æºæ–‡ä»¶</td>
</tr>
<tr>
<td>command + shift + f</td>
<td>æœç´¢é¡¹ç›®</td>
</tr>
<tr>
<td>command + shift + k</td>
<td>clean é¡¹ç›®</td>
</tr>
<tr>
<td>command + shift + t</td>
<td>æ–°å¼€å½“å‰é¡¹ç›®</td>
</tr>
<tr>
<td>command + shift + ,</td>
<td>ç¼–è¾‘scheme</td>
</tr>
<tr>
<td>command + shift + 2</td>
<td>æ‰“å¼€å¯ç”¨è°ƒè¯•è®¾å¤‡</td>
</tr>
<tr>
<td>command + shift + w</td>
<td>å…³é—­é¡¹ç›®</td>
</tr>
<tr>
<td>command + r</td>
<td>è¿è¡Œé¡¹ç›®</td>
</tr>
<tr>
<td>command + b</td>
<td>build é¡¹ç›®</td>
</tr>
<tr>
<td>command + .</td>
<td>åœæ­¢å½“å‰æ“ä½œ</td>
</tr>
<tr>
<td>command + 0</td>
<td>å¼€å¯/å…³é—­ å¯¼èˆª</td>
</tr>
<tr>
<td>command + 1ï¼Œ2 â€¦ 9</td>
<td>å®æ“çœ‹ä¸‹æ•ˆæœå§</td>
</tr>
<tr>
<td>command + f</td>
<td>æœç´¢å½“å‰æ–‡ä»¶</td>
</tr>
<tr>
<td>command + L</td>
<td>è·³è½¬åˆ°å¯¹åº”è¡Œ</td>
</tr>
<tr>
<td>command + w</td>
<td>å…³é—­å½“å‰æ–‡ä»¶</td>
</tr>
<tr>
<td>command + y</td>
<td>å…³é—­æ–­ç‚¹è°ƒè¯•</td>
</tr>
<tr>
<td>command + \</td>
<td>æ‰“æ–­ç‚¹</td>
</tr>
<tr>
<td>command + ,</td>
<td>åå¥½è®¾ç½®</td>
</tr>
<tr>
<td>command + return</td>
<td>ä»…ç¼–è¾‘å™¨</td>
</tr>
<tr>
<td>control + 6</td>
<td>æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„æ–¹æ³•ï¼Œç„¶åå¯ä»¥ç»§ç»­è¾“æ–¹æ³•åå›è½¦è·³è½¬</td>
</tr>
<tr>
<td>control + 0</td>
<td>åˆ‡æ¢ Target</td>
</tr>
<tr>
<td>control + 4</td>
<td>åˆ‡æ¢é¡¹ç›®</td>
</tr>
<tr>
<td>command + option + w</td>
<td>ä¿ç•™å½“å‰æ‰“å¼€ï¼Œå…³é—­å…¶ä»–æ–‡ä»¶</td>
</tr>
</tbody></table>
<p>æ¬¢è¿è¡¥å……æ¯”è¾ƒå®ç”¨çš„å¿«æ·é”®ï¼</p>
]]></content>
      <categories>
        <category>Xcode</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</title>
    <url>/2020/12/02/500-iOS-Runtime/</url>
    <content><![CDATA[<h1 id="è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º"><a href="#è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º" class="headerlink" title="è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º"></a>è§£å†³å¯¼å…¥ <code>objc/Runtime.h</code> å’Œ <code>objc/message.h</code> å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</h1><p>Build Settings æœç´¢ <code>objc_msg</code><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-d1f64b02dd132e27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="Build Settings ä¿®æ”¹"
                ></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS Widget ä¸æ˜¾ç¤ºæ— æ³•æ·»åŠ ã€iOS Widget åŠ è½½ç½‘ç»œå›¾ç‰‡</title>
    <url>/2020/12/07/500-iOS-Widget-%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%97%A0%E6%B3%95%E6%B7%BB%E5%8A%A0-%E3%80%81iOS-Widget-%E5%8A%A0%E8%BD%BD%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<h3 id="Intent-Widget-å¼€å‘"><a href="#Intent-Widget-å¼€å‘" class="headerlink" title="Intent Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Static-Widget-å¼€å‘"><a href="#Static-Widget-å¼€å‘" class="headerlink" title="Static Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >Static Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"><a href="#Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°" class="headerlink" title="Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"></a>Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°</h1><p> å‡ºç°è¿™ç§æƒ…å†µï¼Œå¯èƒ½æ˜¯åªé…ç½®äº†å¯ç¼–è¾‘çš„ <code>Widget</code>ã€‚<br>å¯¼è‡´<code>NSExtensionPointIdentifier</code>åªæœ‰è¿™ä¸€ç§ç±»å‹ <code>com.apple.intents-service</code> ä¼šè¢«è¯†åˆ«ä¸º Siri æ‰©å±•ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>å†æ·»åŠ ä¸€ä¸ªä¸å¯ç¼–è¾‘çš„ <code>Widget</code> å³å¯ã€‚ä¸éœ€è¦å±•ç¤ºå‡ºï¼Œåœ¨ <code>@main</code>æ–¹æ³•é‡Œä¸æ·»åŠ å°±å¥½ã€‚<br>ç¡®å®šæ–°æ·»åŠ çš„<code>NSExtensionPointIdentifier</code>ç±»å‹ä¸º <code>com.apple.widgetkit-extension</code> ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-7fe44d27ed6af214.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="plist"
                ></p>
<hr>
<h1 id="Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"><a href="#Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥" class="headerlink" title="Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"></a>Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åŒæ­¥ä¸‹è½½å›¾ç‰‡ï¼ŒWidget ä¸èƒ½å¼‚æ­¥åˆ·æ–°</span><br><span class="line"></span><br><span class="line">funcgetImage(_imgUrlString:String) -&gt;UIImage? &#123;</span><br><span class="line"></span><br><span class="line"> guardletdata &#x3D;try?Data(contentsOf:URL(string: imgUrlString)!)else&#123;</span><br><span class="line"></span><br><span class="line">        print(&quot;å›¾ç‰‡ä¸‹è½½å¤±è´¥&quot;)</span><br><span class="line"></span><br><span class="line"> returnnil&#125;</span><br><span class="line"></span><br><span class="line">    print(&quot;å›¾ç‰‡ä¸‹è½½æˆåŠŸ&quot;)</span><br><span class="line"></span><br><span class="line"> returnUIImage(data: data)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">Image(uiImage:getImage(entry.imageUrlStr) ??UIImage(named:&quot;aaaa&quot;)!)</span><br><span class="line"></span><br><span class="line">                        .resizable()</span><br><span class="line"></span><br><span class="line">                        .frame(width:60,</span><br><span class="line"></span><br><span class="line">                               height:60,</span><br><span class="line"></span><br><span class="line">                               alignment: .center)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>iOSå°ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>WKWebView åŠ è½½ html</title>
    <url>/2020/12/17/500-iOS-WKWebView-loadHTMLString-%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87-%E4%B8%BA%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦æ˜¯é’ˆå¯¹åå°è¿”å›æ•°æ®æ˜¯ html æ ‡ç­¾çš„æ•°æ®åŠ è½½ã€‚å¼‚æ­¥åŠ è½½ html æ ‡ç­¾å†…çš„ img æ ‡ç­¾ï¼Œç»™ img æ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</p>
</blockquote>
<h1 id="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"><a href="#ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹" class="headerlink" title="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"></a>ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  ä¸€ã€ã€Šæœ›å¤©é—¨å±±ã€‹ ä½œè€…ï¼šå”ä»£æç™½ 1ã€åŸæ–‡</span><br><span class="line">  å¤©é—¨ä¸­æ–­æ¥šæ±Ÿå¼€ï¼Œç¢§æ°´ä¸œæµè‡³æ­¤å›ã€‚ä¸¤å²¸é’å±±ç›¸å¯¹å‡ºï¼Œå­¤å¸†ä¸€baiç‰‡æ—¥è¾¹æ¥ã€‚ 2ã€è¯‘æ–‡</span><br><span class="line">  å¤©é—¨å±±ä»ä¸­é—´æ–­è£‚æ˜¯æ¥šæ±ŸæŠŠå®ƒå†²å¼€ï¼Œç¢§æ°´å‘ä¸œæµ©ç„¶å¥”æµåˆ°è¿™é‡ŒæŠ˜å›ã€‚</span><br><span class="line">  ä¸¤å²¸é«˜è€¸çš„é’å±±éš”ç€é•¿æ±Ÿç›¸å³™è€Œç«‹ï¼Œæ±Ÿé¢ä¸Šä¸€å¶å­¤èˆŸåƒä»æ—¥è¾¹é©¶æ¥ã€‚</span><br><span class="line">  &lt;img</span><br><span class="line">    src&#x3D;&quot;https:&#x2F;&#x2F;wx2.sinaimg.cn&#x2F;large&#x2F;006CHHsBly1gkxrs7785ej31402eoe84.jpg&quot;</span><br><span class="line">  &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line"></span><br><span class="line">å®Œæ•´çš„ html æ ‡ç­¾æ•°æ®</span><br></pre></td></tr></table></figure>
<p> è¿™äº›æ•°æ®ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨äº†å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘çš„å†…å®¹ï¼Œè€Œä¸”å„ç§æ ‡ç­¾æ ·å¼éƒ½æœ‰å¯èƒ½ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ WKWebView æ¥åŠ è½½ï¼<br> ä½†æ˜¯å¦‚æœå†…å®¹å«æœ‰ img æ ‡ç­¾çš„è¯å°±ä¼šç­‰å¾…æ‰€æœ‰çš„å›¾ç‰‡åŠ è½½å®Œæ‰ä¼šå±•ç¤ºå‡ºæ•´ä½“çš„æ ·å¼ï¼Œè¿™æ ·æ¯”è¾ƒå½±å“ä½“éªŒã€‚<br> æ‰€ä»¥åº”è¯¥è€ƒè™‘å¼‚æ­¥åŠ è½½å›¾ç‰‡ï¼Œè€Œä¸å½±å“æ–‡å­—ç­‰æ ‡ç­¾æ ·å¼çš„å±•ç¤ºã€‚</p>
<h1 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h4 id="1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme"><a href="#1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme" class="headerlink" title="1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme"></a>1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)changeImageScheme &#123;</span><br><span class="line">    self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:self.oriImageUrl withString:self.xxxCustomImageUrl];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"><a href="#2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°" class="headerlink" title="2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"></a>2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)addJsScript &#123;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlLab &#x3D; @&quot;&lt;&#x2F;html&gt;&quot;;</span><br><span class="line">    NSString *scriptLab1 &#x3D; @&quot;&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">    </span><br><span class="line">    NSString *jsFunctionString &#x3D; @&quot;function xxxGetAllImg() &#123; return document.getElementsByTagName(\&quot;img\&quot;); &#125;\</span><br><span class="line">    function xxxUpdateImage(url, imgData) &#123;  var list &#x3D; Array.from(xxxGetAllImg()); for (let item of list) &#123;  if ((item.src &#x3D;&#x3D; url)) &#123; item.src &#x3D; imgData;   break; &#125; &#125; &#125;        &quot;;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    if (![self.htmlString containsString:htmlLab]) &#123;</span><br><span class="line">        [self addHtmlLab];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if ([self.htmlString containsString:scriptLab1]) &#123;</span><br><span class="line">     </span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@&quot;,jsFunctionString,scriptLab1];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:scriptLab1 withString:scriptString];</span><br><span class="line">        </span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        NSString *scriptLab0 &#x3D; @&quot;&lt;script&gt;&quot;;</span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@%@%@&quot;,scriptLab0,jsFunctionString,scriptLab1,htmlLab];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:htmlLab withString:scriptString];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»"><a href="#3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»" class="headerlink" title="3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»"></a>3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@interface XXXCustomSchemeHanlder : NSObject &lt;WKURLSchemeHandler&gt;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy) NSString *oriImageUrl;</span><br><span class="line">@property (nonatomic, copy) NSString *oriImageScheme;</span><br><span class="line">@property (nonatomic, strong) UIImage *placeholderImage;</span><br><span class="line">@property (nonatomic, copy) void(^updateImageBlock)(void);</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"><a href="#4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½" class="headerlink" title="4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"></a>4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)webView:(nonnull WKWebView *)webView startURLSchemeTask:(nonnull id&lt;WKURLSchemeTask&gt;)urlSchemeTask &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    UIImage *image &#x3D; self.placeholderImage;</span><br><span class="line">    NSData *data &#x3D; UIImageJPEGRepresentation(image, 1.0);</span><br><span class="line">    NSURLResponse *response &#x3D; [[NSURLResponse alloc] initWithURL:urlSchemeTask.request.URL MIMEType:@&quot;image&#x2F;jpeg&quot; expectedContentLength:data.length textEncodingName:nil];</span><br><span class="line">    [urlSchemeTask didReceiveResponse:response];</span><br><span class="line">    [urlSchemeTask didReceiveData:data];</span><br><span class="line">    [urlSchemeTask didFinish];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if (self.updateImageBlock) &#123;</span><br><span class="line">        self.updateImageBlock();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlImageUrlStr &#x3D; [NSString stringWithFormat:@&quot;%@&quot;,urlSchemeTask.request.URL];</span><br><span class="line">    NSString *dloadImageUrlStr &#x3D; [htmlImageUrlStr stringByReplacingOccurrencesOfString:XXXCustomImageScheme withString:self.oriImageScheme];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        </span><br><span class="line">        [self readImageForKey:dloadImageUrlStr htmlImageUrlStr:htmlImageUrlStr webView:webView];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)readImageForKey:(NSString *)dloadImageUrlStr htmlImageUrlStr:(NSString *)htmlImageUrlStr webView:(WKWebView *)webView &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSURL *url &#x3D; [NSURL URLWithString:dloadImageUrlStr];</span><br><span class="line">    [[SDWebImageManager sharedManager] loadImageWithURL:url options:SDWebImageRetryFailed progress:nil completed:^(UIImage * _Nullable image, NSData * _Nullable data, NSError * _Nullable error, SDImageCacheType cacheType, BOOL finished, NSURL * _Nullable imageURL) &#123;</span><br><span class="line">        if (image || data) &#123;</span><br><span class="line">            NSData *imgData &#x3D; data;</span><br><span class="line">            if (!imgData) &#123;</span><br><span class="line">                imgData &#x3D; UIImageJPEGRepresentation(image, 1);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                [weakSelf callJsUpdateImage:webView imageData:imgData htmlImageUrlStr:htmlImageUrlStr];</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        if (error) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)callJsUpdateImage:(WKWebView *)webView imageData:(NSData *)imageData htmlImageUrlStr:(NSString *)imageUrlString &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSString *imageDataStr &#x3D; [NSString stringWithFormat:@&quot;data:image&#x2F;png;base64,%@&quot;,[imageData base64EncodedString]];</span><br><span class="line">    NSString *func &#x3D; [NSString stringWithFormat:@&quot;xxxUpdateImage(&#39;%@&#39;,&#39;%@&#39;)&quot;,imageUrlString,imageDataStr];</span><br><span class="line">    [webView evaluateJavaScript:func completionHandler:^(id _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        if (weakSelf.updateImageBlock &amp;&amp; !error) &#123;</span><br><span class="line">            weakSelf.updateImageBlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"><a href="#5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯" class="headerlink" title="5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"></a>5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">WKWebViewConfiguration *config &#x3D; [[WKWebViewConfiguration alloc] init];</span><br><span class="line">XXXCustomSchemeHanlder *schemeHandler &#x3D; XXXCustomSchemeHanlder.new;</span><br><span class="line"></span><br><span class="line">schemeHandler.oriImageScheme &#x3D; self.oriImageScheme;</span><br><span class="line">schemeHandler.oriImageUrl &#x3D; self.oriImageUrl;</span><br><span class="line">schemeHandler.placeholderImage &#x3D; self.placeholderImage;</span><br><span class="line"></span><br><span class="line">__weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">schemeHandler.updateImageBlock &#x3D; ^ &#123;</span><br><span class="line">    [weakSelf updateHeight];</span><br><span class="line">&#125;;</span><br><span class="line">[config setURLSchemeHandler:schemeHandler forURLScheme:XXXCustomImageScheme];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">WKWebView  *webView &#x3D; [[WKWebView alloc]initWithFrame:CGRectMake(0, 0, self.width, self.height) configuration:config];</span><br></pre></td></tr></table></figure>

<h4 id="6-æ›´æ–°é«˜åº¦"><a href="#6-æ›´æ–°é«˜åº¦" class="headerlink" title="6. æ›´æ–°é«˜åº¦"></a>6. æ›´æ–°é«˜åº¦</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)updateHeight &#123;</span><br><span class="line">    [self nowUpdateHeight];</span><br><span class="line">    [self delayUpdateHeight];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)nowUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    [self.webView evaluateJavaScript:@&quot;document.body.offsetHeight&quot; completionHandler:^(id _Nullable result,NSError * _Nullable error) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F; é«˜åº¦ä¼šæœ‰ä¸€ç‚¹å°‘ ï¼Œæ‰‹åŠ¨è¡¥ä¸Š 20</span><br><span class="line">        CGFloat height &#x3D; [result floatValue] + 20.0;</span><br><span class="line">        weakSelf.webView.height &#x3D; height;</span><br><span class="line">        weakSelf.height &#x3D; height;</span><br><span class="line">        if (weakSelf.loadOverHeight) &#123;</span><br><span class="line">            weakSelf.loadOverHeight(height);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)delayUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, DelayTime * NSEC_PER_SEC), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [self nowUpdateHeight];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Demoä¸‹è½½-1"><a href="#Demoä¸‹è½½-1" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ä¸ web äº¤äº’ä¼ å›¾</title>
    <url>/2020/12/07/500-iOS-%E4%B8%8E-web-%E4%BA%A4%E4%BA%92-%E4%BC%A0%E5%9B%BE/</url>
    <content><![CDATA[<p>web ç«¯å°†å›¾ç‰‡ base64 ç¼–ç åä¼ ç»™ iOS ç«¯ï¼Œä¼šåœ¨ base64 ç¼–ç å‰åŠ ä¸Š <code>data:image/png;base64,</code> éœ€è¦å…ˆæŠŠè¿™ä¸€ä¸²ç»™å»æ‰åè¿›è¡Œè§£ç ï¼Œç„¶åè½¬ data å†è½¬ä¸º image </p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOS ä¿®æ”¹çŠ¶æ€æ çš„é¢œè‰² preferredStatusBarStyle</title>
    <url>/2020/11/02/500-iOS-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E9%A2%9C%E8%89%B2-preferredStatusBarStyle/</url>
    <content><![CDATA[<h3 id="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸"><a href="#âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸" class="headerlink" title="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸"></a>âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">1. é‡å†™ UINavigationController çš„ childViewControllerForStatusBarStyle</span><br><span class="line">å¯ä»¥å†™åœ¨åŸºç±»çš„ UINavigationController ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Category</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIViewController *)childViewControllerForStatusBarStyle &#123;</span><br><span class="line">    return self.topViewController;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift </span><br><span class="line">override var childForStatusBarStyle: UIViewController? &#123;</span><br><span class="line">        return topViewController</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">2.  åœ¨éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²çš„ UIViewController ä¸­å®ç° preferredStatusBarStyle</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIStatusBarStyle)preferredStatusBarStyle &#123;</span><br><span class="line">   return UIStatusBarStyleLightContent;</span><br><span class="line">   &#x2F;&#x2F; return UIStatusBarStyleDefault;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">override var preferredStatusBarStyle: UIStatusBarStyle &#123;</span><br><span class="line">      return .lightContent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">3. å½“è§¦å‘æŸä¸ªæ¡ä»¶éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²æ—¶åœ¨ UIViewController ä¸­è°ƒç”¨</span><br><span class="line">ç„¶ååœ¨ - (UIStatusBarStyle)preferredStatusBarStyle; ä¸­åˆ¤æ–­ä½ çš„æ¡ä»¶æ˜¯å¦æ»¡è¶³æ”¹å˜é¢œè‰²</span><br><span class="line">*&#x2F;</span><br><span class="line">[self setNeedsStatusBarAppearanceUpdate];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">setNeedsStatusBarAppearanceUpdate()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>iOSä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>OC ä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>Swiftä¿®æ”¹çŠ¶æ€æ é¢œè‰²</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¤š Target CocoaPods ç®¡ç†</title>
    <url>/2020/11/28/500-iOS-%E5%A4%9A-Target-CocoaPods-%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"><a href="#1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­" class="headerlink" title="1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"></a>1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">platform :ios, &quot;11.0&quot;</span><br><span class="line">source &quot;https:&#x2F;&#x2F;cdn.cocoapods.org&#x2F;&quot;</span><br><span class="line">#source &#39;https:&#x2F;&#x2F;github.com&#x2F;CocoaPods&#x2F;Specs.git&#39;</span><br><span class="line"></span><br><span class="line">#å®šä¹‰å…¬å…±åº“</span><br><span class="line">def commonPods</span><br><span class="line">  use_frameworks!</span><br><span class="line"></span><br><span class="line">  pod &quot;KakaJSON&quot;, &quot;~&gt; 1.1.2&quot;</span><br><span class="line">  pod &quot;SnapKit&quot;, &quot;~&gt; 5.0.1&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">#ä¸º Target1 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target1&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;YYCategories&quot;</span><br><span class="line">  pod &quot;Alamofire&quot;, &quot;~&gt; 5.2.2&quot;</span><br><span class="line">end</span><br><span class="line">#ä¸º Target2 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target2&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;Moya&quot;, &quot;~&gt; 14.0.0&quot;</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­"><a href="#2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­" class="headerlink" title="2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­"></a>2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­</h1><h3 id="Swift-è®¾ç½®"><a href="#Swift-è®¾ç½®" class="headerlink" title="Swift è®¾ç½®"></a>Swift è®¾ç½®</h3><p>Build Settings æœç´¢ <code>swift compiler</code> å…·ä½“çœ‹å›¾<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-da3235308811d72b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ·»åŠ  Target åˆ¤æ–­æ¡ä»¶"
                ></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#if MAINTARGET</span><br><span class="line">tipLab.text &#x3D; &quot;mmmm&quot;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="OC-è®¾ç½®"><a href="#OC-è®¾ç½®" class="headerlink" title="OC è®¾ç½®"></a>OC è®¾ç½®</h3><p>Build Settings æœç´¢ <code>macros</code> å…·ä½“çœ‹å›¾<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-3ae5817bcb53187d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="OC æ“ä½œå›¾"
                ></p>
<h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> #ifdef TARGETMAIN</span><br><span class="line">NSLog(@&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;TARGETMAIN&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;);</span><br><span class="line"> #endif</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CocoaPods</tag>
        <tag>Target</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS-æŠ¥é”™-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS</title>
    <url>/2020/11/20/500-iOS-%E6%8A%A5%E9%94%99-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS-(App-E/</url>
    <content><![CDATA[<p>è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†åœ¨ App Extension å†…ä¸å®‰å…¨çš„API</p>
<h3 id="è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="è§£å†³åŠæ³•è§ä¸‹å›¾"></a>è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-2161dedfa7242b3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ“ä½œæ­¥éª¤å›¾"
                ></p>
<h3 id="CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"></a>CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-0b33c4b741a47ed7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ“ä½œæ­¥éª¤å›¾"
                ></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>App Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</title>
    <url>/2020/11/27/500-iOS14-Widget-%E5%BC%80%E5%8F%91-1/</url>
    <content><![CDATA[<h3 id="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget"><a href="#æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget" class="headerlink" title="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget"></a>æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</h3><h3 id="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹"><a href="#ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹" class="headerlink" title="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><h3 id="ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡"><a href="#ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡" class="headerlink" title="ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡"></a><a class="link"   href="https://www.jianshu.com/p/a80d59c94442" >ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å…ˆæ¥çœ‹æ•ˆæœå›¾"><a href="#å…ˆæ¥çœ‹æ•ˆæœå›¾" class="headerlink" title="å…ˆæ¥çœ‹æ•ˆæœå›¾"></a>å…ˆæ¥çœ‹æ•ˆæœå›¾</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-196fcdf3f96e1360.JPEG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ•ˆæœå›¾"
                ></p>
<h1 id="å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶"><a href="#å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶" class="headerlink" title="å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶"></a>å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶</h1><h3 id="1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚"><a href="#1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚" class="headerlink" title="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚"></a>1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-4c736e922128a5f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intent"
                ></p>
<h3 id="2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§"><a href="#2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§" class="headerlink" title="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§"></a>2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-e26dffe1a81d1a99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ å…·ä½“æ“ä½œçœ‹å›¾å§"
                ></p>
<h3 id="3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼"><a href="#3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼" class="headerlink" title="3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼"></a>3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-6c898cf25193f0c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="image.png"
                ></p>
<h3 id="4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist"><a href="#4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist" class="headerlink" title="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"></a>4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;NSExtension&lt;&#x2F;key&gt;</span><br><span class="line">	&lt;dict&gt;</span><br><span class="line">		&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;array&gt;</span><br><span class="line">			&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionAttributes&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileLocked&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileProtectedDataUnavailable&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&gt;</span><br><span class="line">				&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">			&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;&#x2F;dict&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPointIdentifier&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;com.apple.intents-service&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPrincipalClass&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;$(PRODUCT_MODULE_NAME).IntentHandler&lt;&#x2F;string&gt;</span><br><span class="line">	&lt;&#x2F;dict&gt;</span><br></pre></td></tr></table></figure>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-8bb6ff14aab5c9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"
                ></p>
<h3 id="5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½"><a href="#5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½" class="headerlink" title="5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)"></a>5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Intents</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶</span><br><span class="line">class IntentHandler: INExtension, AnimalWidgetConfigurationIntentHandling &#123; &#x2F;&#x2F; AnimalWidgetConfigurationIntentHandling æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š IntentHandling åç¼€</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; é…ç½®ç»™ç”¨æˆ·å¯é€‰çš„åˆ—è¡¨                    AnimalWidgetConfigurationIntent æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š Intent åç¼€</span><br><span class="line">    func provideAnimalOptionsCollection(for intent: AnimalWidgetConfigurationIntent, searchTerm: String?, with completion: @escaping (INObjectCollection&lt;Animal&gt;?, Error?) -&gt; Void) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; è¿™é‡Œå¯ä»¥å»è¯·æ±‚ç½‘ç»œæ‹¿æ•°æ®</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F;æœç´¢è¯ searchTerm æœç´¢cat</span><br><span class="line">        if searchTerm &#x3D;&#x3D; &quot;cat&quot; &#123;</span><br><span class="line">            completion(INObjectCollection(items: [Animal(identifier: &quot;cat&quot;, display: &quot;cat&quot;)]), nil)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let animals: [Animal] &#x3D; XXXAnimal.zoo.map &#123; (xxxAnimal) in</span><br><span class="line">            return Animal(identifier: xxxAnimal.id, display: xxxAnimal.name)</span><br><span class="line">        &#125;</span><br><span class="line">        completion(INObjectCollection(items: animals), nil)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func handler(for intent: INIntent) -&gt; Any &#123;</span><br><span class="line">        return self</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹"><a href="#6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹" class="headerlink" title="6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹"></a>6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœä½ çš„å·¥ç¨‹å·²ç»å­˜åœ¨äº†ä¸€ä¸ª Widget å°† @main å»æ‰</span><br><span class="line">ä½¿ç”¨ä¸‹é¢</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æˆ‘çš„è¿™éƒ¨åˆ†ä»£ç åœ¨ XXXWidget.swift</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">        AnimalWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="ä¿®æ”¹-TimelineEntry"><a href="#ä¿®æ”¹-TimelineEntry" class="headerlink" title="ä¿®æ”¹ TimelineEntry"></a>ä¿®æ”¹ TimelineEntry</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct SimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    let configuration: ConfigurationIntent</span><br><span class="line">&#125;</span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line">&#x2F;&#x2F;&#x2F; é‡æ–°å‘½å å»æ‰ let configuration: ConfigurationIntent  ï¼ˆä¹Ÿå¯ä»¥ä¿ç•™ä½†ç±»å‹æ˜¯ AnimalWidgetConfigurationIntentï¼‰</span><br><span class="line">&#x2F;&#x2F;&#x2F;å¢åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">struct AnimalSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ–°åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">    let animal: XXXAnimal</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¿®æ”¹-IntentTimelineProvider"><a href="#ä¿®æ”¹-IntentTimelineProvider" class="headerlink" title="ä¿®æ”¹ IntentTimelineProvider"></a>ä¿®æ”¹ IntentTimelineProvider</h4><h4 id="ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸"><a href="#ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸" class="headerlink" title="ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸"></a><strong>ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct Provider: IntentTimelineProvider &#123;</span><br><span class="line">    func placeholder(in context: Context) -&gt; SimpleEntry &#123;</span><br><span class="line">        SimpleEntry(date: Date(), configuration: ConfigurationIntent())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (SimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; SimpleEntry(date: Date(), configuration: configuration)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getTimeline(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        var entries: [SimpleEntry] &#x3D; []</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Generate a timeline consisting of five entries an hour apart, starting from the current date.</span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        for hourOffset in 0 ..&lt; 5 &#123;</span><br><span class="line">            let entryDate &#x3D; Calendar.current.date(byAdding: .hour, value: hourOffset, to: currentDate)!</span><br><span class="line">            let entry &#x3D; SimpleEntry(date: entryDate, configuration: configuration)</span><br><span class="line">            entries.append(entry)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let timeline &#x3D; Timeline(entries: entries, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é‡æ–°å‘½å</span><br><span class="line">struct AnimalProvider: IntentTimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">&#x2F;&#x2F; æŒ‰ç…§è¦æ±‚å¢åŠ   Entry å’Œ Intent</span><br><span class="line">    typealias Entry &#x3D; AnimalSimpleEntry</span><br><span class="line">    typealias Intent &#x3D; AnimalWidgetConfigurationIntent</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    func placeholder(in context: Context) -&gt; AnimalSimpleEntry &#123;</span><br><span class="line">        AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (AnimalSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    func getTimeline(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        guard let id &#x3D; configuration.animal?.identifier, let entryDate &#x3D; Calendar.current.date(byAdding: .minute, value: 1, to: currentDate) else &#123;</span><br><span class="line">            let timeline &#x3D; Timeline(entries: [AnimalSimpleEntry(date: currentDate, animal: .lion)], policy: .atEnd)</span><br><span class="line">            completion(timeline)</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: entryDate, animal: XXXAnimal.animal(id, color: configuration.color))</span><br><span class="line">        </span><br><span class="line">        let timeline &#x3D; Timeline(entries: [entry], policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†"><a href="#å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†" class="headerlink" title="å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†"></a>å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†</h2><h1 id="ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸"><a href="#ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸" class="headerlink" title="ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸"></a>ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-194231fd2ac108f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="å…¶ä»–æ³¨æ„"
                ></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS14 Widget</title>
    <url>/2020/11/26/500-iOS14-Widget-%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h3 id="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget"><a href="#è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget" class="headerlink" title="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget"></a>è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget</h3><h3 id="Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"><a href="#Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹" class="headerlink" title="Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-126d13797dd4e2de.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ•ˆæœå›¾"
                ></p>
<h3 id="ä»£ç å¦‚ä¸‹"><a href="#ä»£ç å¦‚ä¸‹" class="headerlink" title="ä»£ç å¦‚ä¸‹"></a>ä»£ç å¦‚ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ—¶é—´çº¿</span><br><span class="line">struct XXXProvider: TimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å ä½çš„å±•ç¤º</span><br><span class="line">    func placeholder(in context: Context) -&gt; XXXSimpleEntry &#123;</span><br><span class="line">        XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å¿«ç…§</span><br><span class="line">    func getSnapshot(in context: Context, completion: @escaping (XXXSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F;æ ¹æ®æ—¶é—´çº¿æä¾›éœ€è¦å±•ç¤ºçš„çŠ¶æ€</span><br><span class="line">    func getTimeline(in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        print(&quot;æ—¶é—´çº¿åˆ·æ–°äº†&quot; + &quot;\(Date())&quot;)</span><br><span class="line">        </span><br><span class="line">        var entrys: [XXXSimpleEntry] &#x3D; []</span><br><span class="line">        let currentData &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; æä¾›å½“å‰æ—¶é—´å 1ä¸ªå°æ—¶å†…  æ¯ä¸€ç§’çš„çŠ¶æ€ (å·²ç»æä¾›äº†3600ä¸ªçŠ¶æ€ï¼Œå¤ªå¤šä¼šä¸å±•ç¤ºå¡æ­»)</span><br><span class="line">        for i in 0...60*60 &#123;</span><br><span class="line">            guard let entryDate &#x3D; Calendar.current.date(byAdding: .second, value: i, to: currentData) else &#123;</span><br><span class="line">                return</span><br><span class="line">            &#125;</span><br><span class="line">            entrys.append(XXXSimpleEntry(date: entryDate, displayTime: XXXData.displayData(entryDate)))</span><br><span class="line">        &#125;</span><br><span class="line">        let timeline &#x3D; Timeline(entries: entrys, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ¯ä¸€ä¸ªæ—¶é—´çº¿çš„å®ä½“</span><br><span class="line">struct XXXSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F;å±•ç¤ºè¯¥çŠ¶æ€çš„æ—¶é—´</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è‡ªå·±é…ç½®çš„æ•°æ®</span><br><span class="line">    let displayTime: String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; widget å±•ç¤º view</span><br><span class="line">struct XXXWidgetEntryView : View &#123;</span><br><span class="line">    var entry: XXXProvider.Entry</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è¿”å›åœ¨è¿™ä¸ªæ—¶é—´ (entry.date)    ä½ æƒ³è¦å±•ç¤ºçš„widegtæ ·å¼</span><br><span class="line">    var body: some View &#123;</span><br><span class="line">        ZStack &#123;</span><br><span class="line">            </span><br><span class="line">            Color.orange.edgesIgnoringSafeArea(.all)</span><br><span class="line">            VStack &#123;</span><br><span class="line">                Text(entry.displayTime)</span><br><span class="line">                    .multilineTextAlignment(.center)</span><br><span class="line">                    .foregroundColor(.blue)</span><br><span class="line">                    &#x2F;&#x2F;&#x2F;é…ç½®ç‚¹å‡»é“¾æ¥ä¼šåœ¨ä¸»å·¥ç¨‹æ”¶åˆ°æ‹‰èµ·äº‹ä»¶</span><br><span class="line">                    .widgetURL(URL(string: &quot;widgetDemo:&#x2F;&#x2F;789&quot;))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;widget</span><br><span class="line">struct XXXWidget: Widget &#123;</span><br><span class="line">    let kind: String &#x3D; &quot;XXXWidget&quot;</span><br><span class="line"></span><br><span class="line">    var body: some WidgetConfiguration &#123;</span><br><span class="line">        &#x2F;&#x2F;&#x2F; StaticConfiguration æ˜¯é™æ€çš„ï¼Œç”¨æˆ·ä¸å¯é…ç½®çš„ é•¿æŒ‰ä¸ä¼šå‡ºç°ç¼–è¾‘</span><br><span class="line">        StaticConfiguration(kind: kind, provider: XXXProvider()) &#123; entry in</span><br><span class="line">            XXXWidgetEntryView(entry: entry)</span><br><span class="line">        &#125;</span><br><span class="line">        .configurationDisplayName(&quot;æ·»åŠ æ—¶çš„æ ‡é¢˜&quot;)</span><br><span class="line">        .description(&quot;æ·»åŠ æ—¶çš„æè¿°&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;æä¾›é¢„è§ˆçŠ¶æ€</span><br><span class="line">struct XXXWidget_Previews: PreviewProvider &#123;</span><br><span class="line">    </span><br><span class="line">    static var previews: some View &#123;</span><br><span class="line">        XXXWidgetEntryView(entry: XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData()))</span><br><span class="line">            .previewContext(WidgetPreviewContext(family: .systemSmall))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä¸»å…¥å£</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"><a href="#éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾" class="headerlink" title="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"></a>éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-d4e70bcacfcacc7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="File -&gt; New -&gt; Target"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-b19a4ce4f064179c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„widgetï¼Œå‹¾é€‰çš„æ˜¯ç”¨æˆ·å¯é…ç½®çš„ã€‚æˆ‘ä»¬å…ˆæ¥åšä¸å¯é…ç½®çš„"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-786376718471b3c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="è°ƒæ•´æœ€ä½è¿è¡Œç³»ç»Ÿ"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-5fcaf3ede4232577.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="å…³è”ä¸»å·¥ç¨‹æ•°æ®"
                ></p>
<h1 id="Demo-ä¸‹è½½-1"><a href="#Demo-ä¸‹è½½-1" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢</title>
    <url>/2020/11/24/500-iOS%E5%8D%A0%E4%BD%8D%E5%9B%BE%E3%80%81%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%9D%A2/</url>
    <content><![CDATA[<h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"></a>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew</h1><h1 id="ğŸ˜„ğŸ˜„ğŸ˜„"><a href="#ğŸ˜„ğŸ˜„ğŸ˜„" class="headerlink" title="ğŸ˜„ğŸ˜„ğŸ˜„"></a>ğŸ˜„ğŸ˜„ğŸ˜„</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://upload-images.jianshu.io/upload_images/2331323-337781e6ecaac4ae.gif?imageMogr2/auto-orient/strip"
                      alt="tableViewä½¿ç”¨æ•ˆæœ"
                ></p>
<p> <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://upload-images.jianshu.io/upload_images/2331323-37d81ba5477c72c3.gif?imageMogr2/auto-orient/strip"
                      alt="viewä½¿ç”¨æ•ˆæœ"
                ></p>
<h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><em>æ³¨æ„</em></h1><h5 id="1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"><a href="#1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾" class="headerlink" title="1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"></a>1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾</h5><h5 id="2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"><a href="#2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰" class="headerlink" title="2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"></a>2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰</h5><h5 id="3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"><a href="#3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹" class="headerlink" title="3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"></a>3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹</h5><h5 id="4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"><a href="#4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶" class="headerlink" title="4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"></a>4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</h5><h5 id="5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"><a href="#5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚" class="headerlink" title="5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"></a>5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚</h5><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod repo update</span><br><span class="line">rm ~&#x2F;Library&#x2F;Caches&#x2F;CocoaPods&#x2F;search_index.json  (æ¸…é™¤æœç´¢ç¼“å­˜)</span><br><span class="line">pod &#39;XXXPlaceholder&#39;, &#39;~&gt; 0.0.1&#39;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>å‚ç…§demoåˆ›å»ºå ä½å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;selfä¸ºtableView</span><br><span class="line">self.xxx_emptyView &#x3D; [XXXPlaceholderView emptyView];</span><br><span class="line">self.xxx_noNetworkView &#x3D; [XXXPlaceholderView noNetworkView];</span><br><span class="line">&#x2F;&#x2F;å ä½å›¾ä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>tableViewã€collectionView å±•ç¤ºå ä½å›¾è°ƒç”¨</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadData;</span><br><span class="line"> </span><br><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadDataWithClickBlock:  (nullable   XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line">[self.tableView xxx_reloadDataWithClickBlock:^&#123;</span><br><span class="line">           &#x2F;&#x2F;è¿™é‡Œåšå†æ¬¡è¯·æ±‚</span><br><span class="line">        &#125;];</span><br></pre></td></tr></table></figure></li>
<li><p>viewä½¿ç”¨ </p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#x2F;**</span><br><span class="line"> å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_showEmptyView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showEmptyViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line"> ç§»å‡ºæ‰€æœ‰å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_removePlaceholderView;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h1 id="Githubç›´è¾¾"><a href="#Githubç›´è¾¾" class="headerlink" title="Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1></li>
</ol>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOSæ‹–æ‹½å¡ç‰‡</title>
    <url>/2020/11/22/500-iOS%E6%8B%96%E6%8B%BD%E5%8D%A1%E7%89%87%E5%8F%A0%E5%8A%A0%E5%8D%A1%E7%89%87/</url>
    <content><![CDATA[<h1 id="github-XXXCardStore"><a href="#github-XXXCardStore" class="headerlink" title="github XXXCardStore"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXCardStore" >github XXXCardStore<i class="fas fa-external-link-alt"></i></a></h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://upload-images.jianshu.io/upload_images/2331323-86f449d502adaa19.gif?imageMogr2/auto-orient/strip"
                      alt="æ•ˆæœå›¾"
                ></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="http://upload-images.jianshu.io/upload_images/2331323-70de1ba83f9ad822.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="è¯´æ˜å›¾"
                ></p>
<h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><ol>
<li>pod search XXXCardStore<br>å¦‚æœªæœç´¢åˆ° è¯·æ‰§è¡Œ pod repo update è¿›è¡Œæ›´æ–°ï¼Œç„¶åæ¸…é™¤æœç´¢ç¼“å­˜ rm ~/Library/Caches/CocoaPods/search_index.json</li>
<li>pod â€˜XXXCardStoreâ€™</li>
<li>import &lt; XXXCardStore .h&gt;</li>
</ol>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">XXXCardStore *xxx &#x3D; [XXXCardStore new];</span><br><span class="line">    [self.view addSubview:xxx];</span><br><span class="line">    xxx.frame &#x3D; CGRectMake(50, 100, 300, 200);</span><br><span class="line">    xxx.cardOffset &#x3D; 10.0;</span><br><span class="line">    xxx.isInfiniteLoop &#x3D;YES;</span><br><span class="line">    xxx.delegate &#x3D; self;</span><br><span class="line">    xxx.imgUrlStrArr &#x3D; @[@&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;203fb80e7bec54e7c340af43b2389b504fc26a3b.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;0d338744ebf81a4c6231d43ddb2a6059242da6c6.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;a.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;4e4a20a4462309f788a28152790e0cf3d6cad6a4.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;810a19d8bc3eb135101902e6ad1ea8d3fc1f4494.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;86d6277f9e2f0708a5559f5de224b899a901f21f.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;h.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;ca1349540923dd5441e81235da09b3de9d8248d7.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;c.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;faedab64034f78f09d3f2eae72310a55b3191cb2.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;622762d0f703918f037f88975a3d269758eec4c5.jpg&quot;</span><br><span class="line">                         ];</span><br><span class="line">    [xxx reloadData];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tapCard:(NSInteger)index cardStore:(UIView *)xxxCardStore&#123;</span><br><span class="line"></span><br><span class="line">    NSLog(@&quot;--- tap   &#x3D;&#x3D;&#x3D;  %ld&quot;,index);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"><a href="#è‡ªå®šä¹‰å¡ç‰‡å†…å®¹" class="headerlink" title="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"></a>è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</span><br><span class="line"> </span><br><span class="line"> @param customCard ä½ çš„customView å†…éƒ¨è¯•å›¾æœªæ¸…é™¤</span><br><span class="line"> @param index éœ€è¦å‡†å¤‡çš„ cardçš„ index</span><br><span class="line"> @param xxxCardStore xxxCardStore ä¸»ä½“</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)customCardView:(UIView *)customCard index:(NSInteger)index cardStore:(UIView *)xxxCardStore;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¼•å…¥æ¨¡å—ï¼ŒApp.js</title>
    <url>/2021/01/14/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%BC%95%E5%85%A5%E6%A8%A1%E5%9D%97/</url>
    <content><![CDATA[<h1 id="åˆ›å»ºä¸€ä¸ªæ¨¡å—-utils-appConfig-js"><a href="#åˆ›å»ºä¸€ä¸ªæ¨¡å—-utils-appConfig-js" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ¨¡å— utils/appConfig.js"></a>åˆ›å»ºä¸€ä¸ªæ¨¡å— utils/appConfig.js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const appConfig &#x3D; &#123;</span><br><span class="line">  host: &#39;https:&#x2F;&#x2F;www.baidu.com&#39;,</span><br><span class="line">  sayHi(e) &#123;</span><br><span class="line">    console.log(&#39;hi&#39; + e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default appConfig</span><br></pre></td></tr></table></figure>

<h1 id="å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨-å…¶ä»–-js-æ–‡ä»¶å†…"><a href="#å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨-å…¶ä»–-js-æ–‡ä»¶å†…" class="headerlink" title="å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨     å…¶ä»– .js æ–‡ä»¶å†…"></a>å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨     å…¶ä»– .js æ–‡ä»¶å†…</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import appConfig from &#39;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;appConfig.js&#39;;</span><br><span class="line">console.log(appConfig.host);</span><br><span class="line">appConfig.sayHi(&#39;æœ±å°æ˜&#39;)</span><br></pre></td></tr></table></figure>


<h1 id="è·å–-App-js"><a href="#è·å–-App-js" class="headerlink" title="è·å– App.js"></a>è·å– App.js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;app.js</span><br><span class="line">App(&#123;</span><br><span class="line">  userToken:&#39;zhu xiao ming&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;&#x2F; çœç•¥å…¶ä»–</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">console.log(app.userToken);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>iOS mask é®ç½©ï¼Œå½©è‰²æ–‡æœ¬</title>
    <url>/2020/11/20/500-iOS%E6%B8%90%E5%8F%98%E5%BD%A9%E8%89%B2%E6%96%87%E5%AD%97%E3%80%81iOS-mask-%E9%81%AE%E7%BD%A9/</url>
    <content><![CDATA[<h1 id="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©"><a href="#iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©" class="headerlink" title="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©"></a>iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://upload-images.jianshu.io/upload_images/2331323-2f3e46c5908444fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"
                      alt="æ•ˆæœå›¾"
                ></p>
<p><a class="link"   href="https://github.com/ibireme/YYCategories" >ä½¿ç”¨åˆ°äº†YYCategories<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="å½©è‰²æ–‡å­—"><a href="#å½©è‰²æ–‡å­—" class="headerlink" title="å½©è‰²æ–‡å­—"></a>å½©è‰²æ–‡å­—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UIView *colorBgView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:colorBgView];</span><br><span class="line">    colorBgView.frame &#x3D; CGRectMake(0, 300, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">        </span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *colorTextPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *colorTextLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    colorTextLayer.path &#x3D; colorTextPath.CGPath;</span><br><span class="line">    colorTextLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    colorBgView.layer.mask &#x3D; colorTextLayer;</span><br><span class="line">    </span><br><span class="line">    CAGradientLayer *colorLayer &#x3D; CAGradientLayer.new;</span><br><span class="line">    colorLayer.colors &#x3D; @[(__bridge id)UIColor.redColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.orangeColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.greenColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blueColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.yellowColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.purpleColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blackColor.CGColor,];</span><br><span class="line">    colorLayer.startPoint &#x3D; CGPointMake(0, 0.5);</span><br><span class="line">    colorLayer.endPoint &#x3D; CGPointMake(1, 0.5);</span><br><span class="line">    colorLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">    [colorBgView.layer addSublayer:colorLayer];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è¿‡æ¸¡é®ç½©"><a href="#è¿‡æ¸¡é®ç½©" class="headerlink" title="è¿‡æ¸¡é®ç½©"></a>è¿‡æ¸¡é®ç½©</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"> &#x2F;&#x2F;&#x2F;é»‘è‰²èƒŒæ™¯view</span><br><span class="line">    UIView *indicatorView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:indicatorView];</span><br><span class="line">    indicatorView.backgroundColor &#x3D; UIColor.blackColor;</span><br><span class="line">    indicatorView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    indicatorView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    indicatorView.frame &#x3D; CGRectMake(0, 195, 100, 40);</span><br><span class="line">    self.indicatorView &#x3D; indicatorView;</span><br><span class="line">    </span><br><span class="line">  &#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *textPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *textLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    textLayer.path &#x3D; textPath.CGPath;</span><br><span class="line">    textLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *darkView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:darkView];</span><br><span class="line">    darkView.backgroundColor &#x3D; UIColor.darkGrayColor;</span><br><span class="line">    darkView.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    darkView.layer.mask &#x3D; textLayer;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *whiteView &#x3D; [UIView new];</span><br><span class="line">    [darkView addSubview:whiteView];</span><br><span class="line">    whiteView.backgroundColor &#x3D; UIColor.whiteColor;</span><br><span class="line">    whiteView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    whiteView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    whiteView.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">    self.whiteView &#x3D; whiteView;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;ä¹Ÿå¯ä»¥ä½¿ç”¨layer</span><br><span class="line">&#x2F;&#x2F;    CALayer *darkLayer &#x3D; CALayer.new;</span><br><span class="line">&#x2F;&#x2F;    [self.view.layer addSublayer:darkLayer];</span><br><span class="line">&#x2F;&#x2F;    darkLayer.backgroundColor &#x3D; UIColor.darkGrayColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    darkLayer.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">&#x2F;&#x2F;    darkLayer.mask &#x3D; textLayer;</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;    CAShapeLayer *whiteLayer &#x3D; CAShapeLayer.new;</span><br><span class="line">&#x2F;&#x2F;    [darkLayer addSublayer:whiteLayer];</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.backgroundColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.fillColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.strokeColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.borderColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.cornerRadius &#x3D; 20;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.masksToBounds &#x3D; YES;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">&#x2F;&#x2F;    self.whiteLayer &#x3D; whiteLayer;</span><br><span class="line">    </span><br><span class="line">    UISlider *slider &#x3D; UISlider.new;</span><br><span class="line">    [self.view addSubview:slider];</span><br><span class="line">    [slider addTarget:self action:@selector(changeFrame:) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">    slider.frame &#x3D; CGRectMake(0, 260, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">- (void)changeFrame:(UISlider *)slider &#123;</span><br><span class="line"> </span><br><span class="line">    CGFloat x &#x3D; UIScreen.mainScreen.bounds.size.width *slider.value;</span><br><span class="line">    self.indicatorView.frame &#x3D; CGRectMake(x, 195, 100, 40);</span><br><span class="line">    self.whiteView.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    self.whiteLayer.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºç•Œé¢è·³è½¬ä¼ å€¼ã€åå‘ä¼ å€¼</title>
    <url>/2021/01/14/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E7%95%8C%E9%9D%A2%E8%B7%B3%E8%BD%AC%E4%BC%A0%E5%80%BC/</url>
    <content><![CDATA[<h1 id="page1-ç‚¹å‡»äº‹ä»¶-wxml"><a href="#page1-ç‚¹å‡»äº‹ä»¶-wxml" class="headerlink" title="page1 ç‚¹å‡»äº‹ä»¶ .wxml"></a>page1 ç‚¹å‡»äº‹ä»¶ .wxml</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;text bind:tap&#x3D;&quot;pushNav&quot;&gt;ç•Œé¢è·³è½¬ä¼ å€¼&lt;&#x2F;text&gt;</span><br></pre></td></tr></table></figure>
<h1 id="page1-è·³è½¬æ–¹æ³•å®ç°-js"><a href="#page1-è·³è½¬æ–¹æ³•å®ç°-js" class="headerlink" title="page1 è·³è½¬æ–¹æ³•å®ç° .js"></a>page1 è·³è½¬æ–¹æ³•å®ç° .js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pushNav(e) &#123;</span><br><span class="line">    </span><br><span class="line">    let that &#x3D; this;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      &#x2F;&#x2F; è·³è½¬ä¼ å€¼æ–¹å¼ 1</span><br><span class="line">      url: &#39;..&#x2F;page2?carName&#x3D;&#39; + &#39;ç‰¹æ–¯æ‹‰&#39;,</span><br><span class="line"></span><br><span class="line">      events: &#123;</span><br><span class="line">        &#x2F;&#x2F; åå‘ä¼ å€¼ page2 å›è°ƒç»™ page1 æ¥æ”¶å¤„</span><br><span class="line">        getuserInfoClick(e) &#123;</span><br><span class="line">          console.log(e);</span><br><span class="line">          that.setData(&#123; userName: e.userName &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      success: function (res) &#123;</span><br><span class="line">        &#x2F;&#x2F; è·³è½¬ä¼ å€¼æ–¹å¼ 2</span><br><span class="line">        &#x2F;&#x2F; è¿™ä¸ªå…¶å®æœ‰ç‚¹ç±»ä¼¼äºé€šçŸ¥çš„æ„æ€ å®šä¹‰é€šçŸ¥åç§° å’Œ å‚æ•°</span><br><span class="line">        res.eventChannel.emit(&#39;diyfunName&#39;, &#123; parKey: &#39;æˆ‘æ˜¯é€šè¿‡ eventChannel ä¼ é€’çš„å¦ä¸€ä¸ªæ•°æ®&#39; &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="page2-æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼ -js"><a href="#page2-æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼ -js" class="headerlink" title="page2 æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼   .js"></a>page2 æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼   .js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½</span><br><span class="line">   *&#x2F;</span><br><span class="line">  onLoad: function (options) &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; é€šè¿‡æ–¹å¼1 ä¼ å€¼æ¥æ”¶</span><br><span class="line">    this.setData(&#123; carName: options.carName &#125;);</span><br><span class="line"></span><br><span class="line">    const eventChannel &#x3D; this.getOpenerEventChannel();</span><br><span class="line">    </span><br><span class="line">    let that &#x3D; this;</span><br><span class="line">    &#x2F;&#x2F; åå‘ä¼ å€¼ page2 ä¼ ç»™ page1</span><br><span class="line">    eventChannel.emit(&#39;getuserInfoClick&#39;, &#123; userName: &#39;æœ±å°æ˜&#39; &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; &#x2F;&#x2F; é€šè¿‡æ–¹å¼2 ä¼ å€¼æ¥æ”¶</span><br><span class="line">    eventChannel.on(&#39;diyfunName&#39;, function (params) &#123;</span><br><span class="line">      that.setData(&#123; otherPar: params.parKey &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶ã€çˆ¶å­ç»„ä»¶ç›¸äº’è°ƒç”¨ä¼ å€¼</title>
    <url>/2021/01/15/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<h1 id="1-åˆ›å»º-header-ç»„ä»¶"><a href="#1-åˆ›å»º-header-ç»„ä»¶" class="headerlink" title="1.åˆ›å»º header ç»„ä»¶"></a>1.åˆ›å»º header ç»„ä»¶</h1><h2 id="1-1-é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º-Componentã€‚-æš‚å‘½åä¸º-header"><a href="#1-1-é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º-Componentã€‚-æš‚å‘½åä¸º-header" class="headerlink" title="1.1 é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º Componentã€‚ æš‚å‘½åä¸º header"></a>1.1 é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º Componentã€‚ æš‚å‘½åä¸º header</h2><h2 id="1-2-header-js-æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•"><a href="#1-2-header-js-æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•" class="headerlink" title="1.2 header.js æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•"></a>1.2 header.js æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•</h2><blockquote>
<p>äº¤äº’å…³é”®æ–¹æ³•âš ï¸ this.triggerEvent(â€˜subClickEventâ€™, â€˜æ¥è‡ª å­ç»„ä»¶ çš„ä¿¡å·è¿™ä¸ªæ˜¯ å‚æ•°â€™)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F;ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span><br><span class="line">  properties: &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; å±æ€§å ç®€åŒ–å†™æ³•</span><br><span class="line">    name: String,</span><br><span class="line">    &#x2F;&#x2F;&#x2F; å±æ€§å</span><br><span class="line">    car: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      value: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥ä¸ºå‡½æ•°ï¼Œæˆ–ä¸€ä¸ªåœ¨methodsæ®µä¸­å®šä¹‰çš„æ–¹æ³•å</span><br><span class="line">  lifetimes: &#123;</span><br><span class="line">    attached: function () &#123; &#125;,</span><br><span class="line">    moved: function () &#123; &#125;,</span><br><span class="line">    detached: function () &#123; &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span><br><span class="line">  pageLifetimes: &#123;</span><br><span class="line">    show: function () &#123; &#125;,</span><br><span class="line">    hide: function () &#123; &#125;,</span><br><span class="line">    resize: function () &#123; &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶çš„åˆå§‹æ•°æ®</span><br><span class="line">  data: &#123;</span><br><span class="line">    color: &#39;å½©è‰²&#39;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">    logP() &#123;</span><br><span class="line">      console.log(&#39;pppppp&#39;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; ç»„ä»¶å†…éƒ¨å…ˆè°ƒç”¨è¯¥æ–¹æ³• å†è°ƒç”¨çˆ¶æ–¹æ³•</span><br><span class="line">    cllParentClick() &#123;</span><br><span class="line">      &#x2F;&#x2F;  è§¦å‘ subClickEvent äº‹ä»¶ï¼Œ é—´æ¥é€šçŸ¥åœ¨ çˆ¶ç»„ä»¶ä¸­ subClickEvent ç»‘å®šçš„ subClick æ–¹æ³•</span><br><span class="line">      &#x2F;&#x2F;  å»ºè®®  subClickEvent ä¸  subClick å‘½åç›¸åŒï¼Œè¿™ä¸ªåˆšæ¥è§¦æ„Ÿè§‰ä¼šæœ‰ä¸€ç‚¹æ··ä¹±</span><br><span class="line">      &#x2F;&#x2F; subClickEvent å°±æ˜¯é€šçŸ¥åã€‚subClickEvent è¿™ä¸ªé€šçŸ¥åœ¨ä½¿ç”¨è¯¥ç»„ä»¶æ—¶ç»‘å®šçš„ï¼Œç»‘å®šäº†çˆ¶ç»„ä»¶çš„ subClick æ–¹æ³•ã€‚ç„¶ååœ¨è¿™é‡Œè§¦å‘äº† subClickEvent é€šçŸ¥</span><br><span class="line">      this.triggerEvent(&#39;subClickEvent&#39;, &#39;æ¥è‡ª å­ç»„ä»¶ çš„ä¿¡å·è¿™ä¸ªæ˜¯ å‚æ•°&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    btnClick(e) &#123;</span><br><span class="line">      console.log(&#39;å¼€è½¦å¼€è½¦&#39;);</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;&#x2F; ç§æœ‰æ–¹æ³• ä¸‹åˆ’çº¿å¼€å¤´</span><br><span class="line">    _saySelfName() &#123;</span><br><span class="line">      console.log(&#39;header&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="1-3-header-wxml"><a href="#1-3-header-wxml" class="headerlink" title="1.3 header.wxml"></a>1.3 header.wxml</h2><p>header ç»„ä»¶å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">  &lt;text&gt;name:&#123;&#123;name&#125;&#125;  car:&#123;&#123;car&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">  &lt;button size&#x3D;&quot;default&quot; type&#x3D;&quot;primary&quot; bind:tap&#x3D;&quot;btnClick&quot;&gt;å¼€è½¦å¼€è½¦&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button size&#x3D;&quot;default&quot; type&#x3D;&quot;primary&quot; bind:tap&#x3D;&quot;cllParentClick&quot;&gt;è°ƒç”¨çˆ¶ç»„ä»¶ subClick æ–¹æ³•&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>
<p>header.wxss</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.header &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-ä½¿ç”¨-header-ç»„ä»¶"><a href="#2-ä½¿ç”¨-header-ç»„ä»¶" class="headerlink" title="2. ä½¿ç”¨ header ç»„ä»¶"></a>2. ä½¿ç”¨ header ç»„ä»¶</h1><h2 id="2-1-page-json"><a href="#2-1-page-json" class="headerlink" title="2.1 page.json"></a>2.1 page.json</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;usingComponents&quot;: &#123;</span><br><span class="line">    &quot;header&quot;: &quot;..&#x2F;..&#x2F;..&#x2F;components&#x2F;header&#x2F;header&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-page-wxml"><a href="#2-2-page-wxml" class="headerlink" title="2.2 page.wxml"></a>2.2 page.wxml</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;header id&#x3D;&#39;comHeader&#39; name&#x3D;&#39;æœ±å°æ˜&#39; car&#x3D;&#39;è‡ªè¡Œè½¦&#39; bind:subClickEvent&#x3D;&#39;subClick&#39;&gt;&lt;&#x2F;header&gt;</span><br><span class="line">&lt;button bind:tap&#x3D;&quot;getHeaderInfo&quot;&gt;è·å–ç»„ä»¶å±æ€§&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨è¿™é‡Œæ³¨å†Œçš„ subClickEvent äº‹ä»¶ï¼Œå½“ header ç»„ä»¶è§¦å‘ subClickEvent æ—¶ï¼Œè°ƒç”¨ page çš„  subClick æ–¹æ³•ã€‚ å»ºè®®å°† subClickEvent ä¸ subClick å‘½åç›¸åŒ</p>
</blockquote>
<h2 id="2-3-page-js"><a href="#2-3-page-js" class="headerlink" title="2.3 page.js"></a>2.3 page.js</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; header ç»„ä»¶é—´æ¥è°ƒç”¨è¯¥æ–¹æ³•</span><br><span class="line">  subClick(e) &#123;</span><br><span class="line">    console.log(e.detail);</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F; ä¸»åŠ¨è·å– header ç»„ä»¶å®ä¾‹å¯¹è±¡</span><br><span class="line">  getHeaderInfo() &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è·å–ç»„ä»¶å®ä¾‹å¯¹è±¡  è®°å¾—åŠ  # </span><br><span class="line">    let header &#x3D; this.selectComponent(&#39;#comHeader&#39;);</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è·å–å±æ€§</span><br><span class="line">    console.log(header.properties.color);</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è°ƒç”¨æ–¹æ³•</span><br><span class="line">    header.logP();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹</title>
    <url>/2021/02/03/1000-000%E4%BB%8E%E8%BE%93%E5%85%A5%20URL%20%E5%88%B0%E5%B1%95%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="ä»è¾“å…¥-URL-åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹"><a href="#ä»è¾“å…¥-URL-åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹"></a>ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹</h1><blockquote>
<p>8 ä¸ªè¿‡ç¨‹</p>
</blockquote>
<ul>
<li>URL è¾“å…¥</li>
<li>DNS è§£æ</li>
<li>TCP è¿æ¥</li>
<li>å‘é€ HTTP è¯·æ±‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</li>
<li>æœåŠ¡å™¨ç›¸åº”è¯·æ±‚</li>
<li>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</li>
<li>è¿æ¥ç»“æŸ</li>
</ul>
<h2 id="1-URL-è¾“å…¥"><a href="#1-URL-è¾“å…¥" class="headerlink" title="1. URL è¾“å…¥"></a>1. URL è¾“å…¥</h2><blockquote>
<p>URLä¸­æ–‡åå«åšç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦æ˜¯å¯¹å¯ä»¥ä»äº’è”ç½‘ä¸Šå¾—åˆ°çš„èµ„æºçš„ä½ç½®å’Œè®¿é—®æ–¹æ³•çš„ä¸€ç§ç®€æ´çš„è¡¨ç¤ºï¼Œæ˜¯äº’è”ç½‘ä¸Šæ ‡å‡†èµ„æºçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„URLï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯æŒ‡å‡ºæ–‡ä»¶çš„ä½ç½®ä»¥åŠæµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚</p>
</blockquote>
<p><strong>ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼šprotocol :// hostname[:port] / path / [;parameters][?query]#fragment</strong></p>
<ul>
<li>protocol åè®®</li>
<li>hostname ä¸»æœºå</li>
<li>port ç«¯å£å·</li>
<li>path è·¯å¾„</li>
<li>parameters å‚æ•°</li>
<li>query æŸ¥è¯¢</li>
<li>fragment ä¿¡æ¯ç‰‡æ®µ<blockquote>
<p>å½“æˆ‘ä»¬å¼€å§‹åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€çš„æ—¶å€™ï¼Œæµè§ˆå™¨å…¶å®å°±å·²ç»åœ¨æ™ºèƒ½çš„åŒ¹é…å¯èƒ½å¾— url äº†ï¼Œä»–ä¼šä»å†å²è®°å½•ï¼Œä¹¦ç­¾ç­‰åœ°æ–¹ï¼Œæ‰¾åˆ°å·²ç»è¾“å…¥çš„å­—ç¬¦ä¸²å¯èƒ½å¯¹åº”çš„ urlï¼Œç„¶åç»™å‡ºæ™ºèƒ½æç¤ºï¼Œè®©ä½ å¯ä»¥è¡¥å…¨urlåœ°å€ã€‚å¯¹äº googleçš„chrome çš„æµè§ˆå™¨ï¼Œä»–ç”šè‡³ä¼šç›´æ¥ä»ç¼“å­˜ä¸­æŠŠç½‘é¡µå±•ç¤ºå‡ºæ¥ï¼Œå°±æ˜¯è¯´ï¼Œä½ è¿˜æ²¡æœ‰æŒ‰ä¸‹ enterï¼Œé¡µé¢å°±å‡ºæ¥äº†ã€‚</p>
</blockquote>
<h2 id="2-DNS-è§£æ"><a href="#2-DNS-è§£æ" class="headerlink" title="2. DNS è§£æ"></a>2. DNS è§£æ</h2><blockquote>
<p>DNSè§£æçš„è¿‡ç¨‹å°±æ˜¯å¯»æ‰¾å“ªå°æœºå™¨ä¸Šæœ‰ä½ éœ€è¦èµ„æºçš„è¿‡ç¨‹ã€‚å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªåœ°å€æ—¶ï¼Œä¾‹å¦‚<a class="link"   href="http://www.baidu.com,å…¶å®ä¸æ˜¯ç™¾åº¦ç½‘ç«™çœŸæ­£æ„ä¹‰ä¸Šçš„åœ°å€.äº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯†æ˜¯å®ƒçš„ipåœ°å€,ä½†æ˜¯ipåœ°å€å¹¶ä¸æ–¹ä¾¿è®°å¿†.ç”¨æˆ·æ›´å–œæ¬¢ç”¨æ–¹ä¾¿è®°å¿†çš„ç½‘å€å»å¯»æ‰¾äº’è”ç½‘ä¸Šçš„å…¶å®ƒè®¡ç®—æœº,ä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ç™¾åº¦çš„ç½‘å€.æ‰€ä»¥äº’è”ç½‘è®¾è®¡è€…éœ€è¦åœ¨ç”¨æˆ·çš„æ–¹ä¾¿æ€§ä¸å¯ç”¨æ€§æ–¹é¢åšä¸€ä¸ªæƒè¡¡,è¿™ä¸ªæƒè¡¡å°±æ˜¯ä¸€ä¸ªç½‘å€åˆ°ipåœ°å€çš„è½¬æ¢,è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯dnsè§£æ.å®ƒå®é™…ä¸Šå……å½“äº†ä¸€ä¸ªç¿»è¯‘çš„è§’è‰²,å®ç°äº†ç½‘å€åˆ°ipåœ°å€çš„è½¬æ¢.ç½‘å€åˆ°ipåœ°å€è½¬æ¢çš„è¿‡ç¨‹æ˜¯å¦‚ä½•è¿›è¡Œçš„/" >www.baidu.comï¼Œå…¶å®ä¸æ˜¯ç™¾åº¦ç½‘ç«™çœŸæ­£æ„ä¹‰ä¸Šçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯†æ˜¯å®ƒçš„IPåœ°å€ï¼Œä½†æ˜¯IPåœ°å€å¹¶ä¸æ–¹ä¾¿è®°å¿†ã€‚ç”¨æˆ·æ›´å–œæ¬¢ç”¨æ–¹ä¾¿è®°å¿†çš„ç½‘å€å»å¯»æ‰¾äº’è”ç½‘ä¸Šçš„å…¶å®ƒè®¡ç®—æœºï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ç™¾åº¦çš„ç½‘å€ã€‚æ‰€ä»¥äº’è”ç½‘è®¾è®¡è€…éœ€è¦åœ¨ç”¨æˆ·çš„æ–¹ä¾¿æ€§ä¸å¯ç”¨æ€§æ–¹é¢åšä¸€ä¸ªæƒè¡¡ï¼Œè¿™ä¸ªæƒè¡¡å°±æ˜¯ä¸€ä¸ªç½‘å€åˆ°IPåœ°å€çš„è½¬æ¢ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯DNSè§£æã€‚å®ƒå®é™…ä¸Šå……å½“äº†ä¸€ä¸ªç¿»è¯‘çš„è§’è‰²ï¼Œå®ç°äº†ç½‘å€åˆ°IPåœ°å€çš„è½¬æ¢ã€‚ç½‘å€åˆ°IPåœ°å€è½¬æ¢çš„è¿‡ç¨‹æ˜¯å¦‚ä½•è¿›è¡Œçš„<i class="fas fa-external-link-alt"></i></a>?</p>
</blockquote>
</li>
</ul>
<p><strong>æŸ¥æ‰¾é¡ºåºï¼š æµè§ˆå™¨ç¼“å­˜â€“&gt; æ“ä½œç³»ç»Ÿç¼“å­˜â€“&gt; æœ¬åœ°hostæ–‡ä»¶ â€“&gt; è·¯ç”±å™¨ç¼“å­˜â€“&gt; ISP DNSç¼“å­˜ â€“&gt; é¡¶çº§DNSæœåŠ¡å™¨/æ ¹DNSæœåŠ¡å™¨</strong></p>
<p><strong>1. æµè§ˆå™¨ç¼“å­˜ï¼š</strong> é¦–å…ˆä¼šå‘æµè§ˆå™¨çš„ç¼“å­˜ä¸­è¯»å–ä¸Šä¸€æ¬¡è®¿é—®çš„è®°å½•ï¼Œåœ¨ chrome å¯ä»¥é€šè¿‡åœ°å€æ ä¸­è¾“å…¥ chrome://net-internals/#dns æŸ¥çœ‹ç¼“å­˜çš„å½“å‰çŠ¶æ€ ã€‚</p>
<p><strong>2. æ“ä½œç³»ç»Ÿç¼“å­˜ï¼š</strong>  æŸ¥æ‰¾å­˜å‚¨åœ¨ç³»ç»Ÿè¿è¡Œå†…å­˜ä¸­çš„ç¼“å­˜ã€‚åœ¨macä¸­å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¸…é™¤ç³»ç»Ÿä¸­çš„DNSç¼“å­˜ã€‚<br><code>dscacheutil -flushcache</code></p>
<p><strong>3. æœ¬åœ° host æ–‡ä»¶ï¼š</strong> æŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜çš„ hosts æ–‡ä»¶ï¼Œçœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œå¦‚æœæœ‰çš„è¯å°±ç›´æ¥ä½¿ç”¨ hosts æ–‡ä»¶é‡Œé¢çš„ ip åœ°å€ã€‚</p>
<p><strong>4. è·¯ç”±å™¨ç¼“å­˜ï¼š</strong> æœ‰äº›è·¯ç”±å™¨ä¹Ÿæœ‰DNSç¼“å­˜çš„åŠŸèƒ½ï¼Œè®¿é—®è¿‡çš„åŸŸåä¼šå­˜åœ¨è·¯ç”±å™¨ä¸Šã€‚</p>
<p><strong>5. ISP DNS ç¼“å­˜ï¼š</strong> äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆå¦‚ä¸­å›½ç”µä¿¡ï¼‰ä¹Ÿä¼šæä¾›DNSæœåŠ¡ï¼Œæ¯”å¦‚æ¯”è¾ƒè‘—åçš„ 114.114.114.114ï¼Œåœ¨æœ¬åœ°æŸ¥æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‘ISPè¿›è¡ŒæŸ¥è¯¢ï¼ŒISPä¼šåœ¨å½“å‰æœåŠ¡å™¨çš„ç¼“å­˜å†…æŸ¥æ‰¾æ˜¯å¦æœ‰è®°å½•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è¿”å›è¿™ä¸ªIPï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ä¼šå¼€å§‹å‘æ ¹åŸŸåæœåŠ¡å™¨è¯·æ±‚æŸ¥è¯¢ã€‚</p>
<p><strong>6. é¡¶çº§ DNS æœåŠ¡å™¨ / æ ¹ DNS æœåŠ¡å™¨ï¼š</strong> æ ¹åŸŸåæ”¶åˆ°è¯·æ±‚åï¼Œä¼šåˆ¤åˆ«è¿™ä¸ªåŸŸå(.com)æ˜¯æˆæƒç»™å“ªå°æœåŠ¡å™¨ç®¡ç†,å¹¶è¿”å›è¿™ä¸ªé¡¶çº§DNSæœåŠ¡å™¨çš„IPã€‚è¯·æ±‚è€…æ”¶åˆ°è¿™å°é¡¶çº§DNSçš„æœåŠ¡å™¨IPåï¼Œä¼šå‘è¯¥æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢ï¼Œå¦‚æœè¯¥æœåŠ¡å™¨æ— æ³•è§£æï¼Œè¯¥æœåŠ¡å™¨å°±ä¼šè¿”å›ä¸‹ä¸€çº§çš„DNSæœåŠ¡å™¨IPï¼ˆbaidu.comï¼‰ï¼Œæœ¬æœºç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æœåŠ¡å™¨æ‰¾åˆ°(<a class="link"   href="http://www.baidu.com)çš„ä¸»æœº./" >www.baidu.com)çš„ä¸»æœºã€‚<i class="fas fa-external-link-alt"></i></a><br>æœ€åï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å‘åŸŸåçš„è§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶å°±èƒ½æ”¶åˆ°ä¸€ä¸ªåŸŸåå’ŒIPåœ°å€å¯¹åº”å…³ç³»ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨ä¸ä»…è¦æŠŠIPåœ°å€è¿”å›ç»™ç”¨æˆ·ç”µè„‘ï¼Œè¿˜è¦æŠŠè¿™ä¸ªå¯¹åº”å…³ç³»ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œä»¥å¤‡ä¸‹æ¬¡åˆ«çš„ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/t5awpd.png"
                      alt="è¿‡ç¨‹å›¾"
                ></p>
<p>ä¸Šè¿°å›¾ç‰‡æ˜¯æŸ¥æ‰¾ <a class="link"   href="http://www.google.com/" >www.google.com<i class="fas fa-external-link-alt"></i></a> çš„ IP åœ°å€è¿‡ç¨‹ã€‚é¦–å…ˆåœ¨æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸­æŸ¥è¯¢ IP åœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µä¸‹ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœæ ¹åŸŸåæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯¥åŸŸåæ—¶ï¼Œæœ¬åœ°åŸŸåä¼šå‘ com é¡¶çº§åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä¾æ¬¡ç±»æ¨ä¸‹å»ã€‚ç›´åˆ°æœ€åæœ¬åœ°åŸŸåæœåŠ¡å™¨å¾—åˆ° google çš„ IP åœ°å€å¹¶æŠŠå®ƒç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¾›ä¸‹æ¬¡æŸ¥è¯¢ä½¿ç”¨ã€‚ä»ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹å‡ºç½‘å€çš„è§£ææ˜¯ä¸€ä¸ªä»å³å‘å·¦çš„è¿‡ç¨‹: com -&gt; google.com -&gt; <a href="http://www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯www.google.com.ï¼Œå¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.ï¼Œè¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œé€šå¸¸éƒ½ä¼šçœç•¥ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚DNSçš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šï¼Œæ‰€æœ‰ç½‘å€çœŸæ­£çš„è§£æè¿‡ç¨‹ä¸º">www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯www.google.com.ï¼Œå¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.ï¼Œè¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œé€šå¸¸éƒ½ä¼šçœç•¥ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚DNSçš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šï¼Œæ‰€æœ‰ç½‘å€çœŸæ­£çš„è§£æè¿‡ç¨‹ä¸º</a>: . -&gt; .com -&gt; google.com. -&gt; <a class="link"   href="http://www.google.com../" >www.google.com.ã€‚<i class="fas fa-external-link-alt"></i></a></p>
<p>è¡¥å……ï¼š</p>
<ol>
<li><p>ä»€ä¹ˆæ˜¯ DNS ï¼Ÿ<br>DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰ï¼Œå› ç‰¹ç½‘ä¸Šä½œä¸ºåŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿ç”¨æˆ·æ›´æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ï¼Œè€Œä¸ç”¨å»è®°ä½èƒ½å¤Ÿè¢«æœºå™¨ç›´æ¥è¯»å–çš„IPæ•°ä¸²ã€‚é€šè¿‡ä¸»æœºåï¼Œæœ€ç»ˆå¾—åˆ°è¯¥ä¸»æœºåå¯¹åº”çš„IPåœ°å€çš„è¿‡ç¨‹å«åšåŸŸåè§£æï¼ˆæˆ–ä¸»æœºåè§£æï¼‰ã€‚<br>â€ƒâ€ƒé€šä¿—çš„è®²ï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯äºè®°ä½ä¸€ä¸ªç½‘ç«™çš„åå­—ï¼Œæ¯”å¦‚<a href="http://www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚">www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚</a></p>
</li>
<li><p>DNS æŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢</p>
<p> 2.1 é€’å½’è§£æ<br> å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œå®ƒå°±éœ€è¦å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚æ­¤æ—¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¦‚å›¾æ‰€ç¤ºçš„æ˜¯é€’å½’æ–¹å¼ã€‚å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±è´Ÿè´£å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€èˆ¬æ˜¯å…ˆå‘è¯¥åŸŸåçš„æ ¹åŸŸæœåŠ¡å™¨æŸ¥è¯¢ï¼Œå†ç”±æ ¹åŸŸåæœåŠ¡å™¨ä¸€çº§çº§å‘ä¸‹æŸ¥è¯¢ã€‚æœ€åå¾—åˆ°çš„æŸ¥è¯¢ç»“æœè¿”å›ç»™å±€éƒ¨DNSæœåŠ¡å™¨ï¼Œå†ç”±å±€éƒ¨DNSæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/4vqiqy.png"
                      alt="DNS é€’å½’è§£ææŸ¥è¯¢"
                ></p>
<p> 2.2 è¿­ä»£è§£æ<br> å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿­ä»£æŸ¥è¯¢çš„æ–¹å¼è¿›è¡Œè§£æï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å±€éƒ¨DNSæœåŠ¡å™¨ä¸æ˜¯è‡ªå·±å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œæ˜¯æŠŠèƒ½è§£æè¯¥åŸŸåçš„å…¶ä»–DNSæœåŠ¡å™¨çš„IPåœ°å€è¿”å›ç»™å®¢æˆ·ç«¯DNSç¨‹åºï¼Œå®¢æˆ·ç«¯DNSç¨‹åºå†ç»§ç»­å‘è¿™äº›DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œç›´åˆ°å¾—åˆ°æŸ¥è¯¢ç»“æœä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿­ä»£è§£æåªæ˜¯å¸®ä½ æ‰¾åˆ°ç›¸å…³çš„æœåŠ¡å™¨è€Œå·²ï¼Œè€Œä¸ä¼šå¸®ä½ å»æŸ¥ã€‚æ¯”å¦‚è¯´ï¼šbaidu.comçš„æœåŠ¡å™¨ipåœ°å€åœ¨192.168.4.5è¿™é‡Œï¼Œä½ è‡ªå·±å»æŸ¥å§ï¼Œæœ¬äººæ¯”è¾ƒå¿™ï¼Œåªèƒ½å¸®ä½ åˆ°è¿™é‡Œäº†ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/rnsyzp.png"
                      alt="DNS è¿­ä»£è§£ææŸ¥è¯¢"
                ></p>
</li>
<li><p>DNS åŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼<br>æˆ‘ä»¬åœ¨å‰é¢æœ‰è¯´åˆ°æ ¹DNSæœåŠ¡å™¨ï¼ŒåŸŸDNSæœåŠ¡å™¨ï¼Œè¿™äº›éƒ½æ˜¯DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼ã€‚æŒ‰å…¶åŠŸèƒ½å‘½åç©ºé—´ä¸­ç”¨æ¥æè¿° DNS åŸŸåç§°çš„äº”ä¸ªç±»åˆ«çš„ä»‹ç»è¯¦è§ä¸‹è¡¨ä¸­ï¼Œä»¥åŠä¸æ¯ä¸ªåç§°ç±»å‹çš„ç¤ºä¾‹</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>åç§°ç±»å‹</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>æ ¹åŸŸ</td>
<td>DNS åŸŸåä¸­ä½¿ç”¨æ—¶ï¼Œè§„æ¨¡ç”±å°¾éƒ¨å¥ç‚¹(.) æ¥æŒ‡å®šåç§°ä½äºæ ¹æˆ–æ›´é«˜çº§åˆ«çš„åŸŸå±‚æ¬¡ç»“æ„</td>
<td>å•ä¸ªå¥ç‚¹(.)æˆ–å¥ç‚¹ç”¨äºæœ«å°¾çš„åç§°</td>
</tr>
<tr>
<td>é¡¶çº§åŸŸ</td>
<td>ç”¨æ¥æŒ‡ç¤ºæŸä¸ªå›½å®¶/åœ°åŒºæˆ–ç»„ç»‡çš„åç§°</td>
<td>.com</td>
</tr>
<tr>
<td>ç¬¬äºŒå±‚åŸŸ</td>
<td>ä¸ªäººæˆ–ç»„ç»‡åœ¨ Internet ä¸Šä½¿ç”¨çš„æ³¨å†Œåç§°</td>
<td>qq.com</td>
</tr>
<tr>
<td>å­åŸŸ</td>
<td>å·²æ³¨å†Œçš„äºŒçº§åŸŸåæ´¾ç”Ÿçš„åŸŸåï¼Œé€šä¿—çš„è®²å°±æ˜¯ç½‘ç«™å</td>
<td><a class="link"   href="http://www.qq.com/" >www.qq.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>ä¸»æœºå</td>
<td>é€šå¸¸æƒ…å†µä¸‹ï¼ŒDNS åŸŸåçš„æœ€å·¦ä¾§çš„æ ‡ç­¾æ ‡ç¤ºç½‘ç»œä¸Šçš„ç‰¹å®šè®¡ç®—æœº å¦‚ h1</td>
<td>h1.<a class="link"   href="http://www.qq.com/" >www.qq.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
</tbody></table>
<ol start="4">
<li><p>DNS ä¼˜åŒ–<br>äº†è§£äº†DNSçš„è¿‡ç¨‹ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¸¦æ¥å“ªäº›ï¼Ÿä¸Šæ–‡ä¸­è¯·æ±‚åˆ°googleçš„IPåœ°å€æ—¶ï¼Œç»å†äº†8ä¸ªæ­¥éª¤ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å­˜åœ¨å¤šä¸ªè¯·æ±‚(åŒæ—¶å­˜åœ¨UDPå’ŒTCPè¯·æ±‚ï¼Œä¸ºä»€ä¹ˆæœ‰ä¸¤ç§è¯·æ±‚æ–¹å¼ï¼Œè¯·è‡ªè¡ŒæŸ¥æ‰¾)ã€‚å¦‚æœæ¯æ¬¡éƒ½ç»è¿‡è¿™ä¹ˆå¤šæ­¥éª¤ï¼Œæ˜¯å¦å¤ªè€—æ—¶é—´ï¼Ÿå¦‚ä½•å‡å°‘è¯¥è¿‡ç¨‹çš„æ­¥éª¤å‘¢ï¼Ÿé‚£å°±æ˜¯DNSç¼“å­˜ã€‚</p>
<p> 4.1 DNS ç¼“å­˜<br> DNSå­˜åœ¨ç€å¤šçº§ç¼“å­˜ï¼Œä»ç¦»æµè§ˆå™¨çš„è·ç¦»æ’åºçš„è¯ï¼Œæœ‰ä»¥ä¸‹å‡ ç§: æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œè·¯ç”±å™¨ç¼“å­˜ï¼ŒIPSæœåŠ¡å™¨ç¼“å­˜ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œé¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œä¸»åŸŸåæœåŠ¡å™¨ç¼“å­˜ã€‚<br> 4.2 DNS è´Ÿè½½å‡è¡¡<br> å½“ä¸€ä¸ªç½‘ç«™æœ‰è¶³å¤Ÿå¤šçš„ç”¨æˆ·çš„æ—¶å€™ï¼Œå‡å¦‚æ¯æ¬¡è¯·æ±‚çš„èµ„æºéƒ½ä½äºåŒä¸€å°æœºå™¨ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨éšæ—¶å¯èƒ½ä¼šè¹¦æ‰ã€‚å¤„ç†åŠæ³•å°±æ˜¯ç”¨DNSè´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨DNSæœåŠ¡å™¨ä¸­ä¸ºåŒä¸€ä¸ªä¸»æœºåé…ç½®å¤šä¸ªIPåœ°å€,åœ¨åº”ç­”DNSæŸ¥è¯¢æ—¶,DNSæœåŠ¡å™¨å¯¹æ¯ä¸ªæŸ¥è¯¢å°†ä»¥DNSæ–‡ä»¶ä¸­ä¸»æœºè®°å½•çš„IPåœ°å€æŒ‰é¡ºåºè¿”å›ä¸åŒçš„è§£æç»“æœ,å°†å®¢æˆ·ç«¯çš„è®¿é—®å¼•å¯¼åˆ°ä¸åŒçš„æœºå™¨ä¸Šå»,ä½¿å¾—ä¸åŒçš„å®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï½¡ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œè¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰ã€‚</p>
</li>
</ol>
<h2 id="3-å»ºç«‹-TCP-è¿æ¥"><a href="#3-å»ºç«‹-TCP-è¿æ¥" class="headerlink" title="3. å»ºç«‹ TCP è¿æ¥"></a>3. å»ºç«‹ TCP è¿æ¥</h2><p>æ‹¿åˆ°åŸŸåå¯¹åº”çš„IPåœ°å€ä¹‹åï¼Œæµè§ˆå™¨ä¼šä»¥ä¸€ä¸ªéšæœºç«¯å£ï¼ˆ1024&lt;ç«¯å£&lt;65535ï¼‰å‘æœåŠ¡å™¨çš„WEBç¨‹åºï¼ˆå¸¸ç”¨çš„æœ‰httpd,nginxç­‰ï¼‰80ç«¯å£å‘èµ·TCPçš„è¿æ¥è¯·æ±‚ã€‚è¿™ä¸ªè¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ç«¯åï¼ˆè¿™ä¸­é—´é€šè¿‡å„ç§è·¯ç”±è®¾å¤‡ï¼Œå±€åŸŸç½‘å†…é™¤å¤–ï¼‰ï¼Œè¿›å…¥åˆ°ç½‘å¡ï¼Œç„¶åæ˜¯è¿›å…¥åˆ°å†…æ ¸çš„TCP/IPåè®®æ ˆï¼ˆç”¨äºè¯†åˆ«è¯¥è¿æ¥è¯·æ±‚ï¼Œè§£å°åŒ…ï¼Œä¸€å±‚ä¸€å±‚çš„å‰¥å¼€ï¼‰ï¼Œè¿˜æœ‰å¯èƒ½è¦ç»è¿‡Netfilteré˜²ç«å¢™ï¼ˆå±äºå†…æ ¸çš„æ¨¡å—ï¼‰çš„è¿‡æ»¤ï¼Œæœ€ç»ˆåˆ°è¾¾WEBç¨‹åºï¼Œæœ€ç»ˆå»ºç«‹äº†TCP/IPçš„è¿æ¥ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/bnd17b.png"
                      alt="TCP è¿æ¥å›¾"
                ></p>
<p>ä¸‰æ¬¡æ¡æ‰‹ä»¥å»ºç«‹ TCP è¿æ¥<br>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚</p>
<p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</p>
<p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</p>
<p><strong>ä¸ºä»€éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</strong><br>ã€Šè®¡ç®—æœºç½‘ç»œã€‹ç¬¬å››ç‰ˆä¸­è®²â€œä¸‰æ¬¡æ¡æ‰‹â€çš„ç›®çš„æ˜¯â€œä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯â€ï¼Œä¹¦ä¸­çš„ä¾‹å­æ˜¯è¿™æ ·çš„ï¼Œâ€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€çš„äº§ç”Ÿåœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼šclientå‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾serverã€‚æœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µã€‚ä½†serveræ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯clientå†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚äºæ˜¯å°±å‘clientå‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ã€‚å‡è®¾ä¸é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œé‚£ä¹ˆåªè¦serverå‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ã€‚ç”±äºç°åœ¨clientå¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬serverçš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘serverå‘é€æ•°æ®ã€‚ä½†serverå´ä»¥ä¸ºæ–°çš„è¿è¾“è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾…clientå‘æ¥æ•°æ®ã€‚è¿™æ ·ï¼Œserverçš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿã€‚ä¾‹å¦‚åˆšæ‰é‚£ç§æƒ…å†µï¼Œclientä¸ä¼šå‘serverçš„ç¡®è®¤å‘å‡ºç¡®è®¤ã€‚serverç”±äºæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“clientå¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¿æ¥ã€‚â€ã€‚ä¸»è¦ç›®çš„é˜²æ­¢serverç«¯ä¸€ç›´ç­‰å¾…ï¼Œæµªè´¹èµ„æºã€‚</p>
<h2 id="4-å‘é€HTTPè¯·æ±‚"><a href="#4-å‘é€HTTPè¯·æ±‚" class="headerlink" title="4. å‘é€HTTPè¯·æ±‚"></a>4. å‘é€HTTPè¯·æ±‚</h2><p>å»ºç«‹äº†TCPè¿æ¥ä¹‹åï¼Œå‘èµ·ä¸€ä¸ªhttpè¯·æ±‚ã€‚ä¸€ä¸ªå…¸å‹çš„ http request header ä¸€èˆ¬éœ€è¦åŒ…æ‹¬è¯·æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GET æˆ–è€… POST ç­‰ï¼Œä¸å¸¸ç”¨çš„è¿˜æœ‰ PUT å’Œ DELETE ã€HEADã€OPTIONä»¥åŠ TRACE æ–¹æ³•ï¼Œä¸€èˆ¬çš„æµè§ˆå™¨åªèƒ½å‘èµ· GET æˆ–è€… POST è¯·æ±‚ã€‚ â€ƒâ€ƒ</p>
<p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·httpè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›è¯·æ±‚ä¿¡æ¯ï¼Œè¯·æ±‚ä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹æ³•URIåè®®/ç‰ˆæœ¬</li>
<li>è¯·æ±‚å¤´(Request Header)</li>
<li>è¯·æ±‚æ­£æ–‡</li>
</ul>
<h2 id="5-æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘"><a href="#5-æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘" class="headerlink" title="5.æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘"></a>5.æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘</h2><p>æœåŠ¡å™¨ç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª301æ°¸ä¹…é‡å®šå‘å“åº”ï¼Œè¿™æ ·æµè§ˆå™¨å°±ä¼šè®¿é—®<a class="link"   href="http://www.google.com/" >http://www.google.com/<i class="fas fa-external-link-alt"></i></a>Â è€Œé<a class="link"   href="http://google.com/%E3%80%82" >http://google.com/ã€‚<i class="fas fa-external-link-alt"></i></a> â€ƒâ€ƒ<br>â€‹    ä¸ºä»€ä¹ˆæœåŠ¡å™¨ä¸€å®šè¦é‡å®šå‘è€Œä¸æ˜¯ç›´æ¥å‘é€ç”¨æˆ·æƒ³çœ‹çš„ç½‘é¡µå†…å®¹å‘¢ï¼Ÿå…¶ä¸­ä¸€ä¸ªåŸå› è·Ÿæœç´¢å¼•æ“æ’åæœ‰å…³ã€‚å¦‚æœä¸€ä¸ªé¡µé¢æœ‰ä¸¤ä¸ªåœ°å€ï¼Œå°±åƒ<a class="link"   href="http://www.yy.com/%E5%92%8Chttp://yy.com/%EF%BC%8C%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%9A%E8%AE%A4%E4%B8%BA%E5%AE%83%E4%BB%AC%E6%98%AF%E4%B8%A4%E4%B8%AA%E7%BD%91%E7%AB%99%EF%BC%8C%E7%BB%93%E6%9E%9C%E9%80%A0%E6%88%90%E6%AF%8F%E4%B8%AA%E6%90%9C%E7%B4%A2%E9%93%BE%E6%8E%A5%E9%83%BD%E5%87%8F%E5%B0%91%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E6%8E%92%E5%90%8D%E3%80%82%E8%80%8C%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9F%A5%E9%81%93301%E6%B0%B8%E4%B9%85%E9%87%8D%E5%AE%9A%E5%90%91%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E4%BC%9A%E6%8A%8A%E8%AE%BF%E9%97%AE%E5%B8%A6www%E7%9A%84%E5%92%8C%E4%B8%8D%E5%B8%A6www%E7%9A%84%E5%9C%B0%E5%9D%80%E5%BD%92%E5%88%B0%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99%E6%8E%92%E5%90%8D%E4%B8%8B%E3%80%82%E8%BF%98%E6%9C%89%E5%B0%B1%E6%98%AF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9C%B0%E5%9D%80%E4%BC%9A%E9%80%A0%E6%88%90%E7%BC%93%E5%AD%98%E5%8F%8B%E5%A5%BD%E6%80%A7%E5%8F%98%E5%B7%AE%EF%BC%8C%E5%BD%93%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%E6%9C%89%E5%A5%BD%E5%87%A0%E4%B8%AA%E5%90%8D%E5%AD%97%E6%97%B6%EF%BC%8C%E5%AE%83%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%9C%A8%E7%BC%93%E5%AD%98%E9%87%8C%E5%87%BA%E7%8E%B0%E5%A5%BD%E5%87%A0%E6%AC%A1%E3%80%82" >http://www.yy.com/å’Œhttp://yy.com/ï¼Œæœç´¢å¼•æ“ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªç½‘ç«™ï¼Œç»“æœé€ æˆæ¯ä¸ªæœç´¢é“¾æ¥éƒ½å‡å°‘ä»è€Œé™ä½æ’åã€‚è€Œæœç´¢å¼•æ“çŸ¥é“301æ°¸ä¹…é‡å®šå‘æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™æ ·å°±ä¼šæŠŠè®¿é—®å¸¦wwwçš„å’Œä¸å¸¦wwwçš„åœ°å€å½’åˆ°åŒä¸€ä¸ªç½‘ç«™æ’åä¸‹ã€‚è¿˜æœ‰å°±æ˜¯ç”¨ä¸åŒçš„åœ°å€ä¼šé€ æˆç¼“å­˜å‹å¥½æ€§å˜å·®ï¼Œå½“ä¸€ä¸ªé¡µé¢æœ‰å¥½å‡ ä¸ªåå­—æ—¶ï¼Œå®ƒå¯èƒ½ä¼šåœ¨ç¼“å­˜é‡Œå‡ºç°å¥½å‡ æ¬¡ã€‚<i class="fas fa-external-link-alt"></i></a></p>
<ul>
<li>è¡¥å……</li>
</ul>
<ol>
<li>301å’Œ302çš„åŒºåˆ«ï¼š</li>
</ol>
<p>301å’Œ302çŠ¶æ€ç éƒ½è¡¨ç¤ºé‡å®šå‘ï¼Œå°±æ˜¯è¯´æµè§ˆå™¨åœ¨æ‹¿åˆ°æœåŠ¡å™¨è¿”å›çš„è¿™ä¸ªçŠ¶æ€ç åä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸€ä¸ªæ–°çš„URLåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯ä»¥ä»å“åº”çš„Locationé¦–éƒ¨ä¸­è·å–ï¼ˆç”¨æˆ·çœ‹åˆ°çš„æ•ˆæœå°±æ˜¯ä»–è¾“å…¥çš„åœ°å€Aç¬é—´å˜æˆäº†å¦ä¸€ä¸ªåœ°å€Bï¼‰â€”â€”è¿™æ˜¯å®ƒä»¬çš„å…±åŒç‚¹ã€‚<br>â€ƒâ€ƒä»–ä»¬çš„ä¸åŒåœ¨äºã€‚301è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºå·²ç»è¢«æ°¸ä¹…åœ°ç§»é™¤äº†ï¼ˆè¿™ä¸ªèµ„æºä¸å¯è®¿é—®äº†ï¼‰ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ï¼›<br>â€ƒâ€ƒ302è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºè¿˜åœ¨ï¼ˆä»ç„¶å¯ä»¥è®¿é—®ï¼‰ï¼Œè¿™ä¸ªé‡å®šå‘åªæ˜¯ä¸´æ—¶åœ°ä»æ—§åœ°å€Aè·³è½¬åˆ°åœ°å€Bï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„ç½‘å€ã€‚ SEO302å¥½äº301</p>
<ol start="2">
<li><p>é‡å®šå‘åŸå› ï¼š<br>(1)ç½‘ç«™è°ƒæ•´ï¼ˆå¦‚æ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰ï¼›<br>(2)ç½‘é¡µè¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€ï¼›<br>(3)ç½‘é¡µæ‰©å±•åæ”¹å˜(å¦‚åº”ç”¨éœ€è¦æŠŠ.phpæ”¹æˆ.Htmlæˆ–.shtml)ã€‚<br>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åšé‡å®šå‘ï¼Œåˆ™ç”¨æˆ·æ”¶è—å¤¹æˆ–æœç´¢å¼•æ“æ•°æ®åº“ä¸­æ—§åœ°å€åªèƒ½è®©è®¿é—®å®¢æˆ·å¾—åˆ°ä¸€ä¸ª404é¡µé¢é”™è¯¯ä¿¡æ¯ï¼Œè®¿é—®æµé‡ç™½ç™½ä¸§å¤±ï¼›å†è€…æŸäº›æ³¨å†Œäº†å¤šä¸ªåŸŸåçš„ç½‘ç«™ï¼Œä¹Ÿéœ€è¦é€šè¿‡é‡å®šå‘è®©è®¿é—®è¿™äº›åŸŸåçš„ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ä¸»ç«™ç‚¹ç­‰ã€‚</p>
</li>
<li><p>ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ<br>å½“ä¸€ä¸ªç½‘ç«™æˆ–è€…ç½‘é¡µ24â€”48å°æ—¶å†…ä¸´æ—¶ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œè¿™æ—¶å€™å°±è¦è¿›è¡Œ302è·³è½¬ï¼Œè€Œä½¿ç”¨301è·³è½¬çš„åœºæ™¯å°±æ˜¯ä¹‹å‰çš„ç½‘ç«™å› ä¸ºæŸç§åŸå› éœ€è¦ç§»é™¤æ‰ï¼Œç„¶åè¦åˆ°æ–°çš„åœ°å€è®¿é—®ï¼Œæ˜¯æ°¸ä¹…æ€§çš„ã€‚ æ¸…æ™°æ˜ç¡®è€Œè¨€ï¼šä½¿ç”¨301è·³è½¬çš„å¤§æ¦‚åœºæ™¯å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<ul>
<li>åŸŸååˆ°æœŸä¸æƒ³ç»­è´¹ï¼ˆæˆ–è€…å‘ç°äº†æ›´é€‚åˆç½‘ç«™çš„åŸŸåï¼‰ï¼Œæƒ³æ¢ä¸ªåŸŸåã€‚</li>
<li>åœ¨æœç´¢å¼•æ“çš„æœç´¢ç»“æœä¸­å‡ºç°äº†ä¸å¸¦wwwçš„åŸŸåï¼Œè€Œå¸¦wwwçš„åŸŸåå´æ²¡æœ‰æ”¶å½•ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨301é‡å®šå‘æ¥å‘Šè¯‰æœç´¢å¼•æ“æˆ‘ä»¬ç›®æ ‡çš„åŸŸåæ˜¯å“ªä¸€ä¸ªã€‚</li>
<li>ç©ºé—´æœåŠ¡å™¨ä¸ç¨³å®šï¼Œæ¢ç©ºé—´çš„æ—¶å€™ã€‚</li>
</ul>
<h2 id="6-æœåŠ¡å™¨å¤„ç†è¯·æ±‚"><a href="#6-æœåŠ¡å™¨å¤„ç†è¯·æ±‚" class="headerlink" title="6. æœåŠ¡å™¨å¤„ç†è¯·æ±‚"></a>6. æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h2><p>ç»è¿‡å‰é¢çš„é‡é‡æ­¥éª¤ï¼Œæˆ‘ä»¬ç»ˆäºå°†æˆ‘ä»¬çš„httpè¯·æ±‚å‘é€åˆ°äº†æœåŠ¡å™¨è¿™é‡Œï¼Œå…¶å®å‰é¢çš„é‡å®šå‘å·²ç»æ˜¯åˆ°è¾¾æœåŠ¡å™¨äº†ï¼Œé‚£ä¹ˆï¼ŒæœåŠ¡å™¨æ˜¯å¦‚ä½•å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚çš„å‘¢ï¼Ÿ â€ƒâ€ƒ</p>
<p>åç«¯ä»åœ¨å›ºå®šçš„ç«¯å£æ¥æ”¶åˆ°TCPæŠ¥æ–‡å¼€å§‹ï¼Œå®ƒä¼šå¯¹TCPè¿æ¥è¿›è¡Œå¤„ç†ï¼Œå¯¹HTTPåè®®è¿›è¡Œè§£æï¼Œå¹¶æŒ‰ç…§æŠ¥æ–‡æ ¼å¼è¿›ä¸€æ­¥å°è£…æˆHTTP Requestå¯¹è±¡ï¼Œä¾›ä¸Šå±‚ä½¿ç”¨ã€‚ â€ƒâ€ƒ<br>ä¸€äº›å¤§ä¸€ç‚¹çš„ç½‘ç«™ä¼šå°†ä½ çš„è¯·æ±‚åˆ°åå‘ä»£ç†æœåŠ¡å™¨ä¸­ï¼Œå› ä¸ºå½“ç½‘ç«™è®¿é—®é‡éå¸¸å¤§ï¼Œç½‘ç«™è¶Šæ¥è¶Šæ…¢ï¼Œä¸€å°æœåŠ¡å™¨å·²ç»ä¸å¤Ÿç”¨äº†ã€‚äºæ˜¯å°†åŒä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå°†å¤§é‡ç”¨æˆ·çš„è¯·æ±‚åˆ†é…ç»™å¤šå°æœºå™¨å¤„ç†ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¸æ˜¯ç›´æ¥é€šè¿‡HTTPåè®®è®¿é—®æŸç½‘ç«™åº”ç”¨æœåŠ¡å™¨ï¼Œè€Œæ˜¯å…ˆè¯·æ±‚åˆ°Nginxï¼ŒNginxå†è¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™é‡ŒNginxçš„ä½œç”¨æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªå¥½å¤„ï¼Œå…¶ä¸­ä¸€å°æœåŠ¡å™¨ä¸‡ä¸€æŒ‚äº†ï¼Œåªè¦è¿˜æœ‰å…¶ä»–æœåŠ¡å™¨æ­£å¸¸è¿è¡Œï¼Œå°±ä¸ä¼šå½±å“ç”¨æˆ·ä½¿ç”¨ã€‚</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/pn6p43.png"
                      alt="ç¤ºä¾‹å›¾"
                ></p>
<ul>
<li>è¡¥å……ï¼š</li>
</ul>
<ol>
<li>ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ<br>å®¢æˆ·ç«¯æœ¬æ¥å¯ä»¥ç›´æ¥é€šè¿‡HTTPåè®®è®¿é—®æŸç½‘ç«™åº”ç”¨æœåŠ¡å™¨ï¼Œç½‘ç«™ç®¡ç†å‘˜å¯ä»¥åœ¨ä¸­é—´åŠ ä¸Šä¸€ä¸ªNginxï¼Œå®¢æˆ·ç«¯è¯·æ±‚Nginxï¼ŒNginxè¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶Nginxå°±æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/ysfjxn.png"
                      alt="ç¤ºä¾‹å›¾"
                ></li>
</ol>
<h2 id="7-æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”"><a href="#7-æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”" class="headerlink" title="7. æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”"></a>7. æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”</h2><p>ç»è¿‡å‰é¢çš„6ä¸ªæ­¥éª¤ï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œä¹Ÿå¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œå®ƒä¼šæŠŠå®ƒçš„å¤„ç†ç»“æœè¿”å›ï¼Œä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªHTPPå“åº”ã€‚ HTTPå“åº”ä¸HTTPè¯·æ±‚ç›¸ä¼¼ï¼ŒHTTPå“åº”ä¹Ÿç”±3ä¸ªéƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>çŠ¶æ€è¡Œ</li>
<li>å“åº”å¤´</li>
<li>ç©ºè¡Œ</li>
<li>å“åº”æ­£æ–‡</li>
</ul>
<p><strong>çŠ¶æ€è¡Œï¼š</strong><br>çŠ¶æ€è¡Œç”±åè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç ã€åŠç›¸åº”çš„çŠ¶æ€æè¿°ï¼Œå„å…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚<br>æ ¼å¼: HTTP-Version Status-Code Reason-Phrase CRLF<br>ä¾‹å¦‚: HTTP/1.1 200 OK \r\n<br>| -åè®®ç‰ˆæœ¬ï¼šæ˜¯ç”¨http1.0è¿˜æ˜¯å…¶ä»–ç‰ˆæœ¬<br>| -çŠ¶æ€æè¿°ï¼šçŠ¶æ€æè¿°ç»™å‡ºäº†å…³äºçŠ¶æ€ä»£ç çš„ç®€çŸ­çš„æ–‡å­—æè¿°ã€‚æ¯”å¦‚çŠ¶æ€ä»£ç ä¸º200æ—¶çš„æè¿°ä¸º ok<br>| -æ€ä»£ç ï¼šçŠ¶æ€ä»£ç ç”±ä¸‰ä½æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªæ•°å­—å®šä¹‰äº†å“åº”çš„ç±»åˆ«ï¼Œä¸”æœ‰äº”ç§å¯èƒ½å–å€¼ã€‚</p>
<p>==1xxï¼š== ä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æ¥æ”¶äº†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯ç»§ç»­å‘é€è¯·æ±‚ã€‚</p>
<ul>
<li>100 Continue</li>
<li>101 Switching Protocols</li>
</ul>
<p>==2xxï¼š== æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æˆåŠŸæ¥æ”¶åˆ°è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>200 OK è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ</li>
<li>204 No Content æˆåŠŸï¼Œä½†ä¸è¿”å›ä»»ä½•å®ä½“çš„ä¸»ä½“éƒ¨åˆ†</li>
<li>206 Partial Content æˆåŠŸæ‰§è¡Œäº†ä¸€ä¸ªèŒƒå›´ï¼ˆRangeï¼‰è¯·æ±‚</li>
</ul>
<p>==3xxï¼š== é‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯é‡å®šå‘ã€‚</p>
<ul>
<li>301 Moved Permanently æ°¸ä¹…æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨åº”è¯¥æœ‰è¯¥èµ„æºçš„æ–°URL</li>
<li>302 Found ä¸´æ—¶æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨ç»™å‡ºçš„URLç”¨æ¥ä¸´æ—¶å®šä½èµ„æº</li>
<li>303 See Other è¯·æ±‚çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ªURIï¼Œå®¢æˆ·ç«¯åº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æº</li>
<li>304 Not Modified æœåŠ¡å™¨å†…å®¹æ²¡æœ‰æ›´æ–°ï¼Œå¯ä»¥ç›´æ¥è¯»å–æµè§ˆå™¨ç¼“å­˜</li>
<li>307 Temporary Redirect ä¸´æ—¶é‡å®šå‘ã€‚ä¸302 Foundå«ä¹‰ä¸€æ ·ã€‚302ç¦æ­¢POSTå˜æ¢ä¸ºGETï¼Œä½†å®é™…ä½¿ç”¨æ—¶å¹¶ä¸ä¸€å®šï¼Œ307åˆ™æ›´å¤šæµè§ˆå™¨å¯èƒ½ä¼šéµå¾ªè¿™ä¸€æ ‡å‡†ï¼Œä½†ä¹Ÿä¾èµ–äºæµè§ˆå™¨å…·ä½“å®ç°</li>
</ul>
<p>==4xxï¼š== å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰éæ³•å†…å®¹ã€‚</p>
<ul>
<li>400 Bad Request è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£</li>
<li>401 Unauthonzed è¡¨ç¤ºè¯·æ±‚æœªç»æˆæƒï¼Œè¯¥çŠ¶æ€ä»£ç å¿…é¡»ä¸ WWW-Authenticate æŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨</li>
<li>403 Forbidden è¡¨ç¤ºæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ï¼Œé€šå¸¸ä¼šåœ¨å“åº”æ­£æ–‡ä¸­ç»™å‡ºä¸æä¾›æœåŠ¡çš„åŸå› </li>
<li>404 Not Found è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œä¾‹å¦‚ï¼Œè¾“å…¥äº†é”™è¯¯çš„URL</li>
</ul>
<p>==5xxï¼š== æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æœªèƒ½æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚è€Œå‡ºç°æ„å¤–é”™è¯¯ã€‚</p>
<ul>
<li>500 Internel Server Error è¡¨ç¤ºæœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ç«¯çš„è¯·æ±‚</li>
<li>503 Service Unavailable è¡¨ç¤ºæœåŠ¡å™¨å½“å‰ä¸èƒ½å¤Ÿå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œåœ¨ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ¢å¤æ­£å¸¸</li>
</ul>
<p><strong>å“åº”å¤´ï¼š</strong><br>å“åº”å¤´éƒ¨ï¼šç”±å…³é”®å­—/å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨è‹±æ–‡å†’å·â€:â€åˆ†éš”ï¼Œå…¸å‹çš„å“åº”å¤´æœ‰ï¼š<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/m1chic.png"
                      alt="å“åº”å¤´"
                ></p>
<p><strong>å“åº”æ­£æ–‡ï¼š</strong><br>åŒ…å«ç€æˆ‘ä»¬éœ€è¦çš„ä¸€äº›å…·ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚cookieï¼Œhtml,imageï¼Œåç«¯è¿”å›çš„è¯·æ±‚æ•°æ®ç­‰ç­‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå“åº”æ­£æ–‡å’Œå“åº”å¤´ä¹‹é—´æœ‰ä¸€è¡Œç©ºæ ¼ï¼Œè¡¨ç¤ºå“åº”å¤´çš„ä¿¡æ¯åˆ°ç©ºæ ¼ä¸ºæ­¢ï¼Œä¸‹å›¾æ˜¯fiddleræŠ“åˆ°çš„è¯·æ±‚æ­£æ–‡ï¼Œçº¢è‰²æ¡†ä¸­çš„ï¼šå“åº”æ­£æ–‡ï¼š<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/0qw5o5.png"
                      alt="å“åº”æ­£æ–‡"
                ></p>
<h2 id="8-æµè§ˆå™¨æ˜¾ç¤º-html"><a href="#8-æµè§ˆå™¨æ˜¾ç¤º-html" class="headerlink" title="8. æµè§ˆå™¨æ˜¾ç¤º html"></a>8. æµè§ˆå™¨æ˜¾ç¤º html</h2><blockquote>
<p>æµè§ˆå™¨åœ¨æ”¶åˆ°HTML,CSS,JSæ–‡ä»¶åï¼Œå®ƒæ˜¯å¦‚ä½•æŠŠé¡µé¢å‘ˆç°åˆ°å±å¹•ä¸Šçš„ï¼Ÿä¸‹å›¾å¯¹åº”çš„å°±æ˜¯WebKitæ¸²æŸ“çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>æ„å»ºdomæ ‘ -&gt; æ„å»ºrenderæ ‘ -&gt; å¸ƒå±€renderæ ‘ -&gt; ç»˜åˆ¶renderæ ‘</strong><br>æ¸²æŸ“è¿‡ç¨‹ï¼š</p>
<p>æµè§ˆå™¨æ˜¯ä¸€ä¸ªè¾¹è§£æè¾¹æ¸²æŸ“çš„è¿‡ç¨‹ã€‚é¦–å…ˆæµè§ˆå™¨è§£æHTMLæ–‡ä»¶æ„å»ºDOMæ ‘ï¼Œç„¶åè§£æCSSæ–‡ä»¶æ„å»ºæ¸²æŸ“æ ‘ï¼Œç­‰åˆ°æ¸²æŸ“æ ‘æ„å»ºå®Œæˆåï¼Œæµè§ˆå™¨å¼€å§‹å¸ƒå±€æ¸²æŸ“æ ‘å¹¶å°†å…¶ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠåˆ°ä¸¤ä¸ªæ¦‚å¿µ: reflow(å›æµ)å’Œrepain(é‡ç»˜)ã€‚DOMèŠ‚ç‚¹ä¸­çš„å„ä¸ªå…ƒç´ éƒ½æ˜¯ä»¥ç›’æ¨¡å‹çš„å½¢å¼å­˜åœ¨ï¼Œè¿™äº›éƒ½éœ€è¦æµè§ˆå™¨å»è®¡ç®—å…¶ä½ç½®å’Œå¤§å°ç­‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºrelow;å½“ç›’æ¨¡å‹çš„ä½ç½®,å¤§å°ä»¥åŠå…¶ä»–å±æ€§ï¼Œå¦‚é¢œè‰²,å­—ä½“,ç­‰ç¡®å®šä¸‹æ¥ä¹‹åï¼Œæµè§ˆå™¨ä¾¿å¼€å§‹ç»˜åˆ¶å†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºrepainã€‚é¡µé¢åœ¨é¦–æ¬¡åŠ è½½æ—¶å¿…ç„¶ä¼šç»å†reflowå’Œrepainã€‚reflowå’Œrepainè¿‡ç¨‹æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå®ƒä¼šç ´åç”¨æˆ·ä½“éªŒï¼Œæœ‰æ—¶ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½å°‘çš„å‡å°‘reflowå’Œrepainã€‚<br>â€‹    å½“æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­é‡åˆ°jsæ–‡ä»¶ï¼Œhtmlæ–‡æ¡£ä¼šæŒ‚èµ·æ¸²æŸ“ï¼ˆåŠ è½½è§£ææ¸²æŸ“åŒæ­¥ï¼‰çš„çº¿ç¨‹ï¼Œä¸ä»…è¦ç­‰å¾…æ–‡æ¡£ä¸­jsæ–‡ä»¶åŠ è½½å®Œæ¯•ï¼Œè¿˜è¦ç­‰å¾…è§£ææ‰§è¡Œå®Œæ¯•ï¼Œæ‰å¯ä»¥æ¢å¤htmlæ–‡æ¡£çš„æ¸²æŸ“çº¿ç¨‹ã€‚å› ä¸ºJSæœ‰å¯èƒ½ä¼šä¿®æ”¹DOMï¼Œæœ€ä¸ºç»å…¸çš„document.writeï¼Œè¿™æ„å‘³ç€ï¼Œåœ¨JSæ‰§è¡Œå®Œæˆå‰ï¼Œåç»­æ‰€æœ‰èµ„æºçš„ä¸‹è½½å¯èƒ½æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œè¿™æ˜¯jsé˜»å¡åç»­èµ„æºä¸‹è½½çš„æ ¹æœ¬åŸå› ã€‚æ‰€ä»¥æˆ‘æ˜å¹³æ—¶çš„ä»£ç ä¸­ï¼Œjsæ˜¯æ”¾åœ¨htmlæ–‡æ¡£æœ«å°¾çš„ã€‚<br>â€‹    JSçš„è§£ææ˜¯ç”±æµè§ˆå™¨ä¸­çš„JSè§£æå¼•æ“å®Œæˆçš„ã€‚JSæ˜¯å•çº¿ç¨‹è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´å†…åªèƒ½åšä¸€ä»¶äº‹ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œåä¸€ä¸ªä»»åŠ¡æ‰èƒ½å¼€å§‹ã€‚ä½†æ˜¯åˆå­˜åœ¨æŸäº›ä»»åŠ¡æ¯”è¾ƒè€—æ—¶ï¼Œå¦‚IOè¯»å†™ç­‰ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§æœºåˆ¶å¯ä»¥å…ˆæ‰§è¡Œæ’åœ¨åé¢çš„ä»»åŠ¡ï¼Œè¿™å°±æ˜¯ï¼šåŒæ­¥ä»»åŠ¡(synchronous)å’Œå¼‚æ­¥ä»»åŠ¡(asynchronous)ã€‚<br>â€‹    JSçš„æ‰§è¡Œæœºåˆ¶å°±å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªä¸»çº¿ç¨‹åŠ ä¸Šä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—(task queue)ã€‚åŒæ­¥ä»»åŠ¡å°±æ˜¯æ”¾åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡æ˜¯æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ;å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœå°±ä¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ï¼›è„šæœ¬è¿è¡Œæ—¶å…ˆä¾æ¬¡è¿è¡Œæ‰§è¡Œæ ˆï¼Œç„¶åä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œæå–äº‹ä»¶ï¼Œè¿è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸æ–­é‡å¤çš„ï¼Œæ‰€ä»¥åˆå«åšäº‹ä»¶å¾ªç¯(Event loop)ã€‚<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://files.catbox.moe/we6f9l.png"
                      alt="æ¸²æŸ“è¿‡ç¨‹"
                ></p>
<h2 id="9-è¿æ¥ç»“æŸ"><a href="#9-è¿æ¥ç»“æŸ" class="headerlink" title="9. è¿æ¥ç»“æŸ"></a>9. è¿æ¥ç»“æŸ</h2><p>ç°åœ¨çš„é¡µé¢ä¸ºäº†ä¼˜åŒ–è¯·æ±‚çš„è€—æ—¶ï¼Œé»˜è®¤éƒ½ä¼šå¼€å¯æŒä¹…è¿æ¥ï¼ˆkeep-aliveï¼‰ï¼Œé‚£ä¹ˆä¸€ä¸ªTCPè¿æ¥ç¡®åˆ‡å…³é—­çš„æ—¶æœºï¼Œæ˜¯è¿™ä¸ªtabæ ‡ç­¾é¡µå…³é—­çš„æ—¶å€™ã€‚è¿™ä¸ªå…³é—­çš„è¿‡ç¨‹å°±æ˜¯è‘—åçš„å››æ¬¡æŒ¥æ‰‹ã€‚å…³é—­æ˜¯ä¸€ä¸ªå…¨åŒå·¥çš„è¿‡ç¨‹ï¼Œå‘åŒ…çš„é¡ºåºçš„ä¸ä¸€å®šçš„ã€‚ä¸€èˆ¬æ¥è¯´æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·çš„å…³é—­ï¼Œè¿‡ç¨‹å¦‚ä¸‹ã€‚<br>å¯¹äºä¸€ä¸ªå·²ç»å»ºç«‹çš„è¿æ¥ï¼ŒTCPä½¿ç”¨æ”¹è¿›çš„ä¸‰æ¬¡æ¡æ‰‹æ¥é‡Šæ”¾è¿æ¥ï¼ˆä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼‰ã€‚TCPå…³é—­è¿æ¥çš„æ­¥éª¤å¦‚ä¸‹ï¼š<br>ç¬¬ä¸€æ­¥ï¼Œå½“ä¸»æœºAçš„åº”ç”¨ç¨‹åºé€šçŸ¥TCPæ•°æ®å·²ç»å‘é€å®Œæ¯•æ—¶ï¼ŒTCPå‘ä¸»æœºBå‘é€ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼ˆFINè¡¨ç¤ºè‹±æ–‡finishï¼‰ã€‚<br>ç¬¬äºŒæ­¥ï¼Œä¸»æœºBæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µä¹‹åï¼Œå¹¶ä¸ç«‹å³ç”¨FINæŠ¥æ–‡æ®µå›å¤ä¸»æœºAï¼Œè€Œæ˜¯å…ˆå‘ä¸»æœºAå‘é€ä¸€ä¸ªç¡®è®¤åºå·ACKï¼ŒåŒæ—¶é€šçŸ¥è‡ªå·±ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼šå¯¹æ–¹è¦æ±‚å…³é—­è¿æ¥ï¼ˆå…ˆå‘é€ACKçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹é‡ä¼ FINæŠ¥æ–‡æ®µï¼‰ã€‚<br>ç¬¬ä¸‰æ­¥ï¼Œä¸»æœºBçš„åº”ç”¨ç¨‹åºå‘Šè¯‰TCPï¼šæˆ‘è¦å½»åº•çš„å…³é—­è¿æ¥ï¼ŒTCPå‘ä¸»æœºAé€ä¸€ä¸ªFINæŠ¥æ–‡æ®µã€‚<br>ç¬¬å››æ­¥ï¼Œä¸»æœºAæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µåï¼Œå‘ä¸»æœºBå‘é€ä¸€ä¸ªACKè¡¨ç¤ºè¿æ¥å½»åº•é‡Šæ”¾ã€‚</p>
<p><strong>è¡¥å……ï¼š</strong><br><strong>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</strong><br>ç­”ï¼šå› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œâ€ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://juejin.cn/post/6844903616101220366" >https://juejin.cn/post/6844903616101220366<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>ä¸‰æ¬¡æ¡æ‰‹</tag>
        <tag>DNS</tag>
        <tag>HTTP è¯·æ±‚</tag>
      </tags>
  </entry>
</search>
