<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Swift åè®®ä¸æ‰©å±•</title>
    <url>/2020/12/25/-00001-Swift%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%89%A9%E5%B1%95/</url>
    <content><![CDATA[<h1 id="åè®®-Protocol"><a href="#åè®®-Protocol" class="headerlink" title="åè®® Protocol"></a>åè®® Protocol</h1><h2 id="ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"><a href="#ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®" class="headerlink" title="ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"></a>ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®</h2><blockquote>
<p>è®©éµå®ˆè¯¥åè®®çš„ class ä¸ struct å®ç°çº¦å®šä¸€äº›æ–¹æ³•ä¸å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éµå®ˆåè®®"><a href="#éµå®ˆåè®®" class="headerlink" title="éµå®ˆåè®®"></a>éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct Person: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Car: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int &#x3D; 0</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ‰©å±•-extension"><a href="#æ‰©å±•-extension" class="headerlink" title="æ‰©å±• extension"></a>æ‰©å±• extension</h1><h2 id="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"><a href="#æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰" class="headerlink" title="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"></a>æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰</h2><blockquote>
<p>åˆ†æ•£ä»£ç å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension Car &#123;</span><br><span class="line">    func dididi() &#123;</span><br><span class="line">        print(&quot;æ»´æ»´æ»´&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Car().dididi()</span><br></pre></td></tr></table></figure>

<h1 id="Protocl-Extension"><a href="#Protocl-Extension" class="headerlink" title="Protocl + Extension"></a>Protocl + Extension</h1><blockquote>
<p>ç»™å‡ºåè®®å¹¶å®ç°åè®®ï¼Œè¿™æ ·éµå®ˆåè®®çš„ class å’Œ struct å°±èƒ½ç›´æ¥ä½¿ç”¨åè®®æ–¹æ³•ã€‚</p>
</blockquote>
<h2 id="runtime-æ·»åŠ å±æ€§"><a href="#runtime-æ·»åŠ å±æ€§" class="headerlink" title="runtime æ·»åŠ å±æ€§"></a>runtime æ·»åŠ å±æ€§</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func getAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer) -&gt; T? &#123;</span><br><span class="line">    return objc_getAssociatedObject(object, key) as? T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func setRetainedAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer, _ value: T) &#123;</span><br><span class="line">    objc_setAssociatedObject(object, key, value, .OBJC_ASSOCIATION_RETAIN_NONATOMIC)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰©å±•éµå®ˆåè®®"><a href="#æ‰©å±•éµå®ˆåè®®" class="headerlink" title="æ‰©å±•éµå®ˆåè®®"></a>æ‰©å±•éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">private var pageNumberKey: Void?</span><br><span class="line"></span><br><span class="line">private var nameKey: Void?</span><br><span class="line"></span><br><span class="line">extension UIViewController: PageNumberProtocol &#123;</span><br><span class="line">    static func logName() &#123;</span><br><span class="line">        debugPrint(name ?? &quot;æ— å&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static var name: String? &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;nameKey)</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;nameKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func add() &#123;</span><br><span class="line">        pageNumber +&#x3D; 1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var pageNumber: Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;pageNumberKey) ?? 0</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;pageNumberKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ‰€æœ‰éµå®ˆ PageNumberProtocol åè®®çš„ UIViewController å°±éƒ½æœ‰äº†åè®®è¦æ±‚çš„å±æ€§ä¸æ–¹æ³•ä¸”å·²ç»å®ç°äº†ã€‚</p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Protocol</tag>
        <tag>Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>Dart åŸºç¡€ä¹‹ ç±»ã€setã€getã€æ„é€ å‡½æ•°ã€æ–¹æ³•</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%801/</url>
    <content><![CDATA[<h1 id="ç±»ã€å±æ€§ã€æ–¹æ³•"><a href="#ç±»ã€å±æ€§ã€æ–¹æ³•" class="headerlink" title="ç±»ã€å±æ€§ã€æ–¹æ³•"></a>ç±»ã€å±æ€§ã€æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—:$name å¹´é¾„:$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"><a href="#é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"></a>é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨</h1><blockquote>
<p>å­˜åœ¨åˆå§‹åŒ–åˆ—è¡¨å°±ä¸èƒ½å­˜åœ¨é»˜è®¤æ„é€ å‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° ç®€å†™</span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° å…¨å†™</span><br><span class="line">  Person(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åˆå§‹åŒ–åˆ—è¡¨</span><br><span class="line">  Person()</span><br><span class="line">      : name &#x3D; &#39;æå&#39;,</span><br><span class="line">        age &#x3D; 22 &#123;</span><br><span class="line">    print(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="åŒ¿åæ„é€ å‡½æ•°"><a href="#åŒ¿åæ„é€ å‡½æ•°" class="headerlink" title="åŒ¿åæ„é€ å‡½æ•°"></a>åŒ¿åæ„é€ å‡½æ•°</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  Person.newPeople() &#123;</span><br><span class="line">    name &#x3D; &quot;æå››&quot;;</span><br><span class="line">    age &#x3D; 33;</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; å¸¦å‚æ•°åŒ¿åæ„é€ å‡½æ•°</span><br><span class="line">  Person.new2(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"><a href="#ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•" class="headerlink" title="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"></a>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•</h1><blockquote>
<p>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•  è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  var _money &#x3D; 999999;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:set æ–¹æ³•</span><br><span class="line">  set gongzi(int value) &#123;</span><br><span class="line">    _money &#x3D; _money + value;</span><br><span class="line">    _printMoney();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:getæ–¹æ³•</span><br><span class="line">  int get money &#123;</span><br><span class="line">    return _money;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:   ç§æœ‰æ–¹æ³• è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">  _printMoney() &#123;</span><br><span class="line">    print(money);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart é™æ€å±æ€§ã€é™æ€æ–¹æ³•</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%802/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;MARK: é™æ€å±æ€§</span><br><span class="line">  static String name &#x3D; &#39;å¼ ä¸‰&#39;;</span><br><span class="line">  int age &#x3D; 20;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;MARK:é™æ€æ–¹æ³•</span><br><span class="line">  static getInfo() &#123;</span><br><span class="line">    print(name);</span><br><span class="line">    &#x2F;&#x2F; print(age);  é™æ€æ–¹æ³•å†…éƒ¨ä¸èƒ½åé—®éé™æ€å±æ€§</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printInfo() &#123;</span><br><span class="line">    &#x2F;&#x2F; éé™æ€æ–¹æ³• å¯ä»¥è®¿é—®é™æ€æˆå‘˜ä¸éé™æ€ åŒ…æ‹¬æ–¹æ³•</span><br><span class="line">    getInfo();</span><br><span class="line">    print(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ï¼Ÿå¯é€‰æ“ä½œ ç±»å‹åˆ¤æ–­ã€ç±»å‹è½¬æ¢ã€è”ç¼€</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%803/</url>
    <content><![CDATA[<h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—ï¼š$name  å¹´é¾„ï¼š$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ï¼Ÿ-å¯é€‰æ“ä½œç¬¦"><a href="#ï¼Ÿ-å¯é€‰æ“ä½œç¬¦" class="headerlink" title="ï¼Ÿ å¯é€‰æ“ä½œç¬¦"></a>ï¼Ÿ å¯é€‰æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Person p2;</span><br><span class="line">&#x2F;&#x2F; p2.getInfo();  p2 æœªåˆå§‹åŒ–  å¯ä½¿ç”¨ ï¼Ÿ å¯é€‰ç¬¦æ“ä½œ</span><br><span class="line">&#x2F;&#x2F;MARK:     å¯é€‰æ“ä½œç¬¦</span><br><span class="line">p2?.getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­"><a href="#is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­" class="headerlink" title="is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­"></a>is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p1 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F;MARK: is  æ“ä½œç¬¦    ç±»å‹åˆ¤æ–­</span><br><span class="line">  if (p1 is Person) &#123;</span><br><span class="line">    print(&#39;p1 æ˜¯ person&#39;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢"><a href="#as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢" class="headerlink" title="as æ“ä½œç¬¦ ç±»å‹è½¬æ¢"></a>as æ“ä½œç¬¦ ç±»å‹è½¬æ¢</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p3;</span><br><span class="line">p3 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F; p3.name;   è™½ç„¶æ²¡æŠ¥é”™  ä½†æ˜¯ä¸çŸ¥é“ p3 ç±»å‹</span><br><span class="line">(p3 as Person).name &#x3D; &#39;ç‹éº»å­&#39;;</span><br><span class="line">(p3 as Person).age &#x3D; 11;</span><br><span class="line">(p3 as Person).getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="è”ç¼€æ“ä½œç¬¦"><a href="#è”ç¼€æ“ä½œç¬¦" class="headerlink" title=".. è”ç¼€æ“ä½œç¬¦"></a>.. è”ç¼€æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; .. è”ç¼€ æ“ä½œç¬¦</span><br><span class="line">  Person p4 &#x3D; Person();</span><br><span class="line">  p4</span><br><span class="line">    ..name &#x3D; &#39;å“ˆå“ˆå“ˆ&#39;</span><br><span class="line">    ..age &#x3D; 40</span><br><span class="line">    ..getInfo();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ç±»çš„ç»§æ‰¿</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%804/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line"></span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name    ---   $age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  work() &#123;</span><br><span class="line">    print(&quot;object åŠªåŠ›å­¦ä¹ &quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"></a>ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•</h1><blockquote>
<p>ä½¿ç”¨ extends å…³é”®å­—ç»§æ‰¿</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Zp extends Person &#123;</span><br><span class="line">  String sex;</span><br><span class="line">  Zp(String name, int age, [String sex &#x3D; &#39;ç”·&#39;]) : super(name, age) &#123;</span><br><span class="line">    this.sex &#x3D; sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  faGongZi(&#123;int money&#125;) &#123;</span><br><span class="line">    print(&#39;å‘å·¥èµ„äº† $money&#39;);</span><br><span class="line">    super.work();</span><br><span class="line">    work();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK: é‡å†™çˆ¶ç±»æ–¹æ³•</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name ä»Šå¹´ $age  å¾ˆæœ‰é’±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>abstract æŠ½è±¡ç±»</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%805/</url>
    <content><![CDATA[<h1 id="æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£"><a href="#æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£" class="headerlink" title="æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£"></a>æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class Animal &#123;</span><br><span class="line">  &#x2F;&#x2F;æŠ½è±¡æ–¹æ³• åªæœ‰æ–¹æ³•å æ²¡æœ‰å…·ä½“å®ç°</span><br><span class="line">  run();</span><br><span class="line"></span><br><span class="line">  String name;</span><br><span class="line"></span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æ™®é€šæ–¹æ³•&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–"><a href="#Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–" class="headerlink" title="Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–"></a>Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–</h2><h1 id="ç»§æ‰¿æŠ½è±¡ç±»"><a href="#ç»§æ‰¿æŠ½è±¡ç±»" class="headerlink" title="ç»§æ‰¿æŠ½è±¡ç±»"></a>ç»§æ‰¿æŠ½è±¡ç±»</h1><blockquote>
<p>ç»§æ‰¿è‡ªæŠ½è±¡ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•     ç»§æ‰¿è‡ªæŠ½è±¡ç±»çš„å±æ€§ä¸æ˜¯å¿…é¡»å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ç‹—è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="implements-å£°æ˜ã€with"><a href="#implements-å£°æ˜ã€with" class="headerlink" title="implements å£°æ˜ã€with"></a>implements å£°æ˜ã€with</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Cat implements Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æˆ‘æ˜¯ğŸ±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ğŸ±è·‘çš„å¿«&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Duck with Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°é¸­è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart å¤šç»§æ‰¿</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%806/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class A &#123;</span><br><span class="line">  printA() &#123;</span><br><span class="line">    print(&#39;AAAAA&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;A run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B &#123;</span><br><span class="line">  printB() &#123;</span><br><span class="line">    print(&#39;BBBBBBBBB&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; B.bbb()&#123;&#125;    ä½œä¸º minxins çš„ç±»ä¸èƒ½æœ‰æ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;B run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="mixins-æ··å…¥"><a href="#mixins-æ··å…¥" class="headerlink" title="mixins æ··å…¥"></a>mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;MARK:   mixins çš„å¿…é¡»æ˜¯å•ç‹¬çš„ä¸€ä¸ªobject ç±» Aä¸èƒ½ç»§æ‰¿äºå…¶ä»–ç±»</span><br><span class="line">class Z with A, B &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç»§æ‰¿-mixins-æ··å…¥"><a href="#ç»§æ‰¿-mixins-æ··å…¥" class="headerlink" title="ç»§æ‰¿ + mixins æ··å…¥"></a>ç»§æ‰¿ + mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class X extends Person with A, B &#123;</span><br><span class="line">  X.aa() : super.aa();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"><a href="#A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„" class="headerlink" title="A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"></a>A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„</h1>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart æ³›å‹</title>
    <url>/2020/12/27/-00003-Dart%E5%9F%BA%E7%A1%807/</url>
    <content><![CDATA[<h1 id="æ–¹æ³•æ·»åŠ æ³›å‹"><a href="#æ–¹æ³•æ·»åŠ æ³›å‹" class="headerlink" title="æ–¹æ³•æ·»åŠ æ³›å‹"></a>æ–¹æ³•æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">T getData&lt;T&gt;(T value) &#123;</span><br><span class="line">  return value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç±»æ·»åŠ æ³›å‹"><a href="#ç±»æ·»åŠ æ³›å‹" class="headerlink" title="ç±»æ·»åŠ æ³›å‹"></a>ç±»æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Pppp&lt;T&gt; &#123;</span><br><span class="line">  var list &#x3D; List&lt;T&gt;();</span><br><span class="line"></span><br><span class="line">  add(T) &#123;</span><br><span class="line">    list.add(T);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printList() &#123;</span><br><span class="line">    print(list);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ³›å‹-æ¥å£"><a href="#æ³›å‹-æ¥å£" class="headerlink" title="æ³›å‹ æ¥å£"></a>æ³›å‹ æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class ABC&lt;T&gt; &#123;</span><br><span class="line">  addObject(String key);</span><br><span class="line">  setValue(String key, T value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å®ç°æ³›å‹æ¥å£"><a href="#å®ç°æ³›å‹æ¥å£" class="headerlink" title="å®ç°æ³›å‹æ¥å£"></a>å®ç°æ³›å‹æ¥å£</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Wq&lt;T&gt; implements ABC&lt;T&gt; &#123;</span><br><span class="line">  @override</span><br><span class="line">  addObject(String key) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  setValue(String key, T value) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>RxSwift-åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—</title>
    <url>/2020/11/11/1--RxSwift-%E5%88%9B%E5%BB%BA%E5%8F%AF%E8%A7%82%E5%AF%9F%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h3 id="empty-æ–¹æ³•åˆå§‹åŒ–"><a href="#empty-æ–¹æ³•åˆå§‹åŒ–" class="headerlink" title="empty() æ–¹æ³•åˆå§‹åŒ–"></a>empty() æ–¹æ³•åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºäº†ä¸€ä¸ªç©ºå†…å®¹çš„ Observable</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.empty()</span><br><span class="line">&#x2F;&#x2F; å…ˆç®€å•çš„å†™ä¸€ç§è®¢é˜…çš„æ–¹æ³•</span><br><span class="line">ob.subscribe &#123; print(&quot;æ‰§è¡Œäº†&quot;) &#125;</span><br></pre></td></tr></table></figure>

<h3 id="just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"><a href="#just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–" class="headerlink" title="just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"></a>just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™é‡Œä¸ç”¨ç»™å®šæ³›å‹ï¼Œä¼šæ ¹æ® just è‡ªåŠ¨æ¨å€’å‡º</span><br><span class="line">let ob &#x3D; Observable.just(&quot;åˆå§‹åŒ–é»˜è®¤å€¼&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"><a href="#of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹" class="headerlink" title="of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"></a>of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;å¯&quot;, &quot;å˜&quot;, &quot;æ•°&quot;, &quot;é‡&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"><a href="#from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"></a>from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.from([&quot;æ•°&quot;, &quot;ç»„&quot;])</span><br></pre></td></tr></table></figure>

<h3 id="never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—"><a href="#never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—" class="headerlink" title="never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—"></a>never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Any&gt;.never()</span><br></pre></td></tr></table></figure>

<h3 id="error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"><a href="#error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯" class="headerlink" title="error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"></a>error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum OBError: Error &#123;</span><br><span class="line">    case abc</span><br><span class="line">&#125;</span><br><span class="line">let ob &#x3D; Observable&lt;OBError&gt;.error(OBError.abc)</span><br></pre></td></tr></table></figure>

<h3 id="interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"><a href="#interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡" class="headerlink" title="interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"></a>interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>

<h3 id="timer-å®šæ—¶å‘é€"><a href="#timer-å®šæ—¶å‘é€" class="headerlink" title="timer() å®šæ—¶å‘é€"></a>timer() å®šæ—¶å‘é€</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œä»…å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, scheduler: MainScheduler.instance)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œæ¯ 2 ç§’å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, period: 2, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å»¶è¿Ÿã€è¶…æ—¶ã€delayã€timeout</title>
    <url>/2020/11/20/10--RxSwift-%E5%BB%B6%E8%BF%9F%E3%80%81%E8%B6%85%E6%97%B6%E3%80%81delay%E3%80%81timeout/</url>
    <content><![CDATA[<h1 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h1><p>å¯¹æ‰€æœ‰å‘é€äº‹ä»¶(åŒ…æ‹¬<code>onCompleted</code>)åå»¶è¿Ÿ n ç§’æ¥æ”¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.delay(RxTimeInterval.seconds(2), scheduler: MainScheduler.asyncInstance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€äº†&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="timeout"><a href="#timeout" class="headerlink" title="timeout"></a>timeout</h1><p> è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è§„å®šæ—¶é—´çš„äº‹ä»¶å°†å‘é€  <code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.timeout(RxTimeInterval.seconds(3), scheduler: MainScheduler.instance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 4) &#123;</span><br><span class="line">    ob.onNext(&quot;è¶…æ—¶å‘é€&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;next(å‘é€1)</span><br><span class="line">&#x2F;&#x2F;error(Sequence timeout.)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-é”™è¯¯å¤„ç†ã€é‡è¯•-catchErrorã€retry</title>
    <url>/2020/11/21/11--RxSwift-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E3%80%81%E9%87%8D%E8%AF%95-catchError%E3%80%81retry/</url>
    <content><![CDATA[<h1 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a>catchError</h1><p>å½“å‘é€äº†<code>error</code>äº‹ä»¶åå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„åºåˆ—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum ObError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject.of(&quot;A&quot;, &quot;B&quot;)</span><br><span class="line"></span><br><span class="line">ob1.catchError &#123; (error) -&gt; Observable&lt;String&gt; in</span><br><span class="line">    print(error)</span><br><span class="line">    return ob2</span><br><span class="line">&#125;.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;111&quot;)</span><br><span class="line">ob1.onError(ObError.error1)</span><br><span class="line">&#x2F;&#x2F;next(111)</span><br><span class="line">&#x2F;&#x2F;error1</span><br><span class="line">&#x2F;&#x2F;next(A)</span><br><span class="line">&#x2F;&#x2F;next(B)</span><br><span class="line">&#x2F;&#x2F;completed</span><br></pre></td></tr></table></figure>
<h1 id="retry"><a href="#retry" class="headerlink" title="retry"></a>retry</h1><p>å½“å‘é€äº†<code>error</code>åå¯ä»¥é‡æ–°å‘é€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var isFail &#x3D; true</span><br><span class="line">let obs &#x3D; Observable&lt;String&gt;.create &#123; (ob) -&gt; Disposable in</span><br><span class="line">    ob.onNext(&quot;æˆåŠŸ1&quot;)</span><br><span class="line">    if isFail &#123;</span><br><span class="line">        ob.onError(ObError.error1)</span><br><span class="line">        isFail &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">    ob.onNext(&quot;é‡è¯•æˆåŠŸ&quot;)</span><br><span class="line">    ob.onCompleted()</span><br><span class="line">    return Disposables.create()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obs.retry(2).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(é‡è¯•æˆåŠŸ)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-Singleã€Completabã€Maybe</title>
    <url>/2020/11/22/12--RxSwift-Single%E3%80%81Completab%E3%80%81Maybe/</url>
    <content><![CDATA[<h1 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h1><p>åªå‘å‡ºä¸€æ¬¡äº‹ä»¶ï¼Œå¸¸ç”¨äºç½‘ç»œè¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum DataError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getData() -&gt; Single&lt;[String: Any]&gt; &#123;</span><br><span class="line">    return Single&lt;[String: Any]&gt;.create &#123; (single) -&gt; Disposable in</span><br><span class="line">        single(.success([&quot;&quot;: 1]))</span><br><span class="line">&#x2F;&#x2F;                single(.error(DataError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData().subscribe &#123; req in</span><br><span class="line">    switch req &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Completable"><a href="#Completable" class="headerlink" title="Completable"></a>Completable</h1><p>åªä¼šå‘å‡º<code>completed</code>æˆ–<code>error</code> äº‹ä»¶ï¼Œç”¨äºåªå…³å¿ƒæ“ä½œç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func cancel() -&gt; Completable &#123;</span><br><span class="line">    return Completable.create &#123; (comp) -&gt; Disposable in</span><br><span class="line">        comp(.completed)</span><br><span class="line">&#x2F;&#x2F;                comp(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cancel().subscribe &#123; rep in</span><br><span class="line">    switch rep &#123;</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;æˆåŠŸ&quot;)</span><br><span class="line">    case let .error(error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Maybe"><a href="#Maybe" class="headerlink" title="Maybe"></a>Maybe</h1><p>ä¹Ÿæ˜¯åªèƒ½å‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œæ­£å¸¸çš„<code>event</code>æˆ–<code>completed </code>æˆ–<code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">func test() -&gt; Maybe&lt;String&gt; &#123;</span><br><span class="line">    return Maybe&lt;String&gt;.create &#123; (mayBe) -&gt; Disposable in</span><br><span class="line">        mayBe(.success(&quot;æˆåŠŸ&quot;))</span><br><span class="line">&#x2F;&#x2F;                mayBe(.completed)</span><br><span class="line">&#x2F;&#x2F;                mayBe(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().subscribe &#123; event in</span><br><span class="line">    switch event &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;completed&quot;)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-Observableè®¢é˜…ã€ç›‘å¬</title>
    <url>/2020/11/12/2--RxSwift-Observable%E8%AE%A2%E9%98%85%E3%80%81%E7%9B%91%E5%90%AC/</url>
    <content><![CDATA[<h3 id="è®¢é˜…"><a href="#è®¢é˜…" class="headerlink" title="è®¢é˜…"></a>è®¢é˜…</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç›´æ¥è®¢é˜…æ‰€æœ‰çš„</span><br><span class="line">ob.subscribe &#123; event in</span><br><span class="line">    print(&quot;äº‹ä»¶&quot;, event)</span><br><span class="line">&#x2F;&#x2F; é€šè¿‡ event.element å¯ä»¥è·å–å€¼</span><br><span class="line">    print(&quot;å€¼æ˜¯&quot;, event.element)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;åˆ†å¼€è®¢é˜…</span><br><span class="line">ob.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä»…è®¢é˜… onNext</span><br><span class="line">ob.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ç›‘å¬-do"><a href="#ç›‘å¬-do" class="headerlink" title="ç›‘å¬ do"></a>ç›‘å¬ do</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">ob.do &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; afterNext: &#123; element in</span><br><span class="line">    print(&quot;afterNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; afterError: &#123; error in</span><br><span class="line">    print(&quot;afterError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; afterCompleted: &#123;</span><br><span class="line">    print(&quot;afterCompleted&quot;)</span><br><span class="line">&#125; onSubscribe: &#123;</span><br><span class="line">    print(&quot;onSubscribe&quot;)</span><br><span class="line">&#125; onSubscribed: &#123;</span><br><span class="line">    print(&quot;onSubscribed&quot;)</span><br><span class="line">&#125; onDispose: &#123;</span><br><span class="line">    print(&quot;onDispose&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿™é‡Œæ˜¯è®¢é˜…éƒ¨åˆ†</span><br><span class="line">.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-ç»‘å®š-bindã€bindToã€Binder</title>
    <url>/2020/11/13/3--RxSwift-%E7%BB%91%E5%AE%9A-bind%E3%80%81bindTo%E3%80%81Binder/</url>
    <content><![CDATA[<h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">&#x2F;&#x2F; å¯¹å€¼è¿›ä¸€æ­¥å¤„ç†ç„¶åè¿”å›</span><br><span class="line">    &quot;count &quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind &#123; text in</span><br><span class="line">    countLab.text &#x3D; text</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">ob.bind &#123; x in</span><br><span class="line">    print(x)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h3 id="Binder-bindTo"><a href="#Binder-bindTo" class="headerlink" title="Binder + bindTo"></a>Binder + bindTo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">let observer: Binder&lt;String&gt; &#x3D; Binder(countLab) &#123; lab, text in</span><br><span class="line">    lab.text &#x3D; text</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">    &quot;c&quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind(to: observer)</span><br><span class="line">.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è‡ªå®šä¹‰å¯ç»‘å±æ€§</title>
    <url>/2020/11/14/4--RxSwift-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%AF%E7%BB%91%E5%B1%9E%E6%80%A7/</url>
    <content><![CDATA[<h3 id="å¯¹-Reactive-è¿›è¡Œæ‰©å±•"><a href="#å¯¹-Reactive-è¿›è¡Œæ‰©å±•" class="headerlink" title="å¯¹ Reactive è¿›è¡Œæ‰©å±•"></a>å¯¹ Reactive è¿›è¡Œæ‰©å±•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»™ UILabel å¢åŠ äº† fontSize å¯ç»‘å±æ€§</span><br><span class="line">extension Reactive where Base: UILabel &#123;</span><br><span class="line">    public var fontSize: Binder&lt;CGFloat&gt; &#123;</span><br><span class="line">        return Binder(base) &#123; lab, size in</span><br><span class="line">            lab.font &#x3D; UIFont.systemFont(ofSize: size)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">ob.map &#123; CGFloat($0) + 10.0 &#125;</span><br><span class="line">    .bind(to: lab.rx.fontSize) &#x2F;&#x2F; è¿™é‡Œè¦ä½¿ç”¨ .rx</span><br><span class="line">    .disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å‘é€ã€è®¢é˜…-Subjectsã€Variables</title>
    <url>/2020/11/15/5--RxSwift-%E5%8F%91%E9%80%81%E3%80%81%E8%AE%A2%E9%98%85-Subjects%E3%80%81Variables/</url>
    <content><![CDATA[<h1 id="Subjects-ä»‹ç»"><a href="#Subjects-ä»‹ç»" class="headerlink" title="Subjects ä»‹ç»"></a>Subjects ä»‹ç»</h1><h3 id="1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"><a href="#1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable" class="headerlink" title="1. Subjects æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"></a>1. <code>Subjects</code> æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯<code>Observable</code></h3><ul>
<li>è®¢é˜…è€…ï¼šå®ƒèƒ½åŠ¨æ€çš„æ¥æ”¶æ–°çš„å€¼ã€‚</li>
<li><code>Observable</code>ï¼š å½“<code>Subjects</code>æœ‰äº†æ–°å€¼åä¼šé€šè¿‡<code>Event</code>å°†æ–°å€¼å‘å‡ºç»™ä»–çš„æ‰€æœ‰è®¢é˜…è€…ã€‚</li>
</ul>
<hr>
<h3 id="2-å¸¸ç”¨çš„æ–¹æ³•"><a href="#2-å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="2. å¸¸ç”¨çš„æ–¹æ³•"></a>2. å¸¸ç”¨çš„æ–¹æ³•</h3><p><code>onNext(:)ï¼š</code>æ˜¯<code> on(.next(:))</code> çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code>.next</code> äº‹ä»¶ã€‚<br><code>onError(:)ï¼š</code>æ˜¯<code>on(.error(:))</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code> .error</code> äº‹ä»¶ã€‚<br><code>onCompleted()ï¼š</code>æ˜¯ <code>on(.completed)</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª <code>.completed</code>äº‹ä»¶ã€‚</p>
<hr>
<h3 id="3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"><a href="#3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable" class="headerlink" title="3. Subjects æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"></a>3. <code>Subjects</code> æœ‰å››ç§<code>PublishSubject</code>ã€<code>BehaviorSubject</code>ã€<code>ReplaySubject</code>ã€<code>Variable</code></h3><h5 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h5><ul>
<li>éƒ½æ˜¯<code>Observable</code>ï¼Œä»–ä»¬çš„è®¢é˜…è€…éƒ½èƒ½æ¥æ”¶ä»–ä»¬å‘å‡ºçš„æ–°çš„<code>Event</code></li>
<li>ç›´åˆ° <code>Subject</code> å‘å‡º <code>.complete</code> æˆ–è€… <code>.error</code> çš„ <code>Event</code> åï¼Œè¯¥ <code>Subject</code> ä¾¿ç»ˆç»“äº†ï¼ŒåŒæ—¶å®ƒä¹Ÿå°±ä¸ä¼šå†å‘å‡º<code>.next</code>äº‹ä»¶ã€‚</li>
<li>å¯¹äºé‚£äº›åœ¨<code> Subject</code> ç»ˆç»“åå†è®¢é˜…ä»–çš„è®¢é˜…è€…ï¼Œä¹Ÿèƒ½æ”¶åˆ° <code>subject</code>å‘å‡ºçš„ä¸€æ¡<code> .complete</code> æˆ–<code> .error</code>çš„<code> event</code>ï¼Œå‘Šè¯‰è¿™ä¸ªæ–°çš„è®¢é˜…è€…å®ƒå·²ç»ç»ˆç»“äº†ã€‚<h5 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h5></li>
<li> <code>PublishSubject</code><br>æœ€æ™®é€šçš„<code>Subject</code>ï¼Œä¸éœ€è¦åˆå§‹å€¼å°±èƒ½åˆå§‹åŒ–ã€‚<br>ä»–çš„è®¢é˜…è€…åªèƒ½æ”¶åˆ°ä»–ä»¬è®¢é˜…åçš„ <code>Event</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹å‰çš„ä¸èƒ½æ¥æ”¶åˆ°&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event.element)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;nil</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;ç»“æŸ</span><br><span class="line">sub.onCompleted()</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»“æŸä¹‹åæ·»åŠ çš„è®¢é˜…èƒ½æ”¶åˆ° completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;ç»“æŸåå‘çš„éƒ½æ”¶ä¸åˆ°&quot;)</span><br></pre></td></tr></table></figure></li>
<li><code>BehaviorSubject</code><br>éœ€è¦ä¸€ä¸ªé»˜è®¤å€¼åˆå§‹åŒ–<br>å½“ä¸€ä¸ªè®¢é˜…è€…è®¢é˜…ä¹‹åä¼šç«‹é©¬æ”¶åˆ°ä¸Šä¸€ä¸ª<code>Event</code>ï¼Œä¹‹åå°±æ˜¯æ­£å¸¸æƒ…å†µå‘ä¸€ä¸ªæ”¶ä¸€ä¸ªã€‚<br><code>onCompleted()</code>ä¹‹åçš„è®¢é˜…è€…ä¹Ÿåªèƒ½æ”¶åˆ°<code>Completed</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorSubject(value: &quot;é»˜è®¤å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(é»˜è®¤å€¼)</span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br></pre></td></tr></table></figure></li>
<li><code>ReplaySubject</code><br>åˆ›å»ºçš„æ—¶å€™éœ€è¦ä¸€ä¸ªå‚æ•°<code>bufferSize</code>è®¾ç½®è®°å½•ä¸ªæ•°<br>æ–°æ·»åŠ çš„è®¢é˜…ä¼šæ¥æ”¶åˆ°ä¹‹å‰å‘é€çš„ä¸¤ä¸ª  <code>Event</code>ï¼Œå¦‚æœä¸è¶³ä¸¤ä¸ªå°±åªæ¥æ”¶ä¸€ä¸ªã€‚<br>å¦‚æœè¶…è¿‡ä¸¤ä¸ªåªæ¥æ”¶æœ€æ–°çš„ä¸¤ä¸ªã€‚<br>å¦‚æœè®¢é˜…æ—¶å·²ç»ç»“æŸé™¤äº†ä¼šæ¥æ”¶åˆ°æœ€æ–°çš„ä¸¤ä¸ª<code>Event</code>å¤–è¿˜æœ‰ç»“æŸçš„<code>complete </code>æˆ–<code>error </code>ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; ReplaySubject&lt;String&gt;.create(bufferSize: 2)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€3&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€4&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸ä»…ä¼šæ”¶åˆ°æœ€åçš„ä¸¤ä¸ª event è¿˜æœ‰ Completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…4&quot;, event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 next(å‘é€2)</span><br><span class="line">è®¢é˜…2 next(å‘é€2)</span><br><span class="line">è®¢é˜…1 next(å‘é€3)</span><br><span class="line">è®¢é˜…2 next(å‘é€3)</span><br><span class="line">è®¢é˜…1 next(å‘é€4)</span><br><span class="line">è®¢é˜…2 next(å‘é€4)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…3 next(å‘é€3)</span><br><span class="line">è®¢é˜…3 next(å‘é€4)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…4 next(å‘é€3)</span><br><span class="line">è®¢é˜…4 next(å‘é€4)</span><br><span class="line">è®¢é˜…4 completed</span><br></pre></td></tr></table></figure>
<ul>
<li><code>BehaviorRelay </code><br>åŸºæœ¬åŒ <code>BehaviorSubject </code>åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯ä¸èƒ½ä¸»åŠ¨è°ƒç”¨<code>onCompleted</code>å’Œ<code>error </code>ï¼Œä¼šåœ¨<code>BehaviorRelay </code>é‡Šæ”¾å‰è°ƒç”¨<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorRelay(value: &quot;åˆå§‹å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬ä¸€æ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.accept(&quot;æ–°å€¼1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬äºŒæ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>









</li>
</ul>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤1-mapã€bufferã€filter</title>
    <url>/2020/11/16/6--RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A41-map%E3%80%81buffer%E3%80%81filter/</url>
    <content><![CDATA[<h1 id="map"><a href="#map" class="headerlink" title="map"></a>map</h1><p>åŒ <code>Swift</code>ä¸­ <code>map</code> ç”¨æ³•ä¸€æ ·ï¼Œå¯¹å€¼è¿›è¡Œå¤„ç†å¹¶è¿”å›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.map &#123; $0 + &quot;mmmmm&quot; &#125;</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(event.element)</span><br><span class="line">    &#125;</span><br><span class="line">    .disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;a&quot;)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;ammmmm&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="buffer"><a href="#buffer" class="headerlink" title="buffer"></a>buffer</h1><p><code>timeSpan </code> ç¼“å­˜é—´éš”æ—¶é—´ã€              <code>count </code>ç¼“å­˜ä¸ªæ•° ã€  <code>scheduler </code>çº¿ç¨‹<br>å‘é€ä¸¤ä¸ª<code>event</code>åä¼šè§¦å‘è®¢é˜…ã€‚æ»¡ 2 ç§’ä¹Ÿä¼šè§¦å‘è®¢é˜… ï¼Œå¦‚æœ<code>event</code> æ²¡æœ‰å‘é€ç©ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">sub.buffer(timeSpan: 2, count: 2, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">    &#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h1><p>è¿‡æ»¤ åŒ<code>Swift</code>ä¸­<code>filter</code>ä¸€æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(10, 11, 12, 99, 33, 55, 77)</span><br><span class="line">ob.filter &#123; $0 &gt; 20</span><br><span class="line">&#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤2-distinctUntilChangedã€singleã€elementAtã€ignoreElement</title>
    <url>/2020/11/17/7--RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A42-distinctUntilChanged%E3%80%81single%E3%80%81elementAt%E3%80%81ignoreElement/</url>
    <content><![CDATA[<h1 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a>distinctUntilChanged</h1><p>è¿‡æ»¤è¿ç»­é‡å¤çš„äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1, 1, 1, 3, 5, 7, 9, 9)</span><br><span class="line">ob.distinctUntilChanged().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#x2F;&#x2F;1 3 5 7 9</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="single"><a href="#single" class="headerlink" title="single"></a>single</h1><p>åªå‘é€ä¸€æ¬¡æ­£å¸¸äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…è¶…è¿‡ 1 ä¸ªä¼šå‘é€ <code>error</code> äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1,2)</span><br><span class="line">ob.single().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;,error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        1</span><br><span class="line">&#x2F;&#x2F;        é”™è¯¯ Sequence contains more than one element.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;----- single å¢åŠ è¿‡æ»¤</span><br><span class="line">let ob &#x3D; Observable.of(1, 2, 1)</span><br><span class="line">ob.single &#123; $0 &#x3D;&#x3D; 2 &#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;, error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        2</span><br></pre></td></tr></table></figure>

<h1 id="elementAt"><a href="#elementAt" class="headerlink" title="elementAt"></a>elementAt</h1><p>è·å–æŒ‡å®šä½ç½®çš„äº‹ä»¶ï¼Œ0 å¼€å§‹ã€‚ å¦‚æœæ²¡æœ‰å‘ç”Ÿè¯¥æŒ‡å®šä½ç½®äº‹ä»¶ ä¼šå‘é€é”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.elementAt(2).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>

<h1 id="ignoreElements"><a href="#ignoreElements" class="headerlink" title="ignoreElements"></a>ignoreElements</h1><p>ä¼šå¿½ç•¥æ‰€æœ‰ä¸»åŠ¨å‘é€çš„<code>event</code>äº‹ä»¶ï¼Œåªä¿ç•™ <code>error</code> äº‹ä»¶å’Œ <code>Completed</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4)</span><br><span class="line">ob.ignoreElements().subscribe &#123;</span><br><span class="line">    print(&quot;Completed&quot;)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h1 id="take"><a href="#take" class="headerlink" title="take"></a>take</h1><p>åªå–å‰ n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3)</span><br><span class="line">ob.take(2).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="takeLast"><a href="#takeLast" class="headerlink" title="takeLast"></a>takeLast</h1><p>åªå–å n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.takeLast(12).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h1><p>è·³è¿‡å‰ n ä¸ªäº‹ä»¶ï¼Œå‘é€å®Œå‰©ä¸‹çš„äº‹ä»¶åä¼šå‘é€<code>onCompleted</code>ã€‚ä¸è¶³ n ä¸ªç›´æ¥å‘é€<code>onCompleted</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4,5)</span><br><span class="line">ob.skip(4).subscribe &#123; (element) in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a>debounce</h1><p>å½“ä¸¤ä¸ªäº‹ä»¶çš„å‘é€é—´éš”å¤§äºçº¦å®šæ—¶é—´æ—¶æ‰ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ï¼Œå¸¸ç”¨çš„ä¾‹å­æ˜¯æœç´¢æ—¶å»¶è¿Ÿæœç´¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.debounce(RxTimeInterval.seconds(1), scheduler: MainScheduler.instance).subscribe(onNext: &#123; element in</span><br><span class="line">    print(&quot;æ”¶&quot;, element, CFAbsoluteTimeGetCurrent())</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">print(&quot;å‘&quot;, &quot;aaa&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">ob.onNext(&quot;aaa&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 0.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;bbb&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;bbb&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ccc&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ccc&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 3.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ddd&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ddd&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å‘ aaa 627481044.719082</span><br><span class="line">&#x2F;&#x2F;å‘ bbb 627481045.241852</span><br><span class="line">&#x2F;&#x2F;å‘ ccc 627481046.231139</span><br><span class="line">&#x2F;&#x2F;æ”¶ ccc 627481047.233378</span><br><span class="line">&#x2F;&#x2F;å‘ ddd 627481048.552644</span><br><span class="line">&#x2F;&#x2F;æ”¶ ddd 627481049.55595</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-æ’å…¥å‘é€åˆå¹¶å‹ç¼©-startWithã€mergeã€zipignoreElement</title>
    <url>/2020/11/18/8--RxSwift-%E6%8F%92%E5%85%A5%E5%8F%91%E9%80%81%E5%90%88%E5%B9%B6%E5%8E%8B%E7%BC%A9-startWith%E3%80%81merge%E3%80%81zip/</url>
    <content><![CDATA[<h1 id="startWith"><a href="#startWith" class="headerlink" title="startWith"></a>startWith</h1><p>åœ¨è®¢é˜…çš„æ—¶å€™æ’å…¥å‘é€äº‹ä»¶ï¼ŒååŠ å…¥çš„å…ˆå‘é€ã€‚å®Œæˆäº‹ä»¶å‘é€æ—¶ä¸ä¼šæ’å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.startWith(&quot;æ’å…¥1&quot;).startWith(&quot;æ’å…¥2&quot;).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">æ’å…¥2</span><br><span class="line">æ’å…¥1</span><br><span class="line">å‘é€1</span><br></pre></td></tr></table></figure>

<h1 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h1><p>åˆå¹¶æ“ä½œï¼Œå°†å¤šä¸ª <code>Observable</code> åˆå¹¶æˆä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.of(ob1,ob2).merge().subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘1&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘1&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘2&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h1><p>å°† n ä¸ª<code>Observable</code>å‹ç¼©æˆä¸€ä¸ªå‘é€äº‹ä»¶ï¼Œå¿…é¡»æ¯ä¸ªéƒ½å‚ä¸çš„å‘é€å®Œæ‰ä¼šå‘é€ä¸€æ¬¡äº‹ä»¶ã€‚å‚ä¸çš„æˆå¯¹å‘é€å®Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.zip(ob1,ob2).subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob1.onNext(&quot;ob1  2&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  3&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  A&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  B&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  C&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  1&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  2&quot;, &quot;ob2  A&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  3&quot;, &quot;ob2  B&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  1&quot;, &quot;ob2  C&quot;))</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è½¬æ•°ç»„ã€ç´¯è®¡æ“ä½œ-toArrayã€reduce</title>
    <url>/2020/11/19/9--RxSwift-%E8%BD%AC%E6%95%B0%E7%BB%84%E3%80%81%E7%B4%AF%E8%AE%A1%E6%93%8D%E4%BD%9C-toArray%E3%80%81reduce/</url>
    <content><![CDATA[<h1 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h1><p>å°†æ‰€æœ‰çš„äº‹ä»¶é›†åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ•°ç»„å‘å‡ºï¼Œéœ€è¦å‘é€<code>onCompleted</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.toArray().subscribe &#123; strArr in</span><br><span class="line">    print(strArr)</span><br><span class="line">&#125; onError: &#123; _ in</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>

<h1 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h1><p>ç´¯è®¡æ“ä½œï¼Œå°†æ¯ä¸€æ¬¡çš„äº‹ä»¶éƒ½ç´¯ç§¯åœ¨ä¸€èµ·åœ¨å‘é€<code>onCompleted</code>æ—¶ç»Ÿä¸€å‘é€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.reduce(&quot;åˆå§‹å€¼&quot;, accumulator: +).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutter å¼€å‘é”™è¯¯ StatefulWidget createState must return a subtype of State</title>
    <url>/2020/12/01/Flutter-%E5%BC%80%E5%8F%91%E9%94%99%E8%AF%AF-StatefulWidget-createState-must-return-a-subtype-of-State/</url>
    <content><![CDATA[<p>æŠ¥é”™å¦‚ä¸‹:</p>
<p>StatefulWidget.createState must return a subtype of State</p>
<p>The createState function for XXXX2 returned a state of type _XXXXState, which is not a subtype of State<XXXX2>, violating the contract for createState.</p>
<p>é”™è¯¯åˆ†æï¼š<br>å…¶å®å°±æ˜¯è¿”å›çš„ Widget ç±»å‹ä¸å¯¹ï¼Œ<br>å¤§æ„äº†ï¼Œä¿®æ”¹æ­£ç¡®å³å¯ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-a44eecc36a9468ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é”™è¯¯å›¾"></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter æœ¬åœ°å›¾ç‰‡é…ç½®å·¥å…· FlutterGen</title>
    <url>/2020/12/02/Flutter-%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7-FlutterGen/</url>
    <content><![CDATA[<h1 id="github-gt-FlutterGen"><a href="#github-gt-FlutterGen" class="headerlink" title="github -&gt; FlutterGen"></a><a class="link"   href="https://github.com/FlutterGen" >github -&gt; FlutterGen<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ¨èä½¿ç”¨ Homebrew å®‰è£…</span><br><span class="line">$ brew install FlutterGen&#x2F;tap&#x2F;fluttergen</span><br></pre></td></tr></table></figure>

<p>#ä½¿ç”¨å‰å…ˆæŠŠ assets: é…ç½®å¥½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">assets:</span><br><span class="line">    - assets&#x2F;images&#x2F;cat.png</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ fluttergen -c example&#x2F;pubspec.yaml</span><br></pre></td></tr></table></figure>

<h1 id="VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨"><a href="#VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨" class="headerlink" title="VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨"></a>VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-645686099e6124e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="VSCode"></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter é…ç½®ç›¸å…³</title>
    <url>/2020/12/03/Flutter-%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h3><blockquote>
<p>CocoaPods requires your terminal to be using UTF-8 encoding<br>Consider adding the following to ~/.profile:<br>export LANG=en_US.UTF-8</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ export LANG&#x3D;en_US.UTF-8 ä¿å­˜</span><br><span class="line">3.é‡å¯VSCode</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  export LANG&#x3D;en_US.UTF-8</span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line">5. é‡å¯VSCode</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h3><blockquote>
<p>-bash: flutter: command not found</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ </span><br><span class="line"></span><br><span class="line">export PUB_HOSTED_URL&#x3D;https:&#x2F;&#x2F;pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL&#x3D;https:&#x2F;&#x2F;storage.flutter-io.cn</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.ç»ˆç«¯è¾“å…¥ source ~&#x2F;.bash_profileä¿å­˜</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  </span><br><span class="line">export PATH&#x3D;&#x2F;Users&#x2F;z&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter å·¥ç¨‹ä¿®å¤</title>
    <url>/2020/12/04/Flutter%E5%B7%A5%E7%A8%8B%E4%BF%AE%E5%A4%8D/</url>
    <content><![CDATA[<p>Flutterå·¥ç¨‹ è¯¯åˆ iOSã€è¯¯åˆ Androidç­‰æ–‡ä»¶æ—¶</p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ç»ˆç«¯è¾“å…¥</span><br><span class="line">flutter create å·¥ç¨‹ç›®å½•</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ä¾èµ–åº“æŸ¥è¯¢</title>
    <url>/2020/12/05/Flutter%E6%9F%A5%E8%AF%A2%E4%BE%9D%E8%B5%96%E5%BA%93%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<blockquote>
<p>åœ°å€ä¸º <a class="link"   href="https://pub.flutter-io.cn/packages" >https://pub.flutter-io.cn/packages<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<p><a class="link"   href="https://pub.flutter-io.cn/packages" >ç‚¹æˆ‘å‰å¾€æŸ¥è¯¢<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>SnapKité€‚é…åˆ˜æµ·å±ã€å¼‚å½¢å±</title>
    <url>/2020/11/20/SnapKit%E9%80%82%E9%85%8D%E5%88%98%E6%B5%B7%E5%B1%8F%E3%80%81%E5%BC%82%E5%BD%A2%E5%B1%8F/</url>
    <content><![CDATA[<h3 id="ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"><a href="#ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»" class="headerlink" title="ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"></a>ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»</h3><p>åœ¨ ViewController çš„ view ä¸­ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make.bottom.equalTo(view.snp.bottomMargin)</span><br><span class="line">make.top.equalTo(view.snp.topMargin)</span><br><span class="line">make.left.equalTo(view.snp.leftMargin)</span><br><span class="line">make.right.equalTo(view.snp.rightMargin)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ view çš„ superView æ²¡æœ‰é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€éœ€è¦é€šè¿‡ä¸Šé¢çš„å†™æ³•é€‚é…<br>å¦‚æœ view çš„ superView å·²ç»é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€ä¹Ÿä¼šè‡ªåŠ¨é€‚é…</p>
<h3 id="å®Œæ•´ğŸŒ°"><a href="#å®Œæ•´ğŸŒ°" class="headerlink" title="å®Œæ•´ğŸŒ°"></a>å®Œæ•´ğŸŒ°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        let redView &#x3D; UIView()</span><br><span class="line">        redView.backgroundColor &#x3D; .red</span><br><span class="line">        view.addSubview(redView)</span><br><span class="line">        redView.snp.makeConstraints &#123; make in</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.topMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">&#x2F;&#x2F;            make.top.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            make.top.equalTo(view.snp.topMargin)    &#x2F;&#x2F;é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.leftMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.left.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.left.equalTo(view.snp.leftMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.rightMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.right.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.right.equalTo(view.snp.rightMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView å·²ç»é€‚é…   é‚£ä¹ˆä¸‹è¾¹çš„éƒ½ä¼šé€‚é…</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView æ²¡é€‚é…   é‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªä¼šé€‚é…</span><br><span class="line">        let blackView &#x3D; UIView()</span><br><span class="line">        blackView.backgroundColor &#x3D; .black</span><br><span class="line">        redView.addSubview(blackView)</span><br><span class="line">        blackView.snp.makeConstraints &#123; make in</span><br><span class="line">            make.left.right.equalToSuperview()</span><br><span class="line">            make.height.equalTo(150)</span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>SnapKit</tag>
        <tag>é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD barrier</title>
    <url>/2020/11/02/Swift-GCD-barrier/</url>
    <content><![CDATA[<h1 id="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"><a href="#å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ" class="headerlink" title="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"></a>å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">&#x2F;&#x2F; âš ï¸âš ï¸ è¿™é‡ŒåŠ äº†åˆ¤æ–­çœ‹ä¼¼å®‰å…¨ï¼Œä½†åœ¨å¼‚æ­¥æ“ä½œæ—¶ åˆ¤æ–­ array.count &gt; 0 çš„åŒæ—¶å¯èƒ½å°±æœ‰ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œæ”¹å˜äº†æ•°ç»„</span><br><span class="line">    if array.count &gt; 0 &#123;</span><br><span class="line">        return array[array.count - 1]</span><br><span class="line">    &#125;</span><br><span class="line">    return -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">    array.removeLast()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨-barrier"><a href="#ä½¿ç”¨-barrier" class="headerlink" title="ä½¿ç”¨ barrier"></a>ä½¿ç”¨ barrier</h1><blockquote>
<p>ä¼šä¿è¯åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ .barrier æ‰§è¡Œå®Œä¹‹åæ‰ä¼šå»åšå…¶ä»–çº¿ç¨‹æ“ä½œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line">let arrayQueue &#x3D; DispatchQueue(label: &quot;arrayQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">    arrayQueue.sync &#123; () -&gt; Int in</span><br><span class="line">        if array.count &gt; 0 &#123;</span><br><span class="line">            return array[array.count - 1]</span><br><span class="line">        &#125;</span><br><span class="line">        return -1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">&#x2F;&#x2F;âš ï¸âš ï¸ è¿™é‡Œä½¿ç”¨ barrier </span><br><span class="line">    let workItem &#x3D; DispatchWorkItem(qos: DispatchQoS.default, flags: DispatchWorkItemFlags.barrier) &#123;</span><br><span class="line">        array.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">    arrayQueue.async(execute: workItem)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD æ­»é”</title>
    <url>/2020/11/04/Swift-GCD-%E6%AD%BB%E9%94%81/</url>
    <content><![CDATA[<h1 id="1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"><a href="#1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡" class="headerlink" title="1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"></a>1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ç”±äºæ²¡æœ‰å®šä¹‰ attributes æ‰€ä»¥æ˜¯ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">    queue.sync &#123;</span><br><span class="line">        print(&quot;----- task 2 -------&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âš ï¸è§£å†³æ–¹æ³•</span><br><span class="line">&#x2F;&#x2F;&#x2F; è§£å†³æ–¹æ³•å°†ä¸²è¡Œæ”¹ä¸ºå¹¶è¡Œ</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="2-ä¸»çº¿ç¨‹åŒæ­¥"><a href="#2-ä¸»çº¿ç¨‹åŒæ­¥" class="headerlink" title="2. ä¸»çº¿ç¨‹åŒæ­¥"></a>2. ä¸»çº¿ç¨‹åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue.main</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD çš„ä¸²è¡Œé˜Ÿåˆ—ä¸å¹¶è¡Œé˜Ÿåˆ—</title>
    <url>/2020/11/07/Swift-GCD-%E7%9A%84%E4%B8%B2%E8%A1%8C%E9%98%9F%E5%88%97%E4%B8%8E%E5%B9%B6%E8%A1%8C%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>é˜Ÿåˆ—</th>
<th>å¼‚æ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>åŒæ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>æ‰§è¡Œé¡ºåº</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸²è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>æŒ‰æ·»åŠ é¡ºåº</td>
</tr>
<tr>
<td>å¹¶è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>åŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</td>
</tr>
</tbody></table>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"><a href="#ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"></a>ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº</h1><h1 id="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"><a href="#å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"></a>å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</h1><hr>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
<h1 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 5)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift String æˆªå–å­—ç¬¦ä¸²ï¼ŒString è½¬ NSString</title>
    <url>/2020/11/09/Swift-String-%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C-String-%E8%BD%AC-NSString/</url>
    <content><![CDATA[<h1 id="String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"><a href="#String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†" class="headerlink" title="String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"></a>String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è½¬ä¸º NSString</span><br><span class="line"> (&quot;ABCD&quot; as NSString)</span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨ NSString çš„æ–¹æ³•</span><br><span class="line"> (&quot;ABCD&quot; as NSString).substring(to: 1)</span><br></pre></td></tr></table></figure>

<h1 id="Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–"><a href="#Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–"></a>Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let str &#x3D; &quot;ABCDEFGHIGK&quot;</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰5ä¸ª&quot; + &quot;\(str.prefix(5))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å‰5ä¸ªABCDE</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰150ä¸ª&quot; + str.prefix(150))</span><br><span class="line">       &#x2F;&#x2F; å‰150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å3ä¸ª&quot; + &quot;\(str.suffix(3))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å3ä¸ªIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å150ä¸ª&quot; + &quot;\(str.suffix(150))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       let startIndex &#x3D; str.index(str.startIndex, offsetBy: 2)</span><br><span class="line">       let endIndex &#x3D; str.index(str.startIndex, offsetBy: 5)</span><br><span class="line"></span><br><span class="line">       print(&quot;2-5æ˜¯&quot; + str[startIndex ..&lt; endIndex])</span><br><span class="line">       &#x2F;&#x2F; 2-5æ˜¯CDE</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>iOS å¤šçº¿ç¨‹</title>
    <url>/2020/11/10/Swift-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="1-Thread"><a href="#1-Thread" class="headerlink" title="1. Thread"></a>1. Thread</h1><h4 id="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "><a href="#é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç " class="headerlink" title="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "></a>é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </span><br><span class="line">Thread.detachNewThread &#123;</span><br><span class="line">                print(&quot;111&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"><a href="#åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"></a>åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</span><br><span class="line">let tr &#x3D; Thread(target: self, selector: #selector(threadTest), object: nil)</span><br><span class="line">&#x2F;&#x2F;å¼€å¯</span><br><span class="line">tr.start()</span><br><span class="line"></span><br><span class="line">@objc func threadTest () &#123;</span><br><span class="line">        print(&quot;777&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-Operation"><a href="#2-Operation" class="headerlink" title="2. Operation"></a>2. Operation</h1><h4 id="BlockOperation"><a href="#BlockOperation" class="headerlink" title="BlockOperation"></a>BlockOperation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; BlockOperation</span><br><span class="line">let operation &#x3D; BlockOperation &#123;</span><br><span class="line">      print(&quot; ----- BlockOperation  -----&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h4 id="ç»§æ‰¿è‡ª-Operation"><a href="#ç»§æ‰¿è‡ª-Operation" class="headerlink" title="ç»§æ‰¿è‡ª Operation"></a>ç»§æ‰¿è‡ª Operation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»§æ‰¿è‡ª Operation</span><br><span class="line">class MyOperation: Operation &#123;</span><br><span class="line">            override func main() &#123;</span><br><span class="line">                print(&quot;--- MyOperation do ... ----&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line">let operation &#x3D; MyOperation()</span><br><span class="line">&#x2F;&#x2F;&#x2F; å½“ operation æ‰§è¡Œå®Œ ä¼šæ‰§è¡Œè¿™ä¸ª</span><br><span class="line">operation.completionBlock &#x3D; &#123;</span><br><span class="line">            print(&quot;----- completionBlock  ------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h1 id="3-GCD"><a href="#3-GCD" class="headerlink" title="3. GCD"></a>3. GCD</h1><h4 id="é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„"><a href="#é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„" class="headerlink" title="é˜Ÿåˆ— Queue å¸¸ç”¨çš„"></a>é˜Ÿåˆ— Queue å¸¸ç”¨çš„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¼‚æ­¥ å¹¶è¡Œ</span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å›åˆ°ä¸»çº¿ç¨‹å¼‚æ­¥</span><br><span class="line">DispatchQueue.main.async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å¼‚æ­¥å»¶æ—¶</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1) &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<h4 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h4><blockquote>
<p>labelï¼šåå­—æ ‡ç­¾<br>qosï¼šä¼˜å…ˆçº§<br>attributesï¼šä¸²è¡Œé˜Ÿåˆ—ã€å¹¶è¡Œé˜Ÿåˆ— concurrent<br>autoreleaseFrequencyï¼šé¢‘ç‡</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, qos: DispatchQoS.default, attributes: DispatchQueue.Attributes.concurrent, autoreleaseFrequency: DispatchQueue.AutoreleaseFrequency.inherit, target: nil)</span><br><span class="line">        </span><br><span class="line">queue.async &#123;</span><br><span class="line">            print(&quot; --- å¼‚æ­¥ ---&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.sync &#123;</span><br><span class="line">            print(&quot;--- åŒæ­¥ -----&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.asyncAfter(deadline: .now() + 5) &#123;</span><br><span class="line">            print(&quot;---- 5s ------&quot;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šç­‰å¾…ä»–ä¸Šä¸€ä¸ªè¿›å…¥çš„çº¿ç¨‹æ‰§è¡Œå®Œæ‰ä¼šå¼€å§‹(æ— è®ºä¸Šä¸€ä¸ªçº¿ç¨‹æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥)ï¼Œå¹¶ä¸”é˜»æŒ¡çº¿ç¨‹ç­‰å¾…è‡ªå·±æ‰§è¡Œå®Œæ¯•æ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------- ç­‰å¾… -------&quot;)</span><br><span class="line">&#x2F;&#x2F; wait ä¼šé˜»å¡çº¿ç¨‹</span><br><span class="line">group.wait()</span><br><span class="line">print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; notify ä¸ä¼šé˜»å¡</span><br><span class="line">&#x2F;&#x2F;group.notify(queue: queue) &#123;</span><br><span class="line">&#x2F;&#x2F;print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#125;</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- ç­‰å¾… -------</span><br><span class="line">------- å¼‚æ­¥ B -------</span><br><span class="line">------- ç»“æŸ -------</span><br></pre></td></tr></table></figure>

<h4 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šé˜»å¡åé¢çš„çº¿ç¨‹æ‰§è¡Œï¼Œä¸”åŒæ­¥ä¸å—å‰è¾¹å¼‚æ­¥çš„å½±å“</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(2)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.notify(queue: queue) &#123;</span><br><span class="line">    print(&quot;------- å…¨éƒ¨ç»“æŸ -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------</span><br><span class="line">------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------</span><br><span class="line">------- å…¨éƒ¨ç»“æŸ -------</span><br></pre></td></tr></table></figure>
<h4 id="DispatchSource-å®šæ—¶å™¨ä¾‹å­"><a href="#DispatchSource-å®šæ—¶å™¨ä¾‹å­" class="headerlink" title="DispatchSource å®šæ—¶å™¨ä¾‹å­"></a>DispatchSource å®šæ—¶å™¨ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var time &#x3D; 7</span><br><span class="line">let timer &#x3D; DispatchSource.makeTimerSource(flags: [], queue: .global())</span><br><span class="line">&#x2F;&#x2F;æ¯ç§’æ‰§è¡Œä¸€æ¬¡</span><br><span class="line">timer.schedule(deadline: .now(), repeating: 1)</span><br><span class="line">timer.setEventHandler &#123;</span><br><span class="line">&#x2F;&#x2F;  ç”±äºä½¿ç”¨çš„ queue æ˜¯  .global()   è¿™é‡Œä¸æ˜¯ä¸»çº¿ç¨‹ </span><br><span class="line">    time -&#x3D; 1</span><br><span class="line">    print(&quot;----- \(time)&quot;)</span><br><span class="line">    if time &#x3D;&#x3D; 1 &#123;</span><br><span class="line">        timer.cancel()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">timer.resume()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
        <tag>Thread</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift æ•°ç»„</title>
    <url>/2020/11/22/Swift-%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var list &#x3D; [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;]</span><br><span class="line">list.removeAll&#123; $0 &#x3D;&#x3D; &quot;2&quot; &#125;</span><br><span class="line">&#x2F;&#x2F;[&quot;1&quot;,&quot;3&quot;,&quot;4&quot;]</span><br></pre></td></tr></table></figure>


<h1 id="Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"><a href="#Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼" class="headerlink" title="Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"></a>Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼</h1><h3 id="1-for-in-ä¸å¸¦ç´¢å¼•"><a href="#1-for-in-ä¸å¸¦ç´¢å¼•" class="headerlink" title="1. for-in ä¸å¸¦ç´¢å¼•"></a>1. for-in ä¸å¸¦ç´¢å¼•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">for obj in arr &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return"><a href="#2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return" class="headerlink" title="2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return"></a>2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">arr.forEach &#123; obj in</span><br><span class="line">    &#x2F;&#x2F; ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼"><a href="#3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼" class="headerlink" title="3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼"></a>3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¸¦ç´¢å¼• å’Œ å€¼</span><br><span class="line">for (index, obj) in arr.enumerated() &#123;</span><br><span class="line">    print(&quot;ä½ç½®ï¼š\(index)&quot; + &quot;å€¼ï¼š\(obj)&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-while"><a href="#4-while" class="headerlink" title="4. while"></a>4. while</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿­ä»£å™¨</span><br><span class="line">var arrIterator &#x3D; arr.makeIterator()</span><br><span class="line">while let obj &#x3D; arrIterator.next() &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡"><a href="#5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡" class="headerlink" title="5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡"></a>5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</span><br><span class="line">for index in arr.indices &#123;</span><br><span class="line">    print(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯"><a href="#åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯" class="headerlink" title="åŒºé—´ for-in åŒºé—´ for å¾ªç¯"></a>åŒºé—´ for-in åŒºé—´ for å¾ªç¯</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let s &#x3D; 5</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¼€åŒºé—´ä¸åŒ…å« 50 ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, to: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒºé—´åŒ…å« 50ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, through: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"><a href="#æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ" class="headerlink" title="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"></a>æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let array &#x3D; [Int](7 ..&lt; 117)</span><br><span class="line"></span><br><span class="line">let a &#x3D; array.contains(100)</span><br><span class="line">print(&quot;\(a ? &quot;åŒ…å«&quot; : &quot;ä¸åŒ…å«&quot;)&quot; + &quot;100&quot;)</span><br><span class="line"></span><br><span class="line">let b &#x3D; array.contains(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">print(&quot;\(b ? &quot;å«æœ‰å¤§äº8çš„æ•°å­—&quot; : &quot;ä¸å«æœ‰å¤§äº8çš„æ•°å­—&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">let c &#x3D; array.allSatisfy &#123; $0 &gt;&#x3D; 6 &#125;</span><br><span class="line">print(&quot;\(c ? &quot;æ‰€æœ‰æ•°å­—éƒ½å¤§äºç­‰äº6&quot; : &quot;æœ‰æ•°å­—å°äº6&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.first))&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.last))&quot;)</span><br><span class="line"></span><br><span class="line">let first &#x3D; array.first(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let first &#x3D; first &#123;</span><br><span class="line">    print(&quot;ç¬¬ä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(first)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let last &#x3D; array.last(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let last &#x3D; last &#123;</span><br><span class="line">    print(&quot;æœ€åä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(last)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; 10 åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.firstIndex(of: 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; 17 åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.lastIndex(of: 17)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swift æ·»åŠ ä¸‹æ ‡ subscript</title>
    <url>/2020/11/23/Swift-%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%A0%87-subscript/</url>
    <content><![CDATA[<h1 id="å…³é”®å­-subscript"><a href="#å…³é”®å­-subscript" class="headerlink" title="å…³é”®å­ subscript "></a>å…³é”®å­ <code>subscript </code></h1><p>å‚æ•°å’Œè¿”å›å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ˆ<code>inout</code>è¾“å…¥è¾“å‡ºé™¤å¤–ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct People &#123;</span><br><span class="line">    var name &#x3D; &quot;&quot;, age &#x3D; 0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™å®ä¾‹æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    subscript(n: String) -&gt; Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            return age</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            age &#x3D; newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™ç»“æ„ä½“æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    static subscript(name: String, age: Int) -&gt; People &#123;</span><br><span class="line">        People(name: name, age: age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a &#x3D; People(name: &quot;å“ˆå“ˆå“ˆ&quot;, age: 18)</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;18</span><br><span class="line">a[&quot;å“ˆå“ˆå“ˆ&quot;] &#x3D; 20</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;20</span><br><span class="line">let p &#x3D; People[&quot;å“ˆå–½&quot;, 20]</span><br><span class="line">print(p)&#x2F;&#x2F;People(name: &quot;å“ˆå–½&quot;, age: 20)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>ä¸‹æ ‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift çš„ä¸€äº›é«˜é˜¶å‡½æ•° mapã€filterã€reduceã€flatMapã€compactMap</title>
    <url>/2020/11/17/Swift-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-map-filter-reduce-flatMap-compactMap/</url>
    <content><![CDATA[<h1 id="map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"><a href="#map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ" class="headerlink" title="map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"></a>map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</span><br><span class="line">print(numbers.map &#123; $0 * 10 &#125;)</span><br><span class="line">&#x2F;&#x2F; [10, 30, 50, 70, 90]</span><br></pre></td></tr></table></figure>

<h1 id="filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"><a href="#filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ" class="headerlink" title="filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"></a>filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</span><br><span class="line">print(numbers.filter &#123; $0 &gt; 5 &#125;)</span><br><span class="line">&#x2F;&#x2F; [7, 9]</span><br></pre></td></tr></table></figure>

<h1 id="reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"><a href="#reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š" class="headerlink" title="reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"></a>reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</span><br><span class="line">let abc &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">print(abc.reduce(&quot;100&quot;) &#123; $0 + ($1 + &quot;kk&quot;) &#125;)</span><br><span class="line">&#x2F;&#x2F; 100akkbkkckk</span><br></pre></td></tr></table></figure>

<h1 id="flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"><a href="#flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ" class="headerlink" title="flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"></a>flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let list &#x3D; [[1, 2, 3], [4, 5], [7]]</span><br><span class="line">&#x2F;&#x2F;&#x2F; é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</span><br><span class="line">print(list.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åªä¼šæ‹†ä¸€å±‚</span><br><span class="line">let list1 &#x3D; [[1, 2, 3], [4, 5], [7], [[8], [9]]]</span><br><span class="line">print(list1.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7, [8], [9]]</span><br></pre></td></tr></table></figure>

<h1 id="compactMap-è¿‡æ»¤ç©ºå€¼"><a href="#compactMap-è¿‡æ»¤ç©ºå€¼" class="headerlink" title="compactMap è¿‡æ»¤ç©ºå€¼"></a>compactMap è¿‡æ»¤ç©ºå€¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let names: [String?] &#x3D; [&quot;am&quot;,nil,&quot;qw&quot;,&quot;er&quot;,nil]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤ç©ºå€¼</span><br><span class="line">print(names.compactMap&#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F;[&quot;am&quot;, &quot;qw&quot;, &quot;er&quot;]</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>é«˜é˜¶å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift ç±»å‹è½¬æ¢</title>
    <url>/2020/12/21/Swift-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h1 id="Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨"><a href="#Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨" class="headerlink" title="Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨"></a>Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨</h1><h2 id="if-let-as"><a href="#if-let-as" class="headerlink" title="if let as"></a>if let as</h2><p> ç±»å‹è½¬æ¢ï¼Œæ­¤æ—¶ <code>btn</code> æ˜¯ <code>Any</code> ç±»å‹ï¼Œä½¿ç”¨ <code>as?</code> å°†ä»–å°è¯•è½¬ä¸º <code>UIButton</code>ç±»å‹ã€‚å¹¶èµ‹å€¼ç»™ <code>a</code>ã€‚ å®é™…å¼€å‘ä¸­å»ºè®® <code>a</code> ä¸ <code>btn</code> å‘½åä¸€è‡´ï¼Œè¿™é‡Œä¸ºäº†ä¾¿äºåŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">if let a &#x3D; btn as? UIButton &#123;</span><br><span class="line">    print(a)</span><br><span class="line">    &#x2F;&#x2F; è¿™é‡Œ a ä¸ºçœŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="guard-let-as"><a href="#guard-let-as" class="headerlink" title="guard let as"></a>guard let as</h2><p>å’Œ <code>if let as</code> åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å½“è½¬æ¢å¤±è´¥æ—¶æå‰é€€å‡ºã€‚é€‚ç”¨äºä¸€äº›å¼‚æ­¥å›è°ƒé‡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">guard let btn &#x3D; btn as? UIButton else &#123; return &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>ç¬¬ä¸‰æ–¹åº“æç¤º</title>
    <url>/2020/11/11/Swift%E5%AF%BC%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E3%80%81%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%8F%90%E7%A4%BA/</url>
    <content><![CDATA[<h4 id="1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"><a href="#1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"></a>1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºä¸€ä¸ªSwiftæ–‡ä»¶ï¼Œåœ¨å¯¼å…¥çš„åº“å‰æ·»åŠ  @_exported</span><br><span class="line">ğŸŒ°</span><br><span class="line"></span><br><span class="line">@_exported import Alamofire</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"><a href="#2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º" class="headerlink" title="2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"></a>2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.é€‰æ‹©target </span><br><span class="line">2.é€‰æ‹©Build Settings </span><br><span class="line">3.æœç´¢ User Header Search Paths</span><br><span class="line">4.å¡«å†™ $(PODS_ROOT)ï¼Œå¹¶è®¾ç½®ä¸ºâ€œrecursiveâ€  </span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swiftè·å–å€¼çš„ç±»å‹</title>
    <url>/2020/11/19/Swift%E8%8E%B7%E5%8F%96%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<p>ä½¿ç”¨ <code>type(of:)</code> å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let a &#x3D; type(of:&quot;ğŸ˜„&quot;)</span><br><span class="line"></span><br><span class="line">print(a) &#x2F;&#x2F;String</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a class="link"   href="https://developer.apple.com/documentation/swift/2885064-type" >ç›´è¾¾æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>VSCode Flutter é…ç½®</title>
    <url>/2020/11/19/VSCode-Flutter-%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><ul>
<li>Dart</li>
<li>Flutter</li>
<li>Flutter Generators</li>
<li>Flutter Widget Snippets</li>
<li>Flutter Helpers</li>
<li>[FF] Flutter Files</li>
<li>Awesome Flutter Snippets<h1 id="è¿è¡Œé…ç½®"><a href="#è¿è¡Œé…ç½®" class="headerlink" title="è¿è¡Œé…ç½®"></a>è¿è¡Œé…ç½®</h1><code>shift + cmd + d</code> æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤äº†<br><img src="https://upload-images.jianshu.io/upload_images/2331323-c47d75e75723b671.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œå›¾"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;debug&quot;, &#x2F;&#x2F;debug æ¨¡å¼</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;profile&quot;, &#x2F;&#x2F;profile æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;profile&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;release&quot;, &#x2F;&#x2F;release æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;release&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æœç´¢å…³é”®è¯"><a href="#æœç´¢å…³é”®è¯" class="headerlink" title="æœç´¢å…³é”®è¯"></a>æœç´¢å…³é”®è¯</h3><p>VSCode æ’ä»¶<br>VSCode Flutter è°ƒè¯•é…ç½®<br>VSCode Flutter release æ¨¡å¼<br>Flutter release<br>Flutter å¯åŠ¨ç™½å±</p>
<h1 id="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"><a href="#å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼" class="headerlink" title="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"></a>å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼</h1>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¸¸ç”¨ä»£ç å—</title>
    <url>/2020/11/21/Xcode-%E4%BB%A3%E7%A0%81%E5%9D%97/</url>
    <content><![CDATA[<p>ä¸€äº›å¸¸ç”¨çš„ä»£ç å—</p>
<h1 id="ç‚¹æˆ‘ç›´è¾¾"><a href="#ç‚¹æˆ‘ç›´è¾¾" class="headerlink" title="ç‚¹æˆ‘ç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/CodeSnippets" >ç‚¹æˆ‘ç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Xcode-è·¯å¾„"><a href="#Xcode-è·¯å¾„" class="headerlink" title="Xcode è·¯å¾„"></a>Xcode è·¯å¾„</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;Library&#x2F;Developer&#x2F;Xcode&#x2F;UserData&#x2F;CodeSnippets</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€è·¯å¾„å°†æ–‡ä»¶æ‹–è¿›å»<br>ä»£ç å—æ·»åŠ åéœ€è¦é‡å¯ Xcode</p>
<h1 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>lazytab</td>
<td>æ‡’åŠ è½½å±æ€§ tableView</td>
</tr>
<tr>
<td>mk</td>
<td>//MARK: -</td>
</tr>
<tr>
<td>snpmake</td>
<td>SnapKit make å¸ƒå±€</td>
</tr>
<tr>
<td>snpremake</td>
<td>SnapKit remake å¸ƒå±€</td>
</tr>
<tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCCell</td>
<td>UICollectionViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>ssself</td>
<td>guard let  strongSelf = self</td>
</tr>
</tbody></table>
<h1 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTextF</td>
<td>UITextField åˆå§‹åŒ–</td>
</tr>
<tr>
<td>pna</td>
<td>@property (nonatomic, assign)</td>
</tr>
<tr>
<td>pns</td>
<td>@property (nonatomic, strong)</td>
</tr>
<tr>
<td>pnc</td>
<td>@property (nonatomic, copy)</td>
</tr>
<tr>
<td>td</td>
<td>//TODO:</td>
</tr>
<tr>
<td>mas_make</td>
<td>Masonry make å¸ƒå±€</td>
</tr>
<tr>
<td>mas_remake</td>
<td>Masonry remake å¸ƒå±€</td>
</tr>
<tr>
<td>mas_update</td>
<td>Masonry update å¸ƒå±€</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS ä»£ç å—</tag>
      </tags>
  </entry>
  <entry>
    <title>Xcode-å¿«æ·é”®ï¼ŒXcode12-æ‰“å¼€æ§åˆ¶å°</title>
    <url>/2020/11/22/Xcode-%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%8CXcode12-%E6%89%93%E5%BC%80%E6%8E%A7%E5%88%B6%E5%8F%B0/</url>
    <content><![CDATA[<p> å¿«æ·é”® | è¯´æ˜<br>| - | - |<br>command + shift + y  |  æ‰“å¼€æ§åˆ¶å°<br> command + shift + j | å®šä½å½“å‰æ–‡ä»¶åœ¨å¯¼èˆª<br> command + shift + o | è¾“å…¥åå¿«é€Ÿè·³è½¬åˆ°å¯¹åº”æ–‡ä»¶ï¼Œè¿˜å¯è¾“å…¥æ–¹æ³•å<br> command + shift + L | æ‰“å¼€èµ„æºæ–‡ä»¶<br> command + shift + f | æœç´¢é¡¹ç›®<br> command + shift + k | clean é¡¹ç›®<br> command + shift + t | æ–°å¼€å½“å‰é¡¹ç›®<br> command + shift + , | ç¼–è¾‘scheme<br> command + shift + 2 | æ‰“å¼€å¯ç”¨è°ƒè¯•è®¾å¤‡<br> command + shift + w |  å…³é—­é¡¹ç›®<br> command + r | è¿è¡Œé¡¹ç›®<br> command + b | build é¡¹ç›®<br> command + . | åœæ­¢å½“å‰æ“ä½œ<br> command + 0 | å¼€å¯/å…³é—­ å¯¼èˆª<br> command + 1ï¼Œ2 â€¦ 9 | å®æ“çœ‹ä¸‹æ•ˆæœå§<br> command + f | æœç´¢å½“å‰æ–‡ä»¶<br> command + L |  è·³è½¬åˆ°å¯¹åº”è¡Œ<br> command + w | å…³é—­å½“å‰æ–‡ä»¶<br> command + y | å…³é—­æ–­ç‚¹è°ƒè¯•<br> command + \ | æ‰“æ–­ç‚¹<br> command + , | åå¥½è®¾ç½®<br> command + return | ä»…ç¼–è¾‘å™¨<br>control + 6 | æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„æ–¹æ³•ï¼Œç„¶åå¯ä»¥ç»§ç»­è¾“æ–¹æ³•åå›è½¦è·³è½¬<br>control + 0 | åˆ‡æ¢ Target<br>control + 4 | åˆ‡æ¢é¡¹ç›®<br>command + option + w | ä¿ç•™å½“å‰æ‰“å¼€ï¼Œå…³é—­å…¶ä»–æ–‡ä»¶</p>
<p>æ¬¢è¿è¡¥å……æ¯”è¾ƒå®ç”¨çš„å¿«æ·é”®ï¼</p>
]]></content>
      <categories>
        <category>Xcode</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ©ç”¨ hexo å’Œ github æ­å»ºè‡ªå·±çš„åšå®¢</title>
    <url>/2020/12/18/hello-world/</url>
    <content><![CDATA[<h1 id="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"><a href="#åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦" class="headerlink" title="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"></a><a class="link"   href="https://www.jianshu.com/u/192abcc5117c" >åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>è¿ç§»çš„æ–‡ç« æ—¶é—´æœªåŒæ­¥ã€‚ä¸ºäº†é˜²æ­¢æ¯æ¬¡å‘å¸ƒï¼Œæ—¶é—´è·Ÿç€æ”¹å˜ã€‚éšæœºç»™äº†ä¸€ä¸ªæ—¶é—´ã€‚</p>
</blockquote>
<h1 id="Hexo-æ•™ç¨‹"><a href="#Hexo-æ•™ç¨‹" class="headerlink" title="Hexo æ•™ç¨‹"></a><a class="link"   href="https://hexo.io/zh-cn/" >Hexo æ•™ç¨‹<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Hexo-ä¸»é¢˜-Keep"><a href="#Hexo-ä¸»é¢˜-Keep" class="headerlink" title="Hexo ä¸»é¢˜ Keep"></a><a class="link"   href="https://keep.xpoet.cn/" >Hexo ä¸»é¢˜ Keep<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>Keepä¸»é¢˜ ç²¾ç®€å¥½çœ‹ å°±æ˜¯æˆ‘ç”¨çš„è¿™å¥—ä¸»é¢˜</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>iOS OC ä¸ Swift æ··ç¼–</title>
    <url>/2020/12/06/iOS-OC-%E4%B8%8E-Swift-%E6%B7%B7%E7%BC%96/</url>
    <content><![CDATA[<h1 id="1-XXX-Bridging-Header-h"><a href="#1-XXX-Bridging-Header-h" class="headerlink" title="1. XXX-Bridging-Header.h"></a>1. XXX-Bridging-Header.h</h1><p>æ–°å»ºSwiftæ–‡ä»¶æ—¶ä¸€èˆ¬ä¼šè‡ªåŠ¨æç¤ºåˆ›å»º<code>XXX-Bridging-Header.h</code>æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ª Header æ–‡ä»¶ï¼Œå‘½åä¸º<code>é¡¹ç›®å-Bridging-Header.h</code><br><img src="https://upload-images.jianshu.io/upload_images/2331323-40814d95e9d8b2f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–°å»º Header æ–‡ä»¶"></p>
<h1 id="2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header"><a href="#2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header" class="headerlink" title="2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ Header"></a>2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ <code>Header</code></h1><h2 id="User-Header-Search-Paths-å¡«å†™-SRCROOT"><a href="#User-Header-Search-Paths-å¡«å†™-SRCROOT" class="headerlink" title="User Header Search Paths å¡«å†™ $(SRCROOT)"></a><code>User Header Search Paths</code> å¡«å†™ <code>$(SRCROOT)</code></h2><h2 id="Enable-Modules-c-and-objective-C-å¡«å†™-YES"><a href="#Enable-Modules-c-and-objective-C-å¡«å†™-YES" class="headerlink" title="Enable Modules(c and objective-C) å¡«å†™ YES"></a><code>Enable Modules(c and objective-C)</code> å¡«å†™ <code>YES</code></h2><h2 id="Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"><a href="#Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„" class="headerlink" title="Objective-C Bridging Header å¡«å†™ é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"></a><code>Objective-C Bridging Header</code> å¡«å†™ <code>é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h</code> âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„</h2><h2 id="Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚"><a href="#Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚" class="headerlink" title="Objective-C Generated Interface Header Name å¡«å†™ é¡¹ç›®åç§°-Swift.h è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚"></a><code>Objective-C Generated Interface Header Name</code> å¡«å†™ <code>é¡¹ç›®åç§°-Swift.h</code> è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚</h2><p><img src="https://upload-images.jianshu.io/upload_images/2331323-c91b49763e023f54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BuildSettings éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"></p>
<h1 id="3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"><a href="#3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹" class="headerlink" title="3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"></a>3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹</h1><p>Podfile å¢åŠ  <code>use_frameworks!</code> åé‡æ–° <code>pod install</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">target&#39;XXXXX&#39; do</span><br><span class="line">use_frameworks!</span><br></pre></td></tr></table></figure>
<p><strong>âš ï¸å¹¶æŠŠæ‰€æœ‰ <code>pod</code> å¯¼å…¥çš„åº“ ä½¿ç”¨ <code>&lt;&gt;</code> å¯¼å…¥ è€Œä¸æ˜¯<code>&quot;&quot;</code> ä¾‹å¦‚<code>#import &lt;AFNetworking.h&gt;</code></strong></p>
<blockquote>
<p>âš ï¸ç¬¬ä¸‰åº“æŠ¥é”™å¤§å¤šéƒ½æ˜¯å¯¼å…¥æ–¹å¼ä¸å¯¹å¼•èµ·çš„âš ï¸</p>
</blockquote>
<h1 id="4-OC-å¼•ç”¨-Swift"><a href="#4-OC-å¼•ç”¨-Swift" class="headerlink" title="4. OC å¼•ç”¨ Swift"></a>4. OC å¼•ç”¨ Swift</h1><p>åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ <code>#import &quot;é¡¹ç›®å-Swift.h&quot;</code> ç„¶ååœ¨éœ€è¦è¢«å¼•ç”¨çš„å±æ€§ã€æ–¹æ³•å‰å¢åŠ  <code>@objc</code><br>âš ï¸ <code> é¡¹ç›®å-Swift.h è¿™ä¸ªæ˜¯éšè—æ–‡ä»¶çœ‹ä¸åˆ°</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class XXXViewController: UIViewController &#123;</span><br><span class="line"></span><br><span class="line">    @objc var name:String &#x3D; &quot;&quot;</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">    &#125;  </span><br><span class="line">    @objc func data()  &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Swift-å¼•ç”¨-OC"><a href="#5-Swift-å¼•ç”¨-OC" class="headerlink" title="5. Swift å¼•ç”¨ OC"></a>5. Swift å¼•ç”¨ OC</h1><p>æŠŠéœ€è¦å¼•ç”¨çš„æ–‡ä»¶å¯¼å…¥åˆ° <code>é¡¹ç›®å-Bridging-Header.h</code> ï¼Œå³å¯åœ¨ Swift ä¸­å¼•ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSæ··ç¼–</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</title>
    <url>/2020/12/02/iOS-Runtime/</url>
    <content><![CDATA[<h1 id="è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º"><a href="#è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º" class="headerlink" title="è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º"></a>è§£å†³å¯¼å…¥ <code>objc/Runtime.h</code> å’Œ <code>objc/message.h</code> å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</h1><p>Build Settings æœç´¢ <code>objc_msg</code><br><img src="https://upload-images.jianshu.io/upload_images/2331323-d1f64b02dd132e27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Build Settings ä¿®æ”¹"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title>WKWebView åŠ è½½ html</title>
    <url>/2020/12/17/iOS-WKWebView-loadHTMLString-%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87-%E4%B8%BA%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦æ˜¯é’ˆå¯¹åå°è¿”å›æ•°æ®æ˜¯ html æ ‡ç­¾çš„æ•°æ®åŠ è½½ã€‚å¼‚æ­¥åŠ è½½ html æ ‡ç­¾å†…çš„ img æ ‡ç­¾ï¼Œç»™ img æ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</p>
</blockquote>
<h1 id="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"><a href="#ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹" class="headerlink" title="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"></a>ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  ä¸€ã€ã€Šæœ›å¤©é—¨å±±ã€‹ ä½œè€…ï¼šå”ä»£æç™½ 1ã€åŸæ–‡</span><br><span class="line">  å¤©é—¨ä¸­æ–­æ¥šæ±Ÿå¼€ï¼Œç¢§æ°´ä¸œæµè‡³æ­¤å›ã€‚ä¸¤å²¸é’å±±ç›¸å¯¹å‡ºï¼Œå­¤å¸†ä¸€baiç‰‡æ—¥è¾¹æ¥ã€‚ 2ã€è¯‘æ–‡</span><br><span class="line">  å¤©é—¨å±±ä»ä¸­é—´æ–­è£‚æ˜¯æ¥šæ±ŸæŠŠå®ƒå†²å¼€ï¼Œç¢§æ°´å‘ä¸œæµ©ç„¶å¥”æµåˆ°è¿™é‡ŒæŠ˜å›ã€‚</span><br><span class="line">  ä¸¤å²¸é«˜è€¸çš„é’å±±éš”ç€é•¿æ±Ÿç›¸å³™è€Œç«‹ï¼Œæ±Ÿé¢ä¸Šä¸€å¶å­¤èˆŸåƒä»æ—¥è¾¹é©¶æ¥ã€‚</span><br><span class="line">  &lt;img</span><br><span class="line">    src&#x3D;&quot;https:&#x2F;&#x2F;wx2.sinaimg.cn&#x2F;large&#x2F;006CHHsBly1gkxrs7785ej31402eoe84.jpg&quot;</span><br><span class="line">  &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line"></span><br><span class="line">å®Œæ•´çš„ html æ ‡ç­¾æ•°æ®</span><br></pre></td></tr></table></figure>
<p> è¿™äº›æ•°æ®ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨äº†å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘çš„å†…å®¹ï¼Œè€Œä¸”å„ç§æ ‡ç­¾æ ·å¼éƒ½æœ‰å¯èƒ½ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ WKWebView æ¥åŠ è½½ï¼<br> ä½†æ˜¯å¦‚æœå†…å®¹å«æœ‰ img æ ‡ç­¾çš„è¯å°±ä¼šç­‰å¾…æ‰€æœ‰çš„å›¾ç‰‡åŠ è½½å®Œæ‰ä¼šå±•ç¤ºå‡ºæ•´ä½“çš„æ ·å¼ï¼Œè¿™æ ·æ¯”è¾ƒå½±å“ä½“éªŒã€‚<br> æ‰€ä»¥åº”è¯¥è€ƒè™‘å¼‚æ­¥åŠ è½½å›¾ç‰‡ï¼Œè€Œä¸å½±å“æ–‡å­—ç­‰æ ‡ç­¾æ ·å¼çš„å±•ç¤ºã€‚</p>
<h1 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h4 id="1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme"><a href="#1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme" class="headerlink" title="1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme"></a>1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)changeImageScheme &#123;</span><br><span class="line">    self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:self.oriImageUrl withString:self.xxxCustomImageUrl];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"><a href="#2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°" class="headerlink" title="2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"></a>2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)addJsScript &#123;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlLab &#x3D; @&quot;&lt;&#x2F;html&gt;&quot;;</span><br><span class="line">    NSString *scriptLab1 &#x3D; @&quot;&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">    </span><br><span class="line">    NSString *jsFunctionString &#x3D; @&quot;function xxxGetAllImg() &#123; return document.getElementsByTagName(\&quot;img\&quot;); &#125;\</span><br><span class="line">    function xxxUpdateImage(url, imgData) &#123;  var list &#x3D; Array.from(xxxGetAllImg()); for (let item of list) &#123;  if ((item.src &#x3D;&#x3D; url)) &#123; item.src &#x3D; imgData;   break; &#125; &#125; &#125;        &quot;;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    if (![self.htmlString containsString:htmlLab]) &#123;</span><br><span class="line">        [self addHtmlLab];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if ([self.htmlString containsString:scriptLab1]) &#123;</span><br><span class="line">     </span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@&quot;,jsFunctionString,scriptLab1];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:scriptLab1 withString:scriptString];</span><br><span class="line">        </span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        NSString *scriptLab0 &#x3D; @&quot;&lt;script&gt;&quot;;</span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@%@%@&quot;,scriptLab0,jsFunctionString,scriptLab1,htmlLab];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:htmlLab withString:scriptString];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»"><a href="#3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»" class="headerlink" title="3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»"></a>3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@interface XXXCustomSchemeHanlder : NSObject &lt;WKURLSchemeHandler&gt;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy) NSString *oriImageUrl;</span><br><span class="line">@property (nonatomic, copy) NSString *oriImageScheme;</span><br><span class="line">@property (nonatomic, strong) UIImage *placeholderImage;</span><br><span class="line">@property (nonatomic, copy) void(^updateImageBlock)(void);</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"><a href="#4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½" class="headerlink" title="4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"></a>4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)webView:(nonnull WKWebView *)webView startURLSchemeTask:(nonnull id&lt;WKURLSchemeTask&gt;)urlSchemeTask &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    UIImage *image &#x3D; self.placeholderImage;</span><br><span class="line">    NSData *data &#x3D; UIImageJPEGRepresentation(image, 1.0);</span><br><span class="line">    NSURLResponse *response &#x3D; [[NSURLResponse alloc] initWithURL:urlSchemeTask.request.URL MIMEType:@&quot;image&#x2F;jpeg&quot; expectedContentLength:data.length textEncodingName:nil];</span><br><span class="line">    [urlSchemeTask didReceiveResponse:response];</span><br><span class="line">    [urlSchemeTask didReceiveData:data];</span><br><span class="line">    [urlSchemeTask didFinish];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if (self.updateImageBlock) &#123;</span><br><span class="line">        self.updateImageBlock();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlImageUrlStr &#x3D; [NSString stringWithFormat:@&quot;%@&quot;,urlSchemeTask.request.URL];</span><br><span class="line">    NSString *dloadImageUrlStr &#x3D; [htmlImageUrlStr stringByReplacingOccurrencesOfString:XXXCustomImageScheme withString:self.oriImageScheme];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        </span><br><span class="line">        [self readImageForKey:dloadImageUrlStr htmlImageUrlStr:htmlImageUrlStr webView:webView];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)readImageForKey:(NSString *)dloadImageUrlStr htmlImageUrlStr:(NSString *)htmlImageUrlStr webView:(WKWebView *)webView &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSURL *url &#x3D; [NSURL URLWithString:dloadImageUrlStr];</span><br><span class="line">    [[SDWebImageManager sharedManager] loadImageWithURL:url options:SDWebImageRetryFailed progress:nil completed:^(UIImage * _Nullable image, NSData * _Nullable data, NSError * _Nullable error, SDImageCacheType cacheType, BOOL finished, NSURL * _Nullable imageURL) &#123;</span><br><span class="line">        if (image || data) &#123;</span><br><span class="line">            NSData *imgData &#x3D; data;</span><br><span class="line">            if (!imgData) &#123;</span><br><span class="line">                imgData &#x3D; UIImageJPEGRepresentation(image, 1);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                [weakSelf callJsUpdateImage:webView imageData:imgData htmlImageUrlStr:htmlImageUrlStr];</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        if (error) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)callJsUpdateImage:(WKWebView *)webView imageData:(NSData *)imageData htmlImageUrlStr:(NSString *)imageUrlString &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSString *imageDataStr &#x3D; [NSString stringWithFormat:@&quot;data:image&#x2F;png;base64,%@&quot;,[imageData base64EncodedString]];</span><br><span class="line">    NSString *func &#x3D; [NSString stringWithFormat:@&quot;xxxUpdateImage(&#39;%@&#39;,&#39;%@&#39;)&quot;,imageUrlString,imageDataStr];</span><br><span class="line">    [webView evaluateJavaScript:func completionHandler:^(id _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        if (weakSelf.updateImageBlock &amp;&amp; !error) &#123;</span><br><span class="line">            weakSelf.updateImageBlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"><a href="#5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯" class="headerlink" title="5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"></a>5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">WKWebViewConfiguration *config &#x3D; [[WKWebViewConfiguration alloc] init];</span><br><span class="line">XXXCustomSchemeHanlder *schemeHandler &#x3D; XXXCustomSchemeHanlder.new;</span><br><span class="line"></span><br><span class="line">schemeHandler.oriImageScheme &#x3D; self.oriImageScheme;</span><br><span class="line">schemeHandler.oriImageUrl &#x3D; self.oriImageUrl;</span><br><span class="line">schemeHandler.placeholderImage &#x3D; self.placeholderImage;</span><br><span class="line"></span><br><span class="line">__weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">schemeHandler.updateImageBlock &#x3D; ^ &#123;</span><br><span class="line">    [weakSelf updateHeight];</span><br><span class="line">&#125;;</span><br><span class="line">[config setURLSchemeHandler:schemeHandler forURLScheme:XXXCustomImageScheme];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">WKWebView  *webView &#x3D; [[WKWebView alloc]initWithFrame:CGRectMake(0, 0, self.width, self.height) configuration:config];</span><br></pre></td></tr></table></figure>

<h4 id="6-æ›´æ–°é«˜åº¦"><a href="#6-æ›´æ–°é«˜åº¦" class="headerlink" title="6. æ›´æ–°é«˜åº¦"></a>6. æ›´æ–°é«˜åº¦</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)updateHeight &#123;</span><br><span class="line">    [self nowUpdateHeight];</span><br><span class="line">    [self delayUpdateHeight];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)nowUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    [self.webView evaluateJavaScript:@&quot;document.body.offsetHeight&quot; completionHandler:^(id _Nullable result,NSError * _Nullable error) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F; é«˜åº¦ä¼šæœ‰ä¸€ç‚¹å°‘ ï¼Œæ‰‹åŠ¨è¡¥ä¸Š 20</span><br><span class="line">        CGFloat height &#x3D; [result floatValue] + 20.0;</span><br><span class="line">        weakSelf.webView.height &#x3D; height;</span><br><span class="line">        weakSelf.height &#x3D; height;</span><br><span class="line">        if (weakSelf.loadOverHeight) &#123;</span><br><span class="line">            weakSelf.loadOverHeight(height);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)delayUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, DelayTime * NSEC_PER_SEC), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [self nowUpdateHeight];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Demoä¸‹è½½-1"><a href="#Demoä¸‹è½½-1" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS Widget ä¸æ˜¾ç¤ºæ— æ³•æ·»åŠ ã€iOS Widget åŠ è½½ç½‘ç»œå›¾ç‰‡</title>
    <url>/2020/12/07/iOS-Widget-%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%97%A0%E6%B3%95%E6%B7%BB%E5%8A%A0-%E3%80%81iOS-Widget-%E5%8A%A0%E8%BD%BD%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<h3 id="Intent-Widget-å¼€å‘"><a href="#Intent-Widget-å¼€å‘" class="headerlink" title="Intent Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Static-Widget-å¼€å‘"><a href="#Static-Widget-å¼€å‘" class="headerlink" title="Static Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >Static Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"><a href="#Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°" class="headerlink" title="Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"></a>Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°</h1><p> å‡ºç°è¿™ç§æƒ…å†µï¼Œå¯èƒ½æ˜¯åªé…ç½®äº†å¯ç¼–è¾‘çš„ <code>Widget</code>ã€‚<br>å¯¼è‡´<code>NSExtensionPointIdentifier</code>åªæœ‰è¿™ä¸€ç§ç±»å‹ <code>com.apple.intents-service</code> ä¼šè¢«è¯†åˆ«ä¸º Siri æ‰©å±•ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>å†æ·»åŠ ä¸€ä¸ªä¸å¯ç¼–è¾‘çš„ <code>Widget</code> å³å¯ã€‚ä¸éœ€è¦å±•ç¤ºå‡ºï¼Œåœ¨ <code>@main</code>æ–¹æ³•é‡Œä¸æ·»åŠ å°±å¥½ã€‚<br>ç¡®å®šæ–°æ·»åŠ çš„<code>NSExtensionPointIdentifier</code>ç±»å‹ä¸º <code>com.apple.widgetkit-extension</code> ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-7fe44d27ed6af214.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="plist"></p>
<hr>
<h1 id="Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"><a href="#Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥" class="headerlink" title="Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"></a>Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åŒæ­¥ä¸‹è½½å›¾ç‰‡ï¼ŒWidget ä¸èƒ½å¼‚æ­¥åˆ·æ–°</span><br><span class="line"></span><br><span class="line">funcgetImage(_imgUrlString:String) -&gt;UIImage? &#123;</span><br><span class="line"></span><br><span class="line"> guardletdata &#x3D;try?Data(contentsOf:URL(string: imgUrlString)!)else&#123;</span><br><span class="line"></span><br><span class="line">        print(&quot;å›¾ç‰‡ä¸‹è½½å¤±è´¥&quot;)</span><br><span class="line"></span><br><span class="line"> returnnil&#125;</span><br><span class="line"></span><br><span class="line">    print(&quot;å›¾ç‰‡ä¸‹è½½æˆåŠŸ&quot;)</span><br><span class="line"></span><br><span class="line"> returnUIImage(data: data)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">Image(uiImage:getImage(entry.imageUrlStr) ??UIImage(named:&quot;aaaa&quot;)!)</span><br><span class="line"></span><br><span class="line">                        .resizable()</span><br><span class="line"></span><br><span class="line">                        .frame(width:60,</span><br><span class="line"></span><br><span class="line">                               height:60,</span><br><span class="line"></span><br><span class="line">                               alignment: .center)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>iOSå°ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ä¸ web äº¤äº’ä¼ å›¾</title>
    <url>/2020/12/07/iOS-%E4%B8%8E-web-%E4%BA%A4%E4%BA%92-%E4%BC%A0%E5%9B%BE/</url>
    <content><![CDATA[<p>web ç«¯å°†å›¾ç‰‡ base64 ç¼–ç åä¼ ç»™ iOS ç«¯ï¼Œä¼šåœ¨ base64 ç¼–ç å‰åŠ ä¸Š <code>data:image/png;base64,</code> éœ€è¦å…ˆæŠŠè¿™ä¸€ä¸²ç»™å»æ‰åè¿›è¡Œè§£ç ï¼Œç„¶åè½¬ data å†è½¬ä¸º image </p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOS ä¿®æ”¹çŠ¶æ€æ çš„é¢œè‰² preferredStatusBarStyle</title>
    <url>/2020/11/02/iOS-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E9%A2%9C%E8%89%B2-preferredStatusBarStyle/</url>
    <content><![CDATA[<h3 id="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸"><a href="#âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸" class="headerlink" title="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸"></a>âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">1. é‡å†™ UINavigationController çš„ childViewControllerForStatusBarStyle</span><br><span class="line">å¯ä»¥å†™åœ¨åŸºç±»çš„ UINavigationController ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Category</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIViewController *)childViewControllerForStatusBarStyle &#123;</span><br><span class="line">    return self.topViewController;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift </span><br><span class="line">override var childForStatusBarStyle: UIViewController? &#123;</span><br><span class="line">        return topViewController</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">2.  åœ¨éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²çš„ UIViewController ä¸­å®ç° preferredStatusBarStyle</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIStatusBarStyle)preferredStatusBarStyle &#123;</span><br><span class="line">   return UIStatusBarStyleLightContent;</span><br><span class="line">   &#x2F;&#x2F; return UIStatusBarStyleDefault;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">override var preferredStatusBarStyle: UIStatusBarStyle &#123;</span><br><span class="line">      return .lightContent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">3. å½“è§¦å‘æŸä¸ªæ¡ä»¶éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²æ—¶åœ¨ UIViewController ä¸­è°ƒç”¨</span><br><span class="line">ç„¶ååœ¨ - (UIStatusBarStyle)preferredStatusBarStyle; ä¸­åˆ¤æ–­ä½ çš„æ¡ä»¶æ˜¯å¦æ»¡è¶³æ”¹å˜é¢œè‰²</span><br><span class="line">*&#x2F;</span><br><span class="line">[self setNeedsStatusBarAppearanceUpdate];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">setNeedsStatusBarAppearanceUpdate()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>iOSä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>OC ä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>Swiftä¿®æ”¹çŠ¶æ€æ é¢œè‰²</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¤š Target CocoaPods ç®¡ç†</title>
    <url>/2020/11/28/iOS-%E5%A4%9A-Target-CocoaPods-%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"><a href="#1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­" class="headerlink" title="1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"></a>1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">platform :ios, &quot;11.0&quot;</span><br><span class="line">source &quot;https:&#x2F;&#x2F;cdn.cocoapods.org&#x2F;&quot;</span><br><span class="line">#source &#39;https:&#x2F;&#x2F;github.com&#x2F;CocoaPods&#x2F;Specs.git&#39;</span><br><span class="line"></span><br><span class="line">#å®šä¹‰å…¬å…±åº“</span><br><span class="line">def commonPods</span><br><span class="line">  use_frameworks!</span><br><span class="line"></span><br><span class="line">  pod &quot;KakaJSON&quot;, &quot;~&gt; 1.1.2&quot;</span><br><span class="line">  pod &quot;SnapKit&quot;, &quot;~&gt; 5.0.1&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">#ä¸º Target1 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target1&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;YYCategories&quot;</span><br><span class="line">  pod &quot;Alamofire&quot;, &quot;~&gt; 5.2.2&quot;</span><br><span class="line">end</span><br><span class="line">#ä¸º Target2 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target2&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;Moya&quot;, &quot;~&gt; 14.0.0&quot;</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­"><a href="#2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­" class="headerlink" title="2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­"></a>2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­</h1><h3 id="Swift-è®¾ç½®"><a href="#Swift-è®¾ç½®" class="headerlink" title="Swift è®¾ç½®"></a>Swift è®¾ç½®</h3><p>Build Settings æœç´¢ <code>swift compiler</code> å…·ä½“çœ‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/2331323-da3235308811d72b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ·»åŠ  Target åˆ¤æ–­æ¡ä»¶"></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#if MAINTARGET</span><br><span class="line">tipLab.text &#x3D; &quot;mmmm&quot;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="OC-è®¾ç½®"><a href="#OC-è®¾ç½®" class="headerlink" title="OC è®¾ç½®"></a>OC è®¾ç½®</h3><p>Build Settings æœç´¢ <code>macros</code> å…·ä½“çœ‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/2331323-3ae5817bcb53187d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="OC æ“ä½œå›¾"></p>
<h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> #ifdef TARGETMAIN</span><br><span class="line">NSLog(@&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;TARGETMAIN&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;);</span><br><span class="line"> #endif</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CocoaPods</tag>
        <tag>Target</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS-æŠ¥é”™-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS</title>
    <url>/2020/11/20/iOS-%E6%8A%A5%E9%94%99-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS-(App-E/</url>
    <content><![CDATA[<p>è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†åœ¨ App Extension å†…ä¸å®‰å…¨çš„API</p>
<h3 id="è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="è§£å†³åŠæ³•è§ä¸‹å›¾"></a>è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-2161dedfa7242b3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œæ­¥éª¤å›¾"></p>
<h3 id="CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"></a>CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-0b33c4b741a47ed7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œæ­¥éª¤å›¾"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>App Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</title>
    <url>/2020/11/27/iOS14-Widget-%E5%BC%80%E5%8F%91-1/</url>
    <content><![CDATA[<h3 id="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget"><a href="#æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget" class="headerlink" title="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget"></a>æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</h3><h3 id="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹"><a href="#ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹" class="headerlink" title="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><h3 id="ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡"><a href="#ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡" class="headerlink" title="ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡"></a><a class="link"   href="https://www.jianshu.com/p/a80d59c94442" >ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å…ˆæ¥çœ‹æ•ˆæœå›¾"><a href="#å…ˆæ¥çœ‹æ•ˆæœå›¾" class="headerlink" title="å…ˆæ¥çœ‹æ•ˆæœå›¾"></a>å…ˆæ¥çœ‹æ•ˆæœå›¾</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-196fcdf3f96e1360.JPEG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<h1 id="å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶"><a href="#å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶" class="headerlink" title="å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶"></a>å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶</h1><h3 id="1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚"><a href="#1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚" class="headerlink" title="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚"></a>1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-4c736e922128a5f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intent"></p>
<h3 id="2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§"><a href="#2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§" class="headerlink" title="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§"></a>2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-e26dffe1a81d1a99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ å…·ä½“æ“ä½œçœ‹å›¾å§"></p>
<h3 id="3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼"><a href="#3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼" class="headerlink" title="3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼"></a>3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-6c898cf25193f0c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist"><a href="#4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist" class="headerlink" title="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"></a>4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;NSExtension&lt;&#x2F;key&gt;</span><br><span class="line">	&lt;dict&gt;</span><br><span class="line">		&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;array&gt;</span><br><span class="line">			&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionAttributes&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileLocked&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileProtectedDataUnavailable&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&gt;</span><br><span class="line">				&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">			&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;&#x2F;dict&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPointIdentifier&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;com.apple.intents-service&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPrincipalClass&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;$(PRODUCT_MODULE_NAME).IntentHandler&lt;&#x2F;string&gt;</span><br><span class="line">	&lt;&#x2F;dict&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-8bb6ff14aab5c9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"></p>
<h3 id="5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½"><a href="#5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½" class="headerlink" title="5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)"></a>5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Intents</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶</span><br><span class="line">class IntentHandler: INExtension, AnimalWidgetConfigurationIntentHandling &#123; &#x2F;&#x2F; AnimalWidgetConfigurationIntentHandling æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š IntentHandling åç¼€</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; é…ç½®ç»™ç”¨æˆ·å¯é€‰çš„åˆ—è¡¨                    AnimalWidgetConfigurationIntent æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š Intent åç¼€</span><br><span class="line">    func provideAnimalOptionsCollection(for intent: AnimalWidgetConfigurationIntent, searchTerm: String?, with completion: @escaping (INObjectCollection&lt;Animal&gt;?, Error?) -&gt; Void) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; è¿™é‡Œå¯ä»¥å»è¯·æ±‚ç½‘ç»œæ‹¿æ•°æ®</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F;æœç´¢è¯ searchTerm æœç´¢cat</span><br><span class="line">        if searchTerm &#x3D;&#x3D; &quot;cat&quot; &#123;</span><br><span class="line">            completion(INObjectCollection(items: [Animal(identifier: &quot;cat&quot;, display: &quot;cat&quot;)]), nil)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let animals: [Animal] &#x3D; XXXAnimal.zoo.map &#123; (xxxAnimal) in</span><br><span class="line">            return Animal(identifier: xxxAnimal.id, display: xxxAnimal.name)</span><br><span class="line">        &#125;</span><br><span class="line">        completion(INObjectCollection(items: animals), nil)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func handler(for intent: INIntent) -&gt; Any &#123;</span><br><span class="line">        return self</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹"><a href="#6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹" class="headerlink" title="6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹"></a>6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœä½ çš„å·¥ç¨‹å·²ç»å­˜åœ¨äº†ä¸€ä¸ª Widget å°† @main å»æ‰</span><br><span class="line">ä½¿ç”¨ä¸‹é¢</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æˆ‘çš„è¿™éƒ¨åˆ†ä»£ç åœ¨ XXXWidget.swift</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">        AnimalWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="ä¿®æ”¹-TimelineEntry"><a href="#ä¿®æ”¹-TimelineEntry" class="headerlink" title="ä¿®æ”¹ TimelineEntry"></a>ä¿®æ”¹ TimelineEntry</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct SimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    let configuration: ConfigurationIntent</span><br><span class="line">&#125;</span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line">&#x2F;&#x2F;&#x2F; é‡æ–°å‘½å å»æ‰ let configuration: ConfigurationIntent  ï¼ˆä¹Ÿå¯ä»¥ä¿ç•™ä½†ç±»å‹æ˜¯ AnimalWidgetConfigurationIntentï¼‰</span><br><span class="line">&#x2F;&#x2F;&#x2F;å¢åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">struct AnimalSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ–°åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">    let animal: XXXAnimal</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¿®æ”¹-IntentTimelineProvider"><a href="#ä¿®æ”¹-IntentTimelineProvider" class="headerlink" title="ä¿®æ”¹ IntentTimelineProvider"></a>ä¿®æ”¹ IntentTimelineProvider</h4><h4 id="ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸"><a href="#ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸" class="headerlink" title="ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸"></a><strong>ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct Provider: IntentTimelineProvider &#123;</span><br><span class="line">    func placeholder(in context: Context) -&gt; SimpleEntry &#123;</span><br><span class="line">        SimpleEntry(date: Date(), configuration: ConfigurationIntent())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (SimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; SimpleEntry(date: Date(), configuration: configuration)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getTimeline(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        var entries: [SimpleEntry] &#x3D; []</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Generate a timeline consisting of five entries an hour apart, starting from the current date.</span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        for hourOffset in 0 ..&lt; 5 &#123;</span><br><span class="line">            let entryDate &#x3D; Calendar.current.date(byAdding: .hour, value: hourOffset, to: currentDate)!</span><br><span class="line">            let entry &#x3D; SimpleEntry(date: entryDate, configuration: configuration)</span><br><span class="line">            entries.append(entry)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let timeline &#x3D; Timeline(entries: entries, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é‡æ–°å‘½å</span><br><span class="line">struct AnimalProvider: IntentTimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">&#x2F;&#x2F; æŒ‰ç…§è¦æ±‚å¢åŠ   Entry å’Œ Intent</span><br><span class="line">    typealias Entry &#x3D; AnimalSimpleEntry</span><br><span class="line">    typealias Intent &#x3D; AnimalWidgetConfigurationIntent</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    func placeholder(in context: Context) -&gt; AnimalSimpleEntry &#123;</span><br><span class="line">        AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (AnimalSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    func getTimeline(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        guard let id &#x3D; configuration.animal?.identifier, let entryDate &#x3D; Calendar.current.date(byAdding: .minute, value: 1, to: currentDate) else &#123;</span><br><span class="line">            let timeline &#x3D; Timeline(entries: [AnimalSimpleEntry(date: currentDate, animal: .lion)], policy: .atEnd)</span><br><span class="line">            completion(timeline)</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: entryDate, animal: XXXAnimal.animal(id, color: configuration.color))</span><br><span class="line">        </span><br><span class="line">        let timeline &#x3D; Timeline(entries: [entry], policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†"><a href="#å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†" class="headerlink" title="å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†"></a>å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†</h2><h1 id="ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸"><a href="#ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸" class="headerlink" title="ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸"></a>ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-194231fd2ac108f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…¶ä»–æ³¨æ„"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS14 Widget</title>
    <url>/2020/11/26/iOS14-Widget-%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h3 id="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget"><a href="#è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget" class="headerlink" title="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget"></a>è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget</h3><h3 id="Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"><a href="#Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹" class="headerlink" title="Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-126d13797dd4e2de.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<h3 id="ä»£ç å¦‚ä¸‹"><a href="#ä»£ç å¦‚ä¸‹" class="headerlink" title="ä»£ç å¦‚ä¸‹"></a>ä»£ç å¦‚ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ—¶é—´çº¿</span><br><span class="line">struct XXXProvider: TimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å ä½çš„å±•ç¤º</span><br><span class="line">    func placeholder(in context: Context) -&gt; XXXSimpleEntry &#123;</span><br><span class="line">        XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å¿«ç…§</span><br><span class="line">    func getSnapshot(in context: Context, completion: @escaping (XXXSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F;æ ¹æ®æ—¶é—´çº¿æä¾›éœ€è¦å±•ç¤ºçš„çŠ¶æ€</span><br><span class="line">    func getTimeline(in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        print(&quot;æ—¶é—´çº¿åˆ·æ–°äº†&quot; + &quot;\(Date())&quot;)</span><br><span class="line">        </span><br><span class="line">        var entrys: [XXXSimpleEntry] &#x3D; []</span><br><span class="line">        let currentData &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; æä¾›å½“å‰æ—¶é—´å 1ä¸ªå°æ—¶å†…  æ¯ä¸€ç§’çš„çŠ¶æ€ (å·²ç»æä¾›äº†3600ä¸ªçŠ¶æ€ï¼Œå¤ªå¤šä¼šä¸å±•ç¤ºå¡æ­»)</span><br><span class="line">        for i in 0...60*60 &#123;</span><br><span class="line">            guard let entryDate &#x3D; Calendar.current.date(byAdding: .second, value: i, to: currentData) else &#123;</span><br><span class="line">                return</span><br><span class="line">            &#125;</span><br><span class="line">            entrys.append(XXXSimpleEntry(date: entryDate, displayTime: XXXData.displayData(entryDate)))</span><br><span class="line">        &#125;</span><br><span class="line">        let timeline &#x3D; Timeline(entries: entrys, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ¯ä¸€ä¸ªæ—¶é—´çº¿çš„å®ä½“</span><br><span class="line">struct XXXSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F;å±•ç¤ºè¯¥çŠ¶æ€çš„æ—¶é—´</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è‡ªå·±é…ç½®çš„æ•°æ®</span><br><span class="line">    let displayTime: String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; widget å±•ç¤º view</span><br><span class="line">struct XXXWidgetEntryView : View &#123;</span><br><span class="line">    var entry: XXXProvider.Entry</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è¿”å›åœ¨è¿™ä¸ªæ—¶é—´ (entry.date)    ä½ æƒ³è¦å±•ç¤ºçš„widegtæ ·å¼</span><br><span class="line">    var body: some View &#123;</span><br><span class="line">        ZStack &#123;</span><br><span class="line">            </span><br><span class="line">            Color.orange.edgesIgnoringSafeArea(.all)</span><br><span class="line">            VStack &#123;</span><br><span class="line">                Text(entry.displayTime)</span><br><span class="line">                    .multilineTextAlignment(.center)</span><br><span class="line">                    .foregroundColor(.blue)</span><br><span class="line">                    &#x2F;&#x2F;&#x2F;é…ç½®ç‚¹å‡»é“¾æ¥ä¼šåœ¨ä¸»å·¥ç¨‹æ”¶åˆ°æ‹‰èµ·äº‹ä»¶</span><br><span class="line">                    .widgetURL(URL(string: &quot;widgetDemo:&#x2F;&#x2F;789&quot;))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;widget</span><br><span class="line">struct XXXWidget: Widget &#123;</span><br><span class="line">    let kind: String &#x3D; &quot;XXXWidget&quot;</span><br><span class="line"></span><br><span class="line">    var body: some WidgetConfiguration &#123;</span><br><span class="line">        &#x2F;&#x2F;&#x2F; StaticConfiguration æ˜¯é™æ€çš„ï¼Œç”¨æˆ·ä¸å¯é…ç½®çš„ é•¿æŒ‰ä¸ä¼šå‡ºç°ç¼–è¾‘</span><br><span class="line">        StaticConfiguration(kind: kind, provider: XXXProvider()) &#123; entry in</span><br><span class="line">            XXXWidgetEntryView(entry: entry)</span><br><span class="line">        &#125;</span><br><span class="line">        .configurationDisplayName(&quot;æ·»åŠ æ—¶çš„æ ‡é¢˜&quot;)</span><br><span class="line">        .description(&quot;æ·»åŠ æ—¶çš„æè¿°&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;æä¾›é¢„è§ˆçŠ¶æ€</span><br><span class="line">struct XXXWidget_Previews: PreviewProvider &#123;</span><br><span class="line">    </span><br><span class="line">    static var previews: some View &#123;</span><br><span class="line">        XXXWidgetEntryView(entry: XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData()))</span><br><span class="line">            .previewContext(WidgetPreviewContext(family: .systemSmall))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä¸»å…¥å£</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"><a href="#éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾" class="headerlink" title="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"></a>éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-d4e70bcacfcacc7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="File -&gt; New -&gt; Target"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-b19a4ce4f064179c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„widgetï¼Œå‹¾é€‰çš„æ˜¯ç”¨æˆ·å¯é…ç½®çš„ã€‚æˆ‘ä»¬å…ˆæ¥åšä¸å¯é…ç½®çš„"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-786376718471b3c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è°ƒæ•´æœ€ä½è¿è¡Œç³»ç»Ÿ"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-5fcaf3ede4232577.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…³è”ä¸»å·¥ç¨‹æ•°æ®"></p>
<h1 id="Demo-ä¸‹è½½-1"><a href="#Demo-ä¸‹è½½-1" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢</title>
    <url>/2020/11/24/iOS%E5%8D%A0%E4%BD%8D%E5%9B%BE%E3%80%81%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%9D%A2/</url>
    <content><![CDATA[<h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"></a>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew</h1><h1 id="ğŸ˜„ğŸ˜„ğŸ˜„"><a href="#ğŸ˜„ğŸ˜„ğŸ˜„" class="headerlink" title="ğŸ˜„ğŸ˜„ğŸ˜„"></a>ğŸ˜„ğŸ˜„ğŸ˜„</h1><p><img src="http://upload-images.jianshu.io/upload_images/2331323-337781e6ecaac4ae.gif?imageMogr2/auto-orient/strip" alt="tableViewä½¿ç”¨æ•ˆæœ"></p>
<p> <img src="http://upload-images.jianshu.io/upload_images/2331323-37d81ba5477c72c3.gif?imageMogr2/auto-orient/strip" alt="viewä½¿ç”¨æ•ˆæœ"></p>
<h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><em>æ³¨æ„</em></h1><h5 id="1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"><a href="#1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾" class="headerlink" title="1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"></a>1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾</h5><h5 id="2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"><a href="#2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰" class="headerlink" title="2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"></a>2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰</h5><h5 id="3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"><a href="#3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹" class="headerlink" title="3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"></a>3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹</h5><h5 id="4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"><a href="#4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶" class="headerlink" title="4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"></a>4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</h5><h5 id="5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"><a href="#5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚" class="headerlink" title="5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"></a>5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚</h5><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod repo update</span><br><span class="line">rm ~&#x2F;Library&#x2F;Caches&#x2F;CocoaPods&#x2F;search_index.json  (æ¸…é™¤æœç´¢ç¼“å­˜)</span><br><span class="line">pod &#39;XXXPlaceholder&#39;, &#39;~&gt; 0.0.1&#39;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>å‚ç…§demoåˆ›å»ºå ä½å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;selfä¸ºtableView</span><br><span class="line">self.xxx_emptyView &#x3D; [XXXPlaceholderView emptyView];</span><br><span class="line">self.xxx_noNetworkView &#x3D; [XXXPlaceholderView noNetworkView];</span><br><span class="line">&#x2F;&#x2F;å ä½å›¾ä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>tableViewã€collectionView å±•ç¤ºå ä½å›¾è°ƒç”¨</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadData;</span><br><span class="line"> </span><br><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadDataWithClickBlock:  (nullable   XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line">[self.tableView xxx_reloadDataWithClickBlock:^&#123;</span><br><span class="line">           &#x2F;&#x2F;è¿™é‡Œåšå†æ¬¡è¯·æ±‚</span><br><span class="line">        &#125;];</span><br></pre></td></tr></table></figure></li>
<li><p>viewä½¿ç”¨ </p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#x2F;**</span><br><span class="line"> å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_showEmptyView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showEmptyViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line"> ç§»å‡ºæ‰€æœ‰å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_removePlaceholderView;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h1 id="Githubç›´è¾¾"><a href="#Githubç›´è¾¾" class="headerlink" title="Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1></li>
</ol>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOSæ‹–æ‹½å¡ç‰‡</title>
    <url>/2020/11/22/iOS%E6%8B%96%E6%8B%BD%E5%8D%A1%E7%89%87%E5%8F%A0%E5%8A%A0%E5%8D%A1%E7%89%87/</url>
    <content><![CDATA[<h1 id="github-XXXCardStore"><a href="#github-XXXCardStore" class="headerlink" title="github XXXCardStore"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXCardStore" >github XXXCardStore<i class="fas fa-external-link-alt"></i></a></h1><p><img src="http://upload-images.jianshu.io/upload_images/2331323-86f449d502adaa19.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2331323-70de1ba83f9ad822.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¯´æ˜å›¾"></p>
<h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><ol>
<li>pod search XXXCardStore<br>å¦‚æœªæœç´¢åˆ° è¯·æ‰§è¡Œ pod repo update è¿›è¡Œæ›´æ–°ï¼Œç„¶åæ¸…é™¤æœç´¢ç¼“å­˜ rm ~/Library/Caches/CocoaPods/search_index.json</li>
<li>pod â€˜XXXCardStoreâ€™</li>
<li>import &lt; XXXCardStore .h&gt;</li>
</ol>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">XXXCardStore *xxx &#x3D; [XXXCardStore new];</span><br><span class="line">    [self.view addSubview:xxx];</span><br><span class="line">    xxx.frame &#x3D; CGRectMake(50, 100, 300, 200);</span><br><span class="line">    xxx.cardOffset &#x3D; 10.0;</span><br><span class="line">    xxx.isInfiniteLoop &#x3D;YES;</span><br><span class="line">    xxx.delegate &#x3D; self;</span><br><span class="line">    xxx.imgUrlStrArr &#x3D; @[@&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;203fb80e7bec54e7c340af43b2389b504fc26a3b.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;0d338744ebf81a4c6231d43ddb2a6059242da6c6.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;a.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;4e4a20a4462309f788a28152790e0cf3d6cad6a4.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;810a19d8bc3eb135101902e6ad1ea8d3fc1f4494.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;86d6277f9e2f0708a5559f5de224b899a901f21f.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;h.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;ca1349540923dd5441e81235da09b3de9d8248d7.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;c.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;faedab64034f78f09d3f2eae72310a55b3191cb2.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;622762d0f703918f037f88975a3d269758eec4c5.jpg&quot;</span><br><span class="line">                         ];</span><br><span class="line">    [xxx reloadData];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tapCard:(NSInteger)index cardStore:(UIView *)xxxCardStore&#123;</span><br><span class="line"></span><br><span class="line">    NSLog(@&quot;--- tap   &#x3D;&#x3D;&#x3D;  %ld&quot;,index);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"><a href="#è‡ªå®šä¹‰å¡ç‰‡å†…å®¹" class="headerlink" title="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"></a>è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</span><br><span class="line"> </span><br><span class="line"> @param customCard ä½ çš„customView å†…éƒ¨è¯•å›¾æœªæ¸…é™¤</span><br><span class="line"> @param index éœ€è¦å‡†å¤‡çš„ cardçš„ index</span><br><span class="line"> @param xxxCardStore xxxCardStore ä¸»ä½“</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)customCardView:(UIView *)customCard index:(NSInteger)index cardStore:(UIView *)xxxCardStore;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOS mask é®ç½©ï¼Œå½©è‰²æ–‡æœ¬</title>
    <url>/2020/11/20/iOS%E6%B8%90%E5%8F%98%E5%BD%A9%E8%89%B2%E6%96%87%E5%AD%97%E3%80%81iOS-mask-%E9%81%AE%E7%BD%A9/</url>
    <content><![CDATA[<h1 id="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©"><a href="#iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©" class="headerlink" title="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©"></a>iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-2f3e46c5908444fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<p><a class="link"   href="https://github.com/ibireme/YYCategories" >ä½¿ç”¨åˆ°äº†YYCategories<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="å½©è‰²æ–‡å­—"><a href="#å½©è‰²æ–‡å­—" class="headerlink" title="å½©è‰²æ–‡å­—"></a>å½©è‰²æ–‡å­—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UIView *colorBgView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:colorBgView];</span><br><span class="line">    colorBgView.frame &#x3D; CGRectMake(0, 300, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">        </span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *colorTextPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *colorTextLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    colorTextLayer.path &#x3D; colorTextPath.CGPath;</span><br><span class="line">    colorTextLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    colorBgView.layer.mask &#x3D; colorTextLayer;</span><br><span class="line">    </span><br><span class="line">    CAGradientLayer *colorLayer &#x3D; CAGradientLayer.new;</span><br><span class="line">    colorLayer.colors &#x3D; @[(__bridge id)UIColor.redColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.orangeColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.greenColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blueColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.yellowColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.purpleColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blackColor.CGColor,];</span><br><span class="line">    colorLayer.startPoint &#x3D; CGPointMake(0, 0.5);</span><br><span class="line">    colorLayer.endPoint &#x3D; CGPointMake(1, 0.5);</span><br><span class="line">    colorLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">    [colorBgView.layer addSublayer:colorLayer];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è¿‡æ¸¡é®ç½©"><a href="#è¿‡æ¸¡é®ç½©" class="headerlink" title="è¿‡æ¸¡é®ç½©"></a>è¿‡æ¸¡é®ç½©</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"> &#x2F;&#x2F;&#x2F;é»‘è‰²èƒŒæ™¯view</span><br><span class="line">    UIView *indicatorView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:indicatorView];</span><br><span class="line">    indicatorView.backgroundColor &#x3D; UIColor.blackColor;</span><br><span class="line">    indicatorView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    indicatorView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    indicatorView.frame &#x3D; CGRectMake(0, 195, 100, 40);</span><br><span class="line">    self.indicatorView &#x3D; indicatorView;</span><br><span class="line">    </span><br><span class="line">  &#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *textPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *textLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    textLayer.path &#x3D; textPath.CGPath;</span><br><span class="line">    textLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *darkView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:darkView];</span><br><span class="line">    darkView.backgroundColor &#x3D; UIColor.darkGrayColor;</span><br><span class="line">    darkView.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    darkView.layer.mask &#x3D; textLayer;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *whiteView &#x3D; [UIView new];</span><br><span class="line">    [darkView addSubview:whiteView];</span><br><span class="line">    whiteView.backgroundColor &#x3D; UIColor.whiteColor;</span><br><span class="line">    whiteView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    whiteView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    whiteView.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">    self.whiteView &#x3D; whiteView;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;ä¹Ÿå¯ä»¥ä½¿ç”¨layer</span><br><span class="line">&#x2F;&#x2F;    CALayer *darkLayer &#x3D; CALayer.new;</span><br><span class="line">&#x2F;&#x2F;    [self.view.layer addSublayer:darkLayer];</span><br><span class="line">&#x2F;&#x2F;    darkLayer.backgroundColor &#x3D; UIColor.darkGrayColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    darkLayer.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">&#x2F;&#x2F;    darkLayer.mask &#x3D; textLayer;</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;    CAShapeLayer *whiteLayer &#x3D; CAShapeLayer.new;</span><br><span class="line">&#x2F;&#x2F;    [darkLayer addSublayer:whiteLayer];</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.backgroundColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.fillColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.strokeColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.borderColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.cornerRadius &#x3D; 20;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.masksToBounds &#x3D; YES;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">&#x2F;&#x2F;    self.whiteLayer &#x3D; whiteLayer;</span><br><span class="line">    </span><br><span class="line">    UISlider *slider &#x3D; UISlider.new;</span><br><span class="line">    [self.view addSubview:slider];</span><br><span class="line">    [slider addTarget:self action:@selector(changeFrame:) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">    slider.frame &#x3D; CGRectMake(0, 260, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">- (void)changeFrame:(UISlider *)slider &#123;</span><br><span class="line"> </span><br><span class="line">    CGFloat x &#x3D; UIScreen.mainScreen.bounds.size.width *slider.value;</span><br><span class="line">    self.indicatorView.frame &#x3D; CGRectMake(x, 195, 100, 40);</span><br><span class="line">    self.whiteView.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    self.whiteLayer.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</title>
    <url>/2020/11/02/%E5%9C%A8Swift%E4%B8%AD%E4%BD%BF%E7%94%A8-NSClassFromString/</url>
    <content><![CDATA[<p>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</p>
<p>éœ€è¦ <code>å·¥ç¨‹å</code> + <code> .</code>  +  <code>string</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSClassFromString(Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;)! + &quot;.&quot; + &quot;CustomCell&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹"><a href="#æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹" class="headerlink" title="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹"></a>æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public func GetClassFromString(_ classString: String) -&gt; AnyClass? &#123;</span><br><span class="line">    </span><br><span class="line">    guard let bundleName: String &#x3D; Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;) as? String else &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    var anyClass: AnyClass? &#x3D; NSClassFromString(bundleName + &quot;.&quot; + classString)</span><br><span class="line">    if (anyClass &#x3D;&#x3D; nil) &#123;</span><br><span class="line">        anyClass &#x3D; NSClassFromString(classString)</span><br><span class="line">    &#125;</span><br><span class="line">    return anyClass</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"><a href="#ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨" class="headerlink" title="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"></a>ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GetClassFromString(&quot;cellName&quot;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
</search>
