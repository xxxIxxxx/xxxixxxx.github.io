<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åˆ©ç”¨ hexo å’Œ github æ­å»ºè‡ªå·±çš„åšå®¢</title>
    <url>/2020/12/18/000/</url>
    <content><![CDATA[<h1 id="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"><a href="#åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦" class="headerlink" title="åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦"></a><a class="link"   href="https://www.jianshu.com/u/192abcc5117c" >åšå®¢è¿ç§»è‡ªæœ¬äººç®€ä¹¦<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>è¿ç§»çš„æ–‡ç« æ—¶é—´æœªåŒæ­¥ã€‚ä¸ºäº†é˜²æ­¢æ¯æ¬¡å‘å¸ƒï¼Œæ—¶é—´è·Ÿç€æ”¹å˜ã€‚éšæœºç»™äº†ä¸€ä¸ªæ—¶é—´ã€‚</p>
</blockquote>
<h1 id="Hexo-æ•™ç¨‹"><a href="#Hexo-æ•™ç¨‹" class="headerlink" title="Hexo æ•™ç¨‹"></a><a class="link"   href="https://hexo.io/zh-cn/" >Hexo æ•™ç¨‹<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Hexo-ä¸»é¢˜-Keep"><a href="#Hexo-ä¸»é¢˜-Keep" class="headerlink" title="Hexo ä¸»é¢˜ Keep"></a><a class="link"   href="https://keep.xpoet.cn/" >Hexo ä¸»é¢˜ Keep<i class="fas fa-external-link-alt"></i></a></h1><blockquote>
<p>Keepä¸»é¢˜ ç²¾ç®€å¥½çœ‹ å°±æ˜¯æˆ‘ç”¨çš„è¿™å¥—ä¸»é¢˜</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>Swift GCD barrier</title>
    <url>/2020/11/02/100-Swift-GCD-barrier/</url>
    <content><![CDATA[<h1 id="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"><a href="#å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ" class="headerlink" title="å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ"></a>å¼‚æ­¥è¯»å†™é€ æˆæ•°ç»„è¶Šç•Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">&#x2F;&#x2F; âš ï¸âš ï¸ è¿™é‡ŒåŠ äº†åˆ¤æ–­çœ‹ä¼¼å®‰å…¨ï¼Œä½†åœ¨å¼‚æ­¥æ“ä½œæ—¶ åˆ¤æ–­ array.count &gt; 0 çš„åŒæ—¶å¯èƒ½å°±æœ‰ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œæ”¹å˜äº†æ•°ç»„</span><br><span class="line">    if array.count &gt; 0 &#123;</span><br><span class="line">        return array[array.count - 1]</span><br><span class="line">    &#125;</span><br><span class="line">    return -1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">    array.removeLast()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨-barrier"><a href="#ä½¿ç”¨-barrier" class="headerlink" title="ä½¿ç”¨ barrier"></a>ä½¿ç”¨ barrier</h1><blockquote>
<p>ä¼šä¿è¯åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ .barrier æ‰§è¡Œå®Œä¹‹åæ‰ä¼šå»åšå…¶ä»–çº¿ç¨‹æ“ä½œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let count &#x3D; 100000</span><br><span class="line">var array &#x3D; Array(0 ... count)</span><br><span class="line">let arrayQueue &#x3D; DispatchQueue(label: &quot;arrayQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br><span class="line">func getLast() -&gt; Int &#123;</span><br><span class="line">    arrayQueue.sync &#123; () -&gt; Int in</span><br><span class="line">        if array.count &gt; 0 &#123;</span><br><span class="line">            return array[array.count - 1]</span><br><span class="line">        &#125;</span><br><span class="line">        return -1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func removeLast() &#123;</span><br><span class="line">&#x2F;&#x2F;âš ï¸âš ï¸ è¿™é‡Œä½¿ç”¨ barrier </span><br><span class="line">    let workItem &#x3D; DispatchWorkItem(qos: DispatchQoS.default, flags: DispatchWorkItemFlags.barrier) &#123;</span><br><span class="line">        array.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">    arrayQueue.async(execute: workItem)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">    for _ in 0 ... count &#123;</span><br><span class="line">        print(getLast())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD æ­»é”</title>
    <url>/2020/11/04/100-Swift-GCD-%E6%AD%BB%E9%94%81/</url>
    <content><![CDATA[<h1 id="1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"><a href="#1-ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡" class="headerlink" title="1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡"></a>1. ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­æ·»åŠ åŒæ­¥ä»»åŠ¡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ç”±äºæ²¡æœ‰å®šä¹‰ attributes æ‰€ä»¥æ˜¯ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">    queue.sync &#123;</span><br><span class="line">        print(&quot;----- task 2 -------&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">âš ï¸è§£å†³æ–¹æ³•</span><br><span class="line">&#x2F;&#x2F;&#x2F; è§£å†³æ–¹æ³•å°†ä¸²è¡Œæ”¹ä¸ºå¹¶è¡Œ</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="2-ä¸»çº¿ç¨‹åŒæ­¥"><a href="#2-ä¸»çº¿ç¨‹åŒæ­¥" class="headerlink" title="2. ä¸»çº¿ç¨‹åŒæ­¥"></a>2. ä¸»çº¿ç¨‹åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue.main</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;----- task 1 -------&quot;)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift GCD çš„ä¸²è¡Œé˜Ÿåˆ—ä¸å¹¶è¡Œé˜Ÿåˆ—</title>
    <url>/2020/11/07/100-Swift-GCD-%E7%9A%84%E4%B8%B2%E8%A1%8C%E9%98%9F%E5%88%97%E4%B8%8E%E5%B9%B6%E8%A1%8C%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>é˜Ÿåˆ—</th>
<th>å¼‚æ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>åŒæ­¥æ˜¯å¦é˜»å¡å½“å‰çº¿ç¨‹</th>
<th>æ‰§è¡Œé¡ºåº</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸²è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>æŒ‰æ·»åŠ é¡ºåº</td>
</tr>
<tr>
<td>å¹¶è¡Œé˜Ÿåˆ—</td>
<td>å¦</td>
<td>æ˜¯</td>
<td>åŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</td>
</tr>
</tbody></table>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"><a href="#ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº"></a>ä¸²è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œé¡ºåºæŒ‰æ·»åŠ é¡ºåº</h1><h1 id="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"><a href="#å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡"></a>å¹¶è¡Œé˜Ÿåˆ—å¼‚æ­¥ä»»åŠ¡ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼ŒåŒæ­¥ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶æ‰§è¡Œï¼Œä½†ä¼šè¢«åŒæ­¥é˜»å¡</h1><hr>
<h1 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
<h1 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;queue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">print(&quot;------ å¼€å§‹ -------&quot;)</span><br><span class="line">queue.async &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 3)</span><br><span class="line">    print(&quot;------ async 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ async 1 ä¸é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 2 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">queue.sync &#123;</span><br><span class="line">    Thread.sleep(forTimeInterval: 5)</span><br><span class="line">    print(&quot;------ sync 1 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------ è¢« sync 1 é˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">queue.async &#123;</span><br><span class="line">    print(&quot;------ async 3 -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------ å¼€å§‹ -------</span><br><span class="line">------ async 1 ä¸é˜»å¡ -------</span><br><span class="line">------ async 2 -------</span><br><span class="line">------ async 1 -------</span><br><span class="line">------ sync 1 -------</span><br><span class="line">------ è¢« sync 1 é˜»å¡ -------</span><br><span class="line">------ async 3 -------</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift String æˆªå–å­—ç¬¦ä¸²ï¼ŒString è½¬ NSString</title>
    <url>/2020/11/09/100-Swift-String-%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C-String-%E8%BD%AC-NSString/</url>
    <content><![CDATA[<h1 id="String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"><a href="#String-è½¬-NSStringï¼Œè½¬ä¸º-NSString-å-OC-çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†" class="headerlink" title="String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†"></a>String è½¬ NSStringï¼Œè½¬ä¸º NSString å OC çš„æ–¹æ³•å°±èƒ½ä½¿ç”¨äº†</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è½¬ä¸º NSString</span><br><span class="line"> (&quot;ABCD&quot; as NSString)</span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨ NSString çš„æ–¹æ³•</span><br><span class="line"> (&quot;ABCD&quot; as NSString).substring(to: 1)</span><br></pre></td></tr></table></figure>

<h1 id="Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–"><a href="#Swift-ä¸­-String-çš„å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–"></a>Swift ä¸­ String çš„å­—ç¬¦ä¸²æˆªå–</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let str &#x3D; &quot;ABCDEFGHIGK&quot;</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰5ä¸ª&quot; + &quot;\(str.prefix(5))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å‰5ä¸ªABCDE</span><br><span class="line"></span><br><span class="line">       print(&quot;å‰150ä¸ª&quot; + str.prefix(150))</span><br><span class="line">       &#x2F;&#x2F; å‰150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å3ä¸ª&quot; + &quot;\(str.suffix(3))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å3ä¸ªIGK</span><br><span class="line"></span><br><span class="line">       print(&quot;å150ä¸ª&quot; + &quot;\(str.suffix(150))&quot;)</span><br><span class="line">       &#x2F;&#x2F; å150ä¸ªABCDEFGHIGK</span><br><span class="line"></span><br><span class="line">       let startIndex &#x3D; str.index(str.startIndex, offsetBy: 2)</span><br><span class="line">       let endIndex &#x3D; str.index(str.startIndex, offsetBy: 5)</span><br><span class="line"></span><br><span class="line">       print(&quot;2-5æ˜¯&quot; + str[startIndex ..&lt; endIndex])</span><br><span class="line">       &#x2F;&#x2F; 2-5æ˜¯CDE</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>iOS å¤šçº¿ç¨‹</title>
    <url>/2020/11/10/100-Swift-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="1-Thread"><a href="#1-Thread" class="headerlink" title="1. Thread"></a>1. Thread</h1><h4 id="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "><a href="#é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç " class="headerlink" title="é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç "></a>é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒ…å†…ç›´æ¥æ‰§è¡Œä»£ç </span><br><span class="line">Thread.detachNewThread &#123;</span><br><span class="line">                print(&quot;111&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"><a href="#åˆ›å»ºä¸€ä¸ªæ–¹æ³•-å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨"></a>åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªæ–¹æ³• å¼€å¯å­çº¿ç¨‹åå»è°ƒç”¨</span><br><span class="line">let tr &#x3D; Thread(target: self, selector: #selector(threadTest), object: nil)</span><br><span class="line">&#x2F;&#x2F;å¼€å¯</span><br><span class="line">tr.start()</span><br><span class="line"></span><br><span class="line">@objc func threadTest () &#123;</span><br><span class="line">        print(&quot;777&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-Operation"><a href="#2-Operation" class="headerlink" title="2. Operation"></a>2. Operation</h1><h4 id="BlockOperation"><a href="#BlockOperation" class="headerlink" title="BlockOperation"></a>BlockOperation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; BlockOperation</span><br><span class="line">let operation &#x3D; BlockOperation &#123;</span><br><span class="line">      print(&quot; ----- BlockOperation  -----&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h4 id="ç»§æ‰¿è‡ª-Operation"><a href="#ç»§æ‰¿è‡ª-Operation" class="headerlink" title="ç»§æ‰¿è‡ª Operation"></a>ç»§æ‰¿è‡ª Operation</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»§æ‰¿è‡ª Operation</span><br><span class="line">class MyOperation: Operation &#123;</span><br><span class="line">            override func main() &#123;</span><br><span class="line">                print(&quot;--- MyOperation do ... ----&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line">let operation &#x3D; MyOperation()</span><br><span class="line">&#x2F;&#x2F;&#x2F; å½“ operation æ‰§è¡Œå®Œ ä¼šæ‰§è¡Œè¿™ä¸ª</span><br><span class="line">operation.completionBlock &#x3D; &#123;</span><br><span class="line">            print(&quot;----- completionBlock  ------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">let queue &#x3D; OperationQueue()</span><br><span class="line">queue.addOperation(operation)</span><br></pre></td></tr></table></figure>

<h1 id="3-GCD"><a href="#3-GCD" class="headerlink" title="3. GCD"></a>3. GCD</h1><h4 id="é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„"><a href="#é˜Ÿåˆ—-Queue-å¸¸ç”¨çš„" class="headerlink" title="é˜Ÿåˆ— Queue å¸¸ç”¨çš„"></a>é˜Ÿåˆ— Queue å¸¸ç”¨çš„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¼‚æ­¥ å¹¶è¡Œ</span><br><span class="line">DispatchQueue.global().async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å›åˆ°ä¸»çº¿ç¨‹å¼‚æ­¥</span><br><span class="line">DispatchQueue.main.async &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#x2F;&#x2F; å¼‚æ­¥å»¶æ—¶</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1) &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<h4 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h4><blockquote>
<p>labelï¼šåå­—æ ‡ç­¾<br>qosï¼šä¼˜å…ˆçº§<br>attributesï¼šä¸²è¡Œé˜Ÿåˆ—ã€å¹¶è¡Œé˜Ÿåˆ— concurrent<br>autoreleaseFrequencyï¼šé¢‘ç‡</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, qos: DispatchQoS.default, attributes: DispatchQueue.Attributes.concurrent, autoreleaseFrequency: DispatchQueue.AutoreleaseFrequency.inherit, target: nil)</span><br><span class="line">        </span><br><span class="line">queue.async &#123;</span><br><span class="line">            print(&quot; --- å¼‚æ­¥ ---&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.sync &#123;</span><br><span class="line">            print(&quot;--- åŒæ­¥ -----&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">queue.asyncAfter(deadline: .now() + 5) &#123;</span><br><span class="line">            print(&quot;---- 5s ------&quot;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸²è¡Œé˜Ÿåˆ—"><a href="#ä¸²è¡Œé˜Ÿåˆ—" class="headerlink" title="ä¸²è¡Œé˜Ÿåˆ—"></a>ä¸²è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šç­‰å¾…ä»–ä¸Šä¸€ä¸ªè¿›å…¥çš„çº¿ç¨‹æ‰§è¡Œå®Œæ‰ä¼šå¼€å§‹(æ— è®ºä¸Šä¸€ä¸ªçº¿ç¨‹æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥)ï¼Œå¹¶ä¸”é˜»æŒ¡çº¿ç¨‹ç­‰å¾…è‡ªå·±æ‰§è¡Œå®Œæ¯•æ‰ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; ä¸²è¡Œé˜Ÿåˆ—</span><br><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(&quot;------- ç­‰å¾… -------&quot;)</span><br><span class="line">&#x2F;&#x2F; wait ä¼šé˜»å¡çº¿ç¨‹</span><br><span class="line">group.wait()</span><br><span class="line">print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; notify ä¸ä¼šé˜»å¡</span><br><span class="line">&#x2F;&#x2F;group.notify(queue: queue) &#123;</span><br><span class="line">&#x2F;&#x2F;print(&quot;------- ç»“æŸ -------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#125;</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- ç­‰å¾… -------</span><br><span class="line">------- å¼‚æ­¥ B -------</span><br><span class="line">------- ç»“æŸ -------</span><br></pre></td></tr></table></figure>

<h4 id="å¹¶è¡Œé˜Ÿåˆ—"><a href="#å¹¶è¡Œé˜Ÿåˆ—" class="headerlink" title="å¹¶è¡Œé˜Ÿåˆ—"></a>å¹¶è¡Œé˜Ÿåˆ—</h4><blockquote>
<p>åŒæ­¥ä¼šé˜»å¡åé¢çš„çº¿ç¨‹æ‰§è¡Œï¼Œä¸”åŒæ­¥ä¸å—å‰è¾¹å¼‚æ­¥çš„å½±å“</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let queue &#x3D; DispatchQueue(label: &quot;myQueue&quot;, attributes: DispatchQueue.Attributes.concurrent)</span><br><span class="line">let group &#x3D; DispatchGroup()</span><br><span class="line"></span><br><span class="line">print(&quot;------- å¼€å§‹ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(1)</span><br><span class="line">    print(&quot;------- åŒæ­¥ A -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ A ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.sync &#123;</span><br><span class="line">    sleep(3)</span><br><span class="line">    print(&quot;------- åŒæ­¥ B -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- åŒæ­¥ B ç»“æŸ -------&quot;)</span><br><span class="line"></span><br><span class="line">group.enter()</span><br><span class="line">queue.async &#123;</span><br><span class="line">    sleep(2)</span><br><span class="line">    print(&quot;------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------&quot;)</span><br><span class="line">    group.leave()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group.notify(queue: queue) &#123;</span><br><span class="line">    print(&quot;------- å…¨éƒ¨ç»“æŸ -------&quot;)</span><br><span class="line">&#125;</span><br><span class="line">print(&quot;------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------&quot;)</span><br><span class="line"></span><br><span class="line">------- å¼€å§‹ -------</span><br><span class="line">------- åŒæ­¥ A -------</span><br><span class="line">------- åŒæ­¥ A ç»“æŸ -------</span><br><span class="line">------- å¼‚æ­¥ A -------</span><br><span class="line">------- åŒæ­¥ B -------</span><br><span class="line">------- åŒæ­¥ B ç»“æŸ -------</span><br><span class="line">------- æœªè¢«è€—æ—¶æ“ä½œé˜»å¡ -------</span><br><span class="line">------- å¼‚æ­¥ B è€—æ—¶æ“ä½œ -------</span><br><span class="line">------- å…¨éƒ¨ç»“æŸ -------</span><br></pre></td></tr></table></figure>
<h4 id="DispatchSource-å®šæ—¶å™¨ä¾‹å­"><a href="#DispatchSource-å®šæ—¶å™¨ä¾‹å­" class="headerlink" title="DispatchSource å®šæ—¶å™¨ä¾‹å­"></a>DispatchSource å®šæ—¶å™¨ä¾‹å­</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var time &#x3D; 7</span><br><span class="line">let timer &#x3D; DispatchSource.makeTimerSource(flags: [], queue: .global())</span><br><span class="line">&#x2F;&#x2F;æ¯ç§’æ‰§è¡Œä¸€æ¬¡</span><br><span class="line">timer.schedule(deadline: .now(), repeating: 1)</span><br><span class="line">timer.setEventHandler &#123;</span><br><span class="line">&#x2F;&#x2F;  ç”±äºä½¿ç”¨çš„ queue æ˜¯  .global()   è¿™é‡Œä¸æ˜¯ä¸»çº¿ç¨‹ </span><br><span class="line">    time -&#x3D; 1</span><br><span class="line">    print(&quot;----- \(time)&quot;)</span><br><span class="line">    if time &#x3D;&#x3D; 1 &#123;</span><br><span class="line">        timer.cancel()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">timer.resume()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>GCD</tag>
        <tag>å¤šçº¿ç¨‹</tag>
        <tag>Thread</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift æ•°ç»„</title>
    <url>/2020/11/22/100-Swift-%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<h1 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var list &#x3D; [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;]</span><br><span class="line">list.removeAll&#123; $0 &#x3D;&#x3D; &quot;2&quot; &#125;</span><br><span class="line">&#x2F;&#x2F;[&quot;1&quot;,&quot;3&quot;,&quot;4&quot;]</span><br></pre></td></tr></table></figure>


<h1 id="Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"><a href="#Swift-æ•°ç»„éå†çš„å‡ ç§æ–¹å¼" class="headerlink" title="Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼"></a>Swift æ•°ç»„éå†çš„å‡ ç§æ–¹å¼</h1><h3 id="1-for-in-ä¸å¸¦ç´¢å¼•"><a href="#1-for-in-ä¸å¸¦ç´¢å¼•" class="headerlink" title="1. for-in ä¸å¸¦ç´¢å¼•"></a>1. for-in ä¸å¸¦ç´¢å¼•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">for obj in arr &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return"><a href="#2-forEach-ä¸èƒ½ä½¿ç”¨-break-continue-ï¼Œåªèƒ½ä½¿ç”¨-return" class="headerlink" title="2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return"></a>2. forEach ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸å¸¦ç´¢å¼•</span><br><span class="line">arr.forEach &#123; obj in</span><br><span class="line">    &#x2F;&#x2F; ä¸èƒ½ä½¿ç”¨ break continue ï¼Œåªèƒ½ä½¿ç”¨ return</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼"><a href="#3-enumerated-å¸¦ç´¢å¼•-å’Œ-å€¼" class="headerlink" title="3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼"></a>3. enumerated() å¸¦ç´¢å¼• å’Œ å€¼</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¸¦ç´¢å¼• å’Œ å€¼</span><br><span class="line">for (index, obj) in arr.enumerated() &#123;</span><br><span class="line">    print(&quot;ä½ç½®ï¼š\(index)&quot; + &quot;å€¼ï¼š\(obj)&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-while"><a href="#4-while" class="headerlink" title="4. while"></a>4. while</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿­ä»£å™¨</span><br><span class="line">var arrIterator &#x3D; arr.makeIterator()</span><br><span class="line">while let obj &#x3D; arrIterator.next() &#123;</span><br><span class="line">    print(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡"><a href="#5-indices-ä¸‹æ ‡ç´¢å¼•-éå†ä¸‹æ ‡" class="headerlink" title="5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡"></a>5. indices ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [Int](7 ..&lt; 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸‹æ ‡ç´¢å¼• éå†ä¸‹æ ‡</span><br><span class="line">for index in arr.indices &#123;</span><br><span class="line">    print(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯"><a href="#åŒºé—´-for-in-åŒºé—´-for-å¾ªç¯" class="headerlink" title="åŒºé—´ for-in åŒºé—´ for å¾ªç¯"></a>åŒºé—´ for-in åŒºé—´ for å¾ªç¯</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let s &#x3D; 5</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¼€åŒºé—´ä¸åŒ…å« 50 ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, to: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; é—­åŒºé—´åŒ…å« 50ï¼Œ 5 ä¸ªä¸€è¾“å‡º</span><br><span class="line">for i in stride(from: 0, through: 50, by: s) &#123;</span><br><span class="line">    print(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"><a href="#æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ" class="headerlink" title="æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ"></a>æ•°ç»„çš„ä¸€äº›æŸ¥æ‰¾æ“ä½œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let array &#x3D; [Int](7 ..&lt; 117)</span><br><span class="line"></span><br><span class="line">let a &#x3D; array.contains(100)</span><br><span class="line">print(&quot;\(a ? &quot;åŒ…å«&quot; : &quot;ä¸åŒ…å«&quot;)&quot; + &quot;100&quot;)</span><br><span class="line"></span><br><span class="line">let b &#x3D; array.contains(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">print(&quot;\(b ? &quot;å«æœ‰å¤§äº8çš„æ•°å­—&quot; : &quot;ä¸å«æœ‰å¤§äº8çš„æ•°å­—&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">let c &#x3D; array.allSatisfy &#123; $0 &gt;&#x3D; 6 &#125;</span><br><span class="line">print(&quot;\(c ? &quot;æ‰€æœ‰æ•°å­—éƒ½å¤§äºç­‰äº6&quot; : &quot;æœ‰æ•°å­—å°äº6&quot;)&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.first))&quot;)</span><br><span class="line"></span><br><span class="line">print(&quot;æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ æ˜¯&quot; + &quot;\(String(describing: array.last))&quot;)</span><br><span class="line"></span><br><span class="line">let first &#x3D; array.first(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let first &#x3D; first &#123;</span><br><span class="line">    print(&quot;ç¬¬ä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(first)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let last &#x3D; array.last(where: &#123; $0 &gt; 8 &#125;)</span><br><span class="line">if let last &#x3D; last &#123;</span><br><span class="line">    print(&quot;æœ€åä¸€ä¸ªå¤§äº8çš„æ•°å­—æ˜¯&quot; + &quot;\(last)&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; 10 åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.firstIndex(of: 10)</span><br><span class="line">&#x2F;&#x2F;&#x2F; 17 åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">array.lastIndex(of: 17)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swift æ·»åŠ ä¸‹æ ‡ subscript</title>
    <url>/2020/11/23/100-Swift-%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%A0%87-subscript/</url>
    <content><![CDATA[<h1 id="å…³é”®å­-subscript"><a href="#å…³é”®å­-subscript" class="headerlink" title="å…³é”®å­ subscript "></a>å…³é”®å­ <code>subscript </code></h1><p>å‚æ•°å’Œè¿”å›å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ˆ<code>inout</code>è¾“å…¥è¾“å‡ºé™¤å¤–ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct People &#123;</span><br><span class="line">    var name &#x3D; &quot;&quot;, age &#x3D; 0</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™å®ä¾‹æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    subscript(n: String) -&gt; Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            return age</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            age &#x3D; newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»™ç»“æ„ä½“æ·»åŠ ä¸‹æ ‡</span><br><span class="line">    static subscript(name: String, age: Int) -&gt; People &#123;</span><br><span class="line">        People(name: name, age: age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a &#x3D; People(name: &quot;å“ˆå“ˆå“ˆ&quot;, age: 18)</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;18</span><br><span class="line">a[&quot;å“ˆå“ˆå“ˆ&quot;] &#x3D; 20</span><br><span class="line">print(a[&quot;å“ˆå“ˆå“ˆ&quot;])&#x2F;&#x2F;20</span><br><span class="line">let p &#x3D; People[&quot;å“ˆå–½&quot;, 20]</span><br><span class="line">print(p)&#x2F;&#x2F;People(name: &quot;å“ˆå–½&quot;, age: 20)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>ä¸‹æ ‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift çš„ä¸€äº›é«˜é˜¶å‡½æ•° mapã€filterã€reduceã€flatMapã€compactMap</title>
    <url>/2020/11/17/100-Swift-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-map-filter-reduce-flatMap-compactMap/</url>
    <content><![CDATA[<h1 id="map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"><a href="#map-å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ" class="headerlink" title="map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ"></a>map å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸ªæ–°çš„é›†åˆ</span><br><span class="line">print(numbers.map &#123; $0 * 10 &#125;)</span><br><span class="line">&#x2F;&#x2F; [10, 30, 50, 70, 90]</span><br></pre></td></tr></table></figure>

<h1 id="filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"><a href="#filter-è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ" class="headerlink" title="filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ"></a>filter è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let numbers &#x3D; [1, 3, 5, 7, 9]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ–°çš„é›†åˆ</span><br><span class="line">print(numbers.filter &#123; $0 &gt; 5 &#125;)</span><br><span class="line">&#x2F;&#x2F; [7, 9]</span><br></pre></td></tr></table></figure>

<h1 id="reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"><a href="#reduce-å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ -ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š" class="headerlink" title="reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š"></a>reduce  å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;&#x2F; å¯¹é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´  ä½œç”¨åœ¨å½“å‰ç´¯è®¡çš„ç»“æœä¸Š</span><br><span class="line">let abc &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">print(abc.reduce(&quot;100&quot;) &#123; $0 + ($1 + &quot;kk&quot;) &#125;)</span><br><span class="line">&#x2F;&#x2F; 100akkbkkckk</span><br></pre></td></tr></table></figure>

<h1 id="flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"><a href="#flatMap-é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§-æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ" class="headerlink" title="flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ"></a>flatMap é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let list &#x3D; [[1, 2, 3], [4, 5], [7]]</span><br><span class="line">&#x2F;&#x2F;&#x2F; é›†åˆå†…çš„å…ƒç´ å…¨æ˜¯é›†åˆï¼Œé‚£ä¹ˆæŠŠå…ƒç´ æ‹†æˆåŒä¸€çº§ æ”¾åœ¨ä¸€ä¸ªæ–°çš„é›†åˆé‡Œ</span><br><span class="line">print(list.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åªä¼šæ‹†ä¸€å±‚</span><br><span class="line">let list1 &#x3D; [[1, 2, 3], [4, 5], [7], [[8], [9]]]</span><br><span class="line">print(list1.flatMap &#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F; [1, 2, 3, 4, 5, 7, [8], [9]]</span><br></pre></td></tr></table></figure>

<h1 id="compactMap-è¿‡æ»¤ç©ºå€¼"><a href="#compactMap-è¿‡æ»¤ç©ºå€¼" class="headerlink" title="compactMap è¿‡æ»¤ç©ºå€¼"></a>compactMap è¿‡æ»¤ç©ºå€¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let names: [String?] &#x3D; [&quot;am&quot;,nil,&quot;qw&quot;,&quot;er&quot;,nil]</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿‡æ»¤ç©ºå€¼</span><br><span class="line">print(names.compactMap&#123; $0 &#125;)</span><br><span class="line">&#x2F;&#x2F;[&quot;am&quot;, &quot;qw&quot;, &quot;er&quot;]</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>é«˜é˜¶å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Swift ç±»å‹è½¬æ¢</title>
    <url>/2020/12/21/100-Swift-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h1 id="Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨"><a href="#Swift-ç±»å‹è½¬æ¢-as-çš„ä½¿ç”¨" class="headerlink" title="Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨"></a>Swift ç±»å‹è½¬æ¢ as çš„ä½¿ç”¨</h1><h2 id="if-let-as"><a href="#if-let-as" class="headerlink" title="if let as"></a>if let as</h2><p> ç±»å‹è½¬æ¢ï¼Œæ­¤æ—¶ <code>btn</code> æ˜¯ <code>Any</code> ç±»å‹ï¼Œä½¿ç”¨ <code>as?</code> å°†ä»–å°è¯•è½¬ä¸º <code>UIButton</code>ç±»å‹ã€‚å¹¶èµ‹å€¼ç»™ <code>a</code>ã€‚ å®é™…å¼€å‘ä¸­å»ºè®® <code>a</code> ä¸ <code>btn</code> å‘½åä¸€è‡´ï¼Œè¿™é‡Œä¸ºäº†ä¾¿äºåŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">if let a &#x3D; btn as? UIButton &#123;</span><br><span class="line">    print(a)</span><br><span class="line">    &#x2F;&#x2F; è¿™é‡Œ a ä¸ºçœŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="guard-let-as"><a href="#guard-let-as" class="headerlink" title="guard let as"></a>guard let as</h2><p>å’Œ <code>if let as</code> åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å½“è½¬æ¢å¤±è´¥æ—¶æå‰é€€å‡ºã€‚é€‚ç”¨äºä¸€äº›å¼‚æ­¥å›è°ƒé‡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">guard let btn &#x3D; btn as? UIButton else &#123; return &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>ç¬¬ä¸‰æ–¹åº“æç¤º</title>
    <url>/2020/11/11/100-Swift%E5%AF%BC%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E3%80%81%E4%BB%A3%E7%A0%81%E4%B8%8D%E6%8F%90%E7%A4%BA/</url>
    <content><![CDATA[<h4 id="1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"><a href="#1-åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“"></a>1.åƒOCçš„pchæ–‡ä»¶ä¸€æ ·å¯¼å…¥ç¬¬ä¸‰æ–¹åº“</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºä¸€ä¸ªSwiftæ–‡ä»¶ï¼Œåœ¨å¯¼å…¥çš„åº“å‰æ·»åŠ  @_exported</span><br><span class="line">ğŸŒ°</span><br><span class="line"></span><br><span class="line">@_exported import Alamofire</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"><a href="#2-Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º" class="headerlink" title="2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º"></a>2.Swiftå¯¼å…¥çš„ç¬¬ä¸‰æ–¹åº“ä»£ç æ²¡æç¤º</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.é€‰æ‹©target </span><br><span class="line">2.é€‰æ‹©Build Settings </span><br><span class="line">3.æœç´¢ User Header Search Paths</span><br><span class="line">4.å¡«å†™ $(PODS_ROOT)ï¼Œå¹¶è®¾ç½®ä¸ºâ€œrecursiveâ€  </span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>Swift åè®®ä¸æ‰©å±•</title>
    <url>/2020/12/25/100-Swift%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%89%A9%E5%B1%95/</url>
    <content><![CDATA[<h1 id="åè®®-Protocol"><a href="#åè®®-Protocol" class="headerlink" title="åè®® Protocol"></a>åè®® Protocol</h1><h2 id="ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"><a href="#ä½¿ç”¨-Protocol-å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®" class="headerlink" title="ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®"></a>ä½¿ç”¨ Protocol å…³é”®å­—åˆ›å»ºä¸€ä¸ªåè®®</h2><blockquote>
<p>è®©éµå®ˆè¯¥åè®®çš„ class ä¸ struct å®ç°çº¦å®šä¸€äº›æ–¹æ³•ä¸å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éµå®ˆåè®®"><a href="#éµå®ˆåè®®" class="headerlink" title="éµå®ˆåè®®"></a>éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct Person: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Car: PageNumberProtocol &#123;</span><br><span class="line">    var pageNumber: Int &#x3D; 0</span><br><span class="line"></span><br><span class="line">    func add() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    static var name: String?</span><br><span class="line"></span><br><span class="line">    static func logName() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ‰©å±•-extension"><a href="#æ‰©å±•-extension" class="headerlink" title="æ‰©å±• extension"></a>æ‰©å±• extension</h1><h2 id="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"><a href="#æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰" class="headerlink" title="æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰"></a>æ‰©å±•ä½¿ç”¨çš„å¾ˆå¤šåº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰</h2><blockquote>
<p>åˆ†æ•£ä»£ç å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension Car &#123;</span><br><span class="line">    func dididi() &#123;</span><br><span class="line">        print(&quot;æ»´æ»´æ»´&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Car().dididi()</span><br></pre></td></tr></table></figure>

<h1 id="Protocl-Extension"><a href="#Protocl-Extension" class="headerlink" title="Protocl + Extension"></a>Protocl + Extension</h1><blockquote>
<p>ç»™å‡ºåè®®å¹¶å®ç°åè®®ï¼Œè¿™æ ·éµå®ˆåè®®çš„ class å’Œ struct å°±èƒ½ç›´æ¥ä½¿ç”¨åè®®æ–¹æ³•ã€‚</p>
</blockquote>
<h2 id="runtime-æ·»åŠ å±æ€§"><a href="#runtime-æ·»åŠ å±æ€§" class="headerlink" title="runtime æ·»åŠ å±æ€§"></a>runtime æ·»åŠ å±æ€§</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func getAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer) -&gt; T? &#123;</span><br><span class="line">    return objc_getAssociatedObject(object, key) as? T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func setRetainedAssociatedObject&lt;T&gt;(_ object: Any, _ key: UnsafeRawPointer, _ value: T) &#123;</span><br><span class="line">    objc_setAssociatedObject(object, key, value, .OBJC_ASSOCIATION_RETAIN_NONATOMIC)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">protocol PageNumberProtocol &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹å±æ€§</span><br><span class="line">    var pageNumber: Int &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„å®ä¾‹æ–¹æ³•</span><br><span class="line">    func add()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»å±æ€§</span><br><span class="line">    static var name: String? &#123; get set &#125;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ·»åŠ çš„ç±»æ–¹æ³•</span><br><span class="line">    static func logName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰©å±•éµå®ˆåè®®"><a href="#æ‰©å±•éµå®ˆåè®®" class="headerlink" title="æ‰©å±•éµå®ˆåè®®"></a>æ‰©å±•éµå®ˆåè®®</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">private var pageNumberKey: Void?</span><br><span class="line"></span><br><span class="line">private var nameKey: Void?</span><br><span class="line"></span><br><span class="line">extension UIViewController: PageNumberProtocol &#123;</span><br><span class="line">    static func logName() &#123;</span><br><span class="line">        debugPrint(name ?? &quot;æ— å&quot;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static var name: String? &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;nameKey)</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;nameKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func add() &#123;</span><br><span class="line">        pageNumber +&#x3D; 1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var pageNumber: Int &#123;</span><br><span class="line">        get &#123;</span><br><span class="line">            getAssociatedObject(self, &amp;pageNumberKey) ?? 0</span><br><span class="line">        &#125;</span><br><span class="line">        set &#123;</span><br><span class="line">            setRetainedAssociatedObject(self, &amp;pageNumberKey, newValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ‰€æœ‰éµå®ˆ PageNumberProtocol åè®®çš„ UIViewController å°±éƒ½æœ‰äº†åè®®è¦æ±‚çš„å±æ€§ä¸æ–¹æ³•ä¸”å·²ç»å®ç°äº†ã€‚</p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>Protocol</tag>
        <tag>Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>Swiftè·å–å€¼çš„ç±»å‹</title>
    <url>/2020/11/19/100-Swift%E8%8E%B7%E5%8F%96%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<p>ä½¿ç”¨ <code>type(of:)</code> å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">let a &#x3D; type(of:&quot;ğŸ˜„&quot;)</span><br><span class="line"></span><br><span class="line">print(a) &#x2F;&#x2F;String</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a class="link"   href="https://developer.apple.com/documentation/swift/2885064-type" >ç›´è¾¾æ–‡æ¡£<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</title>
    <url>/2020/11/02/100-%E5%9C%A8Swift%E4%B8%AD%E4%BD%BF%E7%94%A8-NSClassFromString/</url>
    <content><![CDATA[<p>åœ¨Swiftä¸­ä½¿ç”¨ NSClassFromString</p>
<p>éœ€è¦ <code>å·¥ç¨‹å</code> + <code> .</code>  +  <code>string</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSClassFromString(Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;)! + &quot;.&quot; + &quot;CustomCell&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹"><a href="#æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦-æ‰€ä»¥ç®€å•å°è£…ä¸‹" class="headerlink" title="æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹"></a>æ¯æ¬¡å†™è¿™äº›å¾ˆéº»çƒ¦,æ‰€ä»¥ç®€å•å°è£…ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public func GetClassFromString(_ classString: String) -&gt; AnyClass? &#123;</span><br><span class="line">    </span><br><span class="line">    guard let bundleName: String &#x3D; Bundle.main.object(forInfoDictionaryKey: &quot;CFBundleName&quot;) as? String else &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    var anyClass: AnyClass? &#x3D; NSClassFromString(bundleName + &quot;.&quot; + classString)</span><br><span class="line">    if (anyClass &#x3D;&#x3D; nil) &#123;</span><br><span class="line">        anyClass &#x3D; NSClassFromString(classString)</span><br><span class="line">    &#125;</span><br><span class="line">    return anyClass</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"><a href="#ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨" class="headerlink" title="ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨"></a>ä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GetClassFromString(&quot;cellName&quot;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
  </entry>
  <entry>
    <title>TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ</title>
    <url>/2021/02/04/1000-001TCP%20%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="1-TCP-æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ"><a href="#1-TCP-æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ" class="headerlink" title="1. TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ"></a>1. TCP æ€ä¹ˆä¿è¯å¯é ä¼ è¾“ï¼Ÿ</h1><blockquote>
<p>TCPåè®®ä¼ è¾“çš„ç‰¹ç‚¹ä¸»è¦å°±æ˜¯é¢å‘å­—èŠ‚æµã€ä¼ è¾“å¯é ã€é¢å‘è¿æ¥ã€‚</p>
</blockquote>
<p>TCPåè®®ä¿è¯æ•°æ®ä¼ è¾“å¯é æ€§çš„æ–¹å¼ä¸»è¦æœ‰ï¼š</p>
<ol>
<li><strong>æ•°æ®åˆ†å‰²</strong> åº”ç”¨æ•°æ®è¢«åˆ†å‰²æˆ TCP è®¤ä¸ºæœ€åˆé€‚å‘é€çš„æ•°æ®å—ã€‚</li>
<li><strong>ç¼–å·</strong> TCP ç»™å‘é€çš„æ¯ä¸€ä¸ªåŒ…è¿›è¡Œç¼–å·ï¼Œæ¥æ”¶æ–¹å¯¹æ•°æ®åŒ…è¿›è¡Œæ’åºï¼ŒæŠŠæœ‰åºæ•°æ®ä¼ é€ç»™åº”ç”¨å±‚ã€‚</li>
<li><strong>æ£€éªŒå’Œ</strong> TTCP å°†ä¿æŒå®ƒé¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œã€‚è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ£€éªŒå’Œï¼Œç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ã€‚å¦‚æœæ”¶åˆ°æ®µçš„æ£€éªŒå’Œæœ‰å·®é”™ï¼ŒTCP å°†ä¸¢å¼ƒè¿™ä¸ªæŠ¥æ–‡æ®µå’Œä¸ç¡®è®¤æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µã€‚</li>
<li>TCP çš„æ¥æ”¶ç«¯ä¼šä¸¢å¼ƒé‡å¤çš„æ•°æ®ã€‚</li>
<li><strong>æµé‡æ§åˆ¶</strong>  TCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCPçš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP ä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ ï¼ˆTCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰</li>
<li><strong>æ‹¥å¡æ§åˆ¶</strong> å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li>
<li><strong>ARQåè®®</strong> ä¹Ÿæ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚</li>
<li><strong>è¶…æ—¶é‡ä¼ </strong> å½“ TCP å‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µã€‚</li>
</ol>
<h1 id="2-ARQ-åè®®"><a href="#2-ARQ-åè®®" class="headerlink" title="2. ARQ åè®®"></a>2. ARQ åè®®</h1><p> <strong>è‡ªåŠ¨é‡ä¼ è¯·æ±‚</strong>ï¼ˆAutomatic Repeat-reQuestï¼ŒARQï¼‰æ˜¯OSIæ¨¡å‹ä¸­æ•°æ®é“¾è·¯å±‚å’Œä¼ è¾“å±‚çš„é”™è¯¯çº æ­£åè®®ä¹‹ä¸€ã€‚å®ƒé€šè¿‡ä½¿ç”¨ç¡®è®¤å’Œè¶…æ—¶è¿™ä¸¤ä¸ªæœºåˆ¶ï¼Œåœ¨ä¸å¯é æœåŠ¡çš„åŸºç¡€ä¸Šå®ç°å¯é çš„ä¿¡æ¯ä¼ è¾“ã€‚å¦‚æœå‘é€æ–¹åœ¨å‘é€åä¸€æ®µæ—¶é—´ä¹‹å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤å¸§ï¼Œå®ƒé€šå¸¸ä¼šé‡æ–°å‘é€ã€‚ARQåŒ…æ‹¬åœæ­¢ç­‰å¾…ARQåè®®å’Œè¿ç»­ARQåè®®ã€‚</p>
<h2 id="2-1-åœæ­¢ç­‰å¾…ARQåè®®"><a href="#2-1-åœæ­¢ç­‰å¾…ARQåè®®" class="headerlink" title="2.1 åœæ­¢ç­‰å¾…ARQåè®®"></a>2.1 åœæ­¢ç­‰å¾…ARQåè®®</h2><ul>
<li>åœæ­¢ç­‰å¾…åè®®æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ï¼ˆå›å¤ACKï¼‰ã€‚å¦‚æœè¿‡äº†ä¸€æ®µæ—¶é—´ï¼ˆè¶…æ—¶æ—¶é—´åï¼‰ï¼Œè¿˜æ˜¯æ²¡æœ‰æ”¶åˆ° ACK ç¡®è®¤ï¼Œè¯´æ˜æ²¡æœ‰å‘é€æˆåŠŸï¼Œéœ€è¦é‡æ–°å‘é€ï¼Œç›´åˆ°æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ï¼›</li>
<li>åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­ï¼Œè‹¥æ¥æ”¶æ–¹æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ï¼›</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•<br><strong>ç¼ºç‚¹ï¼š</strong> ä¿¡é“åˆ©ç”¨ç‡ä½ï¼Œç­‰å¾…æ—¶é—´é•¿</p>
<h3 id="2-1-1-æ— å·®é”™æƒ…å†µ"><a href="#2-1-1-æ— å·®é”™æƒ…å†µ" class="headerlink" title="2.1.1 æ— å·®é”™æƒ…å†µ"></a>2.1.1 æ— å·®é”™æƒ…å†µ</h3><p>å‘é€æ–¹å‘é€åˆ†ç»„,æ¥æ”¶æ–¹åœ¨è§„å®šæ—¶é—´å†…æ”¶åˆ°,å¹¶ä¸”å›å¤ç¡®è®¤.å‘é€æ–¹å†æ¬¡å‘é€ã€‚</p>
<h3 id="2-1-2-å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰"><a href="#2-1-2-å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰" class="headerlink" title="2.1.2 å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰"></a>2.1.2 å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰</h3><p>åœæ­¢ç­‰å¾…åè®®ä¸­è¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„éœ€è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå…¶é‡ä¼ æ—¶é—´åº”æ¯”æ•°æ®åœ¨åˆ†ç»„ä¼ è¾“çš„å¹³å‡å¾€è¿”æ—¶é—´æ›´é•¿ä¸€äº›ã€‚ <strong>è¿™ç§è‡ªåŠ¨é‡ä¼ æ–¹å¼å¸¸ç§°ä¸º è‡ªåŠ¨é‡ä¼ è¯·æ±‚ ARQ ã€‚</strong></p>
<p>å¦å¤–åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­è‹¥æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ã€‚è¿ç»­ ARQ åè®® å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä½ç½®çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p>
<h3 id="2-1-3-ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°"><a href="#2-1-3-ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°" class="headerlink" title="2.1.3 ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°"></a>2.1.3 ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°</h3><ul>
<li><strong>ç¡®è®¤ä¸¢å¤±ï¼š</strong> ç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸¢å¤±ã€‚å½“Aå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°åï¼ŒBå‘Aå‘é€äº†ä¸€ä¸ªM1ç¡®è®¤æ¶ˆæ¯ï¼Œä½†å´åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ã€‚è€ŒAå¹¶ä¸çŸ¥é“ï¼Œåœ¨è¶…æ—¶è®¡æ—¶è¿‡åï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBå†æ¬¡æ”¶åˆ°è¯¥æ¶ˆæ¯åé‡‡å–ä»¥ä¸‹ä¸¤ç‚¹æªæ–½ï¼š1. ä¸¢å¼ƒè¿™ä¸ªé‡å¤çš„M1æ¶ˆæ¯ï¼Œä¸å‘ä¸Šå±‚äº¤ä»˜ã€‚ 2. å‘Aå‘é€ç¡®è®¤æ¶ˆæ¯ã€‚ï¼ˆä¸ä¼šè®¤ä¸ºå·²ç»å‘é€è¿‡äº†ï¼Œå°±ä¸å†å‘é€ã€‚Aèƒ½é‡ä¼ ï¼Œå°±è¯æ˜Bçš„ç¡®è®¤æ¶ˆæ¯ä¸¢å¤±ï¼‰ã€‚</li>
<li><strong>ç¡®è®¤è¿Ÿåˆ°</strong> ç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¿Ÿåˆ°ã€‚Aå‘é€M1æ¶ˆæ¯ï¼ŒBæ”¶åˆ°å¹¶å‘é€ç¡®è®¤ã€‚åœ¨è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤æ¶ˆæ¯ï¼ŒAé‡ä¼ M1æ¶ˆæ¯ï¼ŒBä»ç„¶æ”¶åˆ°å¹¶ç»§ç»­å‘é€ç¡®è®¤æ¶ˆæ¯ï¼ˆBæ”¶åˆ°äº†2ä»½M1ï¼‰ã€‚æ­¤æ—¶Aæ”¶åˆ°äº†Bç¬¬äºŒæ¬¡å‘é€çš„ç¡®è®¤æ¶ˆæ¯ã€‚æ¥ç€å‘é€å…¶ä»–æ•°æ®ã€‚è¿‡äº†ä¸€ä¼šï¼ŒAæ”¶åˆ°äº†Bç¬¬ä¸€æ¬¡å‘é€çš„å¯¹M1çš„ç¡®è®¤æ¶ˆæ¯ï¼ˆAä¹Ÿæ”¶åˆ°äº†2ä»½ç¡®è®¤æ¶ˆæ¯ï¼‰ã€‚å¤„ç†å¦‚ä¸‹ï¼š1. Aæ”¶åˆ°é‡å¤çš„ç¡®è®¤åï¼Œç›´æ¥ä¸¢å¼ƒã€‚2. Bæ”¶åˆ°é‡å¤çš„M1åï¼Œä¹Ÿç›´æ¥ä¸¢å¼ƒé‡å¤çš„M1ã€‚</li>
</ul>
<h2 id="2-2-è¿ç»­ARQåè®®"><a href="#2-2-è¿ç»­ARQåè®®" class="headerlink" title="2.2 è¿ç»­ARQåè®®"></a>2.2 è¿ç»­ARQåè®®</h2><p>è¿ç»­ ARQ åè®®å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€æ–¹ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä¸ºæ­¢çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ä¿¡é“åˆ©ç”¨ç‡é«˜ï¼Œå®¹æ˜“å®ç°ï¼Œå³ä½¿ç¡®è®¤ä¸¢å¤±ï¼Œä¹Ÿä¸å¿…é‡ä¼ ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong> ä¸èƒ½å‘å‘é€æ–¹åæ˜ å‡ºæ¥æ”¶æ–¹å·²ç»æ­£ç¡®æ”¶åˆ°çš„æ‰€æœ‰åˆ†ç»„çš„ä¿¡æ¯ã€‚ æ¯”å¦‚ï¼šå‘é€æ–¹å‘é€äº† 5æ¡ æ¶ˆæ¯ï¼Œä¸­é—´ç¬¬ä¸‰æ¡ä¸¢å¤±ï¼ˆ3å·ï¼‰ï¼Œè¿™æ—¶æ¥æ”¶æ–¹åªèƒ½å¯¹å‰ä¸¤ä¸ªå‘é€ç¡®è®¤ã€‚å‘é€æ–¹æ— æ³•çŸ¥é“åä¸‰ä¸ªåˆ†ç»„çš„ä¸‹è½ï¼Œè€Œåªå¥½æŠŠåä¸‰ä¸ªå…¨éƒ¨é‡ä¼ ä¸€æ¬¡ã€‚è¿™ä¹Ÿå« Go-Back-Nï¼ˆå›é€€ Nï¼‰ï¼Œè¡¨ç¤ºéœ€è¦é€€å›æ¥é‡ä¼ å·²ç»å‘é€è¿‡çš„ N ä¸ªæ¶ˆæ¯ã€‚</p>
<h1 id="3-æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶"><a href="#3-æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶" class="headerlink" title="3. æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶"></a>3. æ»‘åŠ¨çª—å£å’Œæµé‡æ§åˆ¶</h1><p><strong>TCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚</strong> æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚</p>
<h1 id="4-æ‹¥å¡æ§åˆ¶"><a href="#4-æ‹¥å¡æ§åˆ¶" class="headerlink" title="4. æ‹¥å¡æ§åˆ¶"></a>4. æ‹¥å¡æ§åˆ¶</h1><p>åœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸä¸€èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§æƒ…å†µå°±å«æ‹¥å¡ã€‚æ‹¥å¡æ§åˆ¶å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚ç›¸åï¼Œæµé‡æ§åˆ¶å¾€å¾€æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡é‡çš„æ§åˆ¶ï¼Œæ˜¯ä¸ªç«¯åˆ°ç«¯çš„é—®é¢˜ã€‚æµé‡æ§åˆ¶æ‰€è¦åšåˆ°çš„å°±æ˜¯æŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»¥ä¾¿ä½¿æ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚</p>
<p>ä¸ºäº†è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼ŒTCP å‘é€æ–¹è¦ç»´æŒä¸€ä¸ª<strong>æ‹¥å¡çª—å£(cwnd)</strong> çš„çŠ¶æ€å˜é‡ã€‚æ‹¥å¡æ§åˆ¶çª—å£çš„å¤§å°å–å†³äºç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼Œå¹¶ä¸”åŠ¨æ€å˜åŒ–ã€‚å‘é€æ–¹è®©è‡ªå·±çš„å‘é€çª—å£å–ä¸ºæ‹¥å¡çª—å£å’Œæ¥æ”¶æ–¹çš„æ¥å—çª—å£ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚</p>
<p>TCPçš„æ‹¥å¡æ§åˆ¶é‡‡ç”¨äº†å››ç§ç®—æ³•ï¼Œå³ <strong>æ…¢å¼€å§‹</strong> ã€ <strong>æ‹¥å¡é¿å…</strong> ã€<strong>å¿«é‡ä¼ </strong> å’Œ <strong>å¿«æ¢å¤</strong>ã€‚åœ¨ç½‘ç»œå±‚ä¹Ÿå¯ä»¥ä½¿è·¯ç”±å™¨é‡‡ç”¨é€‚å½“çš„åˆ†ç»„ä¸¢å¼ƒç­–ç•¥ï¼ˆå¦‚ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† AQMï¼‰ï¼Œä»¥å‡å°‘ç½‘ç»œæ‹¥å¡çš„å‘ç”Ÿã€‚</p>
<ul>
<li><p><strong>æ…¢å¼€å§‹ï¼š</strong> æ…¢å¼€å§‹ç®—æ³•çš„æ€è·¯æ˜¯å½“ä¸»æœºå¼€å§‹å‘é€æ•°æ®æ—¶ï¼Œå¦‚æœç«‹å³æŠŠå¤§é‡æ•°æ®å­—èŠ‚æ³¨å…¥åˆ°ç½‘ç»œï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¼•èµ·ç½‘ç»œé˜»å¡ï¼Œå› ä¸ºç°åœ¨è¿˜ä¸çŸ¥é“ç½‘ç»œçš„ç¬¦åˆæƒ…å†µã€‚ç»éªŒè¡¨æ˜ï¼Œè¾ƒå¥½çš„æ–¹æ³•æ˜¯å…ˆæ¢æµ‹ä¸€ä¸‹ï¼Œå³ç”±å°åˆ°å¤§é€æ¸å¢å¤§å‘é€çª—å£ï¼Œä¹Ÿå°±æ˜¯ç”±å°åˆ°å¤§é€æ¸å¢å¤§æ‹¥å¡çª—å£æ•°å€¼ã€‚cwndåˆå§‹å€¼ä¸º1ï¼Œæ¯ç»è¿‡ä¸€ä¸ªä¼ æ’­è½®æ¬¡ï¼ŒcwndåŠ å€ã€‚</p>
</li>
<li><p><strong>æ‹¥å¡é¿å…ï¼š</strong> æ‹¥å¡é¿å…ç®—æ³•çš„æ€è·¯æ˜¯è®©æ‹¥å¡çª—å£cwndç¼“æ…¢å¢å¤§ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ”¾çš„cwndåŠ 1.</p>
</li>
<li><p><strong>å¿«é‡ä¼ ä¸å¿«æ¢å¤ï¼š</strong> åœ¨ TCP/IP ä¸­ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆfast retransmit and recoveryï¼ŒFRRï¼‰æ˜¯ä¸€ç§æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œå®ƒèƒ½å¿«é€Ÿæ¢å¤ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚æ²¡æœ‰ FRRï¼Œå¦‚æœæ•°æ®åŒ…ä¸¢å¤±äº†ï¼ŒTCP å°†ä¼šä½¿ç”¨å®šæ—¶å™¨æ¥è¦æ±‚ä¼ è¾“æš‚åœã€‚åœ¨æš‚åœçš„è¿™æ®µæ—¶é—´å†…ï¼Œæ²¡æœ‰æ–°çš„æˆ–å¤åˆ¶çš„æ•°æ®åŒ…è¢«å‘é€ã€‚æœ‰äº† FRRï¼Œå¦‚æœæ¥æ”¶æœºæ¥æ”¶åˆ°ä¸€ä¸ªä¸æŒ‰é¡ºåºçš„æ•°æ®æ®µï¼Œå®ƒä¼šç«‹å³ç»™å‘é€æœºå‘é€ä¸€ä¸ªé‡å¤ç¡®è®¤ã€‚å¦‚æœå‘é€æœºæ¥æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå®ƒä¼šå‡å®šç¡®è®¤ä»¶æŒ‡å‡ºçš„æ•°æ®æ®µä¸¢å¤±äº†ï¼Œå¹¶ç«‹å³é‡ä¼ è¿™äº›ä¸¢å¤±çš„æ•°æ®æ®µã€‚æœ‰äº† FRRï¼Œå°±ä¸ä¼šå› ä¸ºé‡ä¼ æ—¶è¦æ±‚çš„æš‚åœè¢«è€½è¯¯ã€‚ ã€€å½“æœ‰å•ç‹¬çš„æ•°æ®åŒ…ä¸¢å¤±æ—¶ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆFRRï¼‰èƒ½æœ€æœ‰æ•ˆåœ°å·¥ä½œã€‚å½“æœ‰å¤šä¸ªæ•°æ®ä¿¡æ¯åŒ…åœ¨æŸä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´å†…ä¸¢å¤±æ—¶ï¼Œå®ƒåˆ™ä¸èƒ½å¾ˆæœ‰æ•ˆåœ°å·¥ä½œã€‚</p>
</li>
</ul>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://snailclimb.gitee.io/javaguide/#/docs/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C?id=%E5%9B%9B-tcp-%E5%8D%8F%E8%AE%AE%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93" >https://snailclimb.gitee.io/javaguide/#/docs/network/è®¡ç®—æœºç½‘ç»œ?id=å››-tcp-åè®®å¦‚ä½•ä¿è¯å¯é ä¼ è¾“<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
        <tag>ARQåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° HTTPS çš„åŠ å¯†ä¸è®¤è¯è¿‡ç¨‹</title>
    <url>/2021/02/06/1000-003%E7%AE%80%E8%BF%B0%20HTTPS%20%E7%9A%84%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%AE%A4%E8%AF%81%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h1><ul>
<li><p>å…±äº«/å¯¹ç§°å¯†é’¥åŠ å¯†ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨ç›¸åŒçš„å¯†é’¥åŠ å¯†ï¼Œç¼ºé™·ï¼šå‘é€å¯†é’¥æœ‰è¢«çªƒå¬çš„é£é™©ï¼Œä½†ä¸å‘é€ï¼Œå¯¹æ–¹å°±ä¸èƒ½è§£å¯†ã€‚å¦‚æœå¯†é’¥èƒ½å¤Ÿå®‰å…¨å‘é€ï¼Œé‚£ä¹ˆæ•°æ®ä¹Ÿèƒ½å®‰å…¨é€è¾¾ï¼Œå°±æ— éœ€åŠ å¯†ã€‚</p>
</li>
<li><p> å…¬å¼€å¯†é’¥åŠ å¯†ï¼šéå¯¹ç§°åŠ å¯†ï¼Œä¸€æŠŠç§é’¥ï¼Œä¸€æŠŠå…¬é’¥ï¼Œæˆå¯¹ã€‚é¦–å…ˆï¼Œå‘é€å…¬é’¥ç»™åŠ å¯†æ–¹ï¼Œå‘é€å¯†æ–‡ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œå¯¹æ–¹æ”¶åˆ°å¯†æ–‡åï¼Œä½¿ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†ã€‚</p>
</li>
<li><p>æ··åˆåŠ å¯†ï¼šä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼ä¼ é€’å…±äº«å¯†é’¥ï¼Œå†ä½¿ç”¨å…±äº«å¯†é’¥åŠ å¯†ä¼ é€’çš„æ•°æ®</p>
</li>
</ul>
<h1 id="è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦"><a href="#è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦" class="headerlink" title="è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦"></a>è¯ä¹¦çš„æ­£ç¡®æ€§ï¼šCAï¼ˆæ•°å­—è®¤è¯æœºæ„ï¼‰é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦</h1><ul>
<li>æœåŠ¡å™¨æŠŠè‡ªå·±çš„å…¬é’¥ç™»å½•è‡³CAè¿›è¡Œè®¤è¯ï¼›</li>
<li>CAæœºæ„ä½¿ç”¨è‡ªå·±çš„ç§é’¥ç»™æœåŠ¡å™¨çš„å…¬é’¥ç½²æ•°å­—ç­¾åå¹¶é¢å‘å…¬é’¥è¯ä¹¦ï¼›</li>
<li>å®¢æˆ·ç«¯æ‹¿åˆ°æœåŠ¡å™¨çš„å…¬é’¥è¯ä¹¦åï¼Œä½¿ç”¨æ•°å­—è¯ä¹¦è®¤è¯æœºæ„çš„å…¬å¼€å¯†é’¥ï¼ˆäº‹å…ˆæ¤å…¥åˆ°æµè§ˆå™¨å®¢æˆ·ç«¯ï¼‰ï¼Œå‘æ•°å­—è¯ä¹¦è®¤è¯æœºæ„éªŒè¯å…¬é’¥è¯ä¹¦ä¸Šçš„æ•°å­—ç­¾åï¼Œä»¥ç¡®è®¤æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥çš„çœŸå®æ€§ï¼›</li>
<li>ä½¿ç”¨æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥å¯¹æŠ¥æ–‡åŠ å¯†å¹¶å‘é€</li>
</ul>
<h1 id="SSL-TLSæ¡æ‰‹åè®®"><a href="#SSL-TLSæ¡æ‰‹åè®®" class="headerlink" title="SSL/TLSæ¡æ‰‹åè®®"></a>SSL/TLSæ¡æ‰‹åè®®</h1><ul>
<li>å®¢æˆ·ç«¯ç»™å‡ºåè®®ç‰ˆæœ¬å·ï¼Œä¸€ä¸ªéšæœºæ•°ï¼ˆclient randomï¼‰ï¼Œä»¥åŠå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹å¼ï¼›</li>
<li>æœåŠ¡ç«¯ç¡®è®¤åŒæ–¹ä½¿ç”¨çš„åŠ å¯†æ–¹å¼ï¼Œå¹¶ç»™å‡ºæ•°å­—è¯ä¹¦ï¼Œä»¥åŠä¸€ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„éšæœºæ•°ï¼ˆserver randomï¼‰ï¼›</li>
<li>å®¢æˆ·ç«¯ç¡®è®¤è¯ä¹¦æœ‰æ•ˆï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„éšæœºæ•°ï¼ˆpremaster secretï¼‰ï¼Œå¹¶ä½¿ç”¨æ•°å­—è¯ä¹¦çš„å…¬é’¥åŠ å¯†è¿™ä¸ªéšæœºæ•°ï¼Œå‘é€ç»™æœåŠ¡ç«¯ï¼›</li>
<li>æœåŠ¡ç«¯ä½¿ç”¨è‡ªå·±çš„ç§é’¥ï¼Œè·å¾—å®¢æˆ·ç«¯å‘é€çš„éšæœºæ•°ï¼ˆpremaster secretï¼‰;</li>
<li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œæ ¹æ®çº¦å®šçš„åŠ å¯†æ–¹å¼ï¼Œä½¿ç”¨å‰é¢çš„ä¸‰ä¸ªéšæœºæ•°ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è¯å¯†é’¥ï¼ˆsession keyï¼‰,åŠå…±äº«å¯†é’¥ï¼Œç„¶åä½¿ç”¨è¯¥å¯†é’¥åŠ å¯†æ•´ä¸ªæ•°æ®äº¤äº’è¿‡ç¨‹ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
        <tag>SSL/TLS</tag>
      </tags>
  </entry>
  <entry>
    <title>TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</title>
    <url>/2021/02/05/1000-002TCP%20%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="TCP-ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#TCP-ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"></a>TCP ä¸­å¸¸è§çš„æ‹¥å¡æ§åˆ¶ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</h1><h1 id="TCP-Tahoe-Reno"><a href="#TCP-Tahoe-Reno" class="headerlink" title="TCP Tahoe/Reno"></a>TCP Tahoe/Reno</h1><p>æœ€åˆçš„å®ç°ï¼ŒåŒ…æ‹¬æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ä¸¤ä¸ªéƒ¨åˆ†ã€‚åŸºäºé‡ä¼ è¶…æ—¶ï¼ˆretransmission timeout/RTOï¼‰å’Œé‡å¤ç¡®è®¤ä¸ºæ¡ä»¶åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†ä¸¢åŒ…ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼šTahoeç®—æ³•ä¸‹å¦‚æœæ”¶åˆ°ä¸‰æ¬¡é‡å¤ç¡®è®¤ï¼Œå°±è¿›å…¥å¿«é‡ä¼ ç«‹å³é‡å‘ä¸¢å¤±çš„æ•°æ®åŒ…ï¼ŒåŒæ—¶å°†æ…¢å¯åŠ¨é˜ˆå€¼è®¾ç½®ä¸ºå½“å‰æ‹¥å¡çª—å£çš„ä¸€åŠï¼Œå°†æ‹¥å¡çª—å£è®¾ç½®ä¸º1MSSï¼Œè¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ï¼›è€ŒRenoç®—æ³•å¦‚æœæ”¶åˆ°ä¸‰æ¬¡é‡å¤ç¡®è®¤ï¼Œå°±è¿›å…¥å¿«é‡ä¼ ï¼Œä½†ä¸è¿›å…¥æ…¢å¯åŠ¨çŠ¶æ€ï¼Œè€Œæ˜¯ç›´æ¥å°†æ‹¥å¡çª—å£å‡åŠï¼Œè¿›å…¥æ‹¥å¡æ§åˆ¶é˜¶æ®µï¼Œè¿™ç§°ä¸ºâ€œå¿«æ¢å¤â€ã€‚<br>è€ŒTahoeå’ŒRenoç®—æ³•åœ¨å‡ºç°RTOæ—¶çš„æªæ–½ä¸€è‡´ï¼Œéƒ½æ˜¯å°†æ‹¥å¡çª—å£é™ä¸º1ä¸ªMSSï¼Œç„¶åè¿›å…¥æ…¢å¯åŠ¨é˜¶æ®µã€‚</p>
<h1 id="TCP-Vegas"><a href="#TCP-Vegas" class="headerlink" title="TCP Vegas"></a>TCP Vegas</h1><p>TCP Vegasç®—æ³•ç”± Lawrence Brakmo å’Œ Larry L. Peterson åœ¨1994å¹´æå‡ºï¼Œå®ƒå’Œå…¶ä»–æ‹¥å¡æ§åˆ¶ç®—æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºVegasç®—æ³•å¹¶ä¸æ€¥äºä¸¢åŒ…æ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æ‹¥å¡ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®åŒ…å»¶è¿Ÿæ¥åˆ¤æ–­ã€‚Vegasé€šè¿‡RTTï¼ˆroundtrip timeï¼‰æ¥å†³å®šå¢åŠ æˆ–è€…å‡å°æ‹¥å¡çª—å£ï¼Œå®ƒèƒ½å¤Ÿå°†æ‹¥å¡è¦å‘ç”Ÿæ—¶å°±é¿å…æ‹¥å¡ï¼Œè€Œä¸æ˜¯ç­‰åˆ°æ‹¥å¡å·²ç»å‘ç”Ÿä¹‹åå†å‡å°å‘é€é€Ÿåº¦ï¼Œå› æ­¤èƒ½å¤Ÿå‡å°é‡ä¼ å’Œè¶…æ—¶çš„å‡ ç‡ã€‚Vegasç®—æ³•ä¸å…¶ä»–ç®—æ³•ï¼ˆæ¯”å¦‚Renoï¼‰å…±å­˜æ—¶ï¼Œä¼šç”±äºæ¯”å…¶ä»–ç®—æ³•æ›´å…ˆé™ä½å‘é€é€Ÿç‡è€Œå‡ºç°å…¬å¹³æ€§é—®é¢˜ã€‚</p>
<h1 id="TCP-New-Reno"><a href="#TCP-New-Reno" class="headerlink" title="TCP New Reno"></a>TCP New Reno</h1><p> TCP New Renoä¸»è¦æ”¹è¿›äº†TCP Renoä¸­å¿«é€Ÿæ¢å¤é˜¶æ®µçš„é‡ä¼ ã€‚<br>åœ¨Renoçš„å¿«æ¢å¤ä¸­ï¼Œä¸€æ—¦å‡ºç°3æ¬¡é‡å¤ç¡®è®¤ï¼ŒTCPå‘é€æ–¹ä¼šé‡å‘æ•°æ®åŒ…å¹¶è®¾ç½®å®šæ—¶å™¨ç­‰å¾…è¯¥é‡å‘æ•°æ®åŒ…è¢«ç¡®è®¤ã€‚å½“é‡å‘çš„æ•°æ®åŒ…è¢«ç¡®è®¤åï¼Œå°±ç«‹å³é€€å‡ºå¿«é€Ÿæ¢å¤é˜¶æ®µï¼Œè¿›å…¥æ‹¥å¡æ§åˆ¶é˜¶æ®µã€‚ä½†å¦‚æœä¸€æ¬¡æ‹¥å¡ä¸­å‡ºç°å¤šä¸ªä¸¢åŒ…ï¼ŒRenoä¼šè¯¯ä»¥ä¸ºå‘ç”Ÿäº†å¤šæ¬¡æ‹¥å¡è€Œé‡å¤å‡å°æ‹¥å¡çª—å£å¯¼è‡´å‘é€é€Ÿç‡ä¸‹é™ã€‚<br>è€Œåœ¨New Renoçš„å¿«é€Ÿæ¢å¤ä¸­ï¼Œä¸€æ—¦å‡ºç°3æ¬¡é‡å¤ç¡®è®¤ï¼Œä¼šè®°ä¸‹å‡ºç°é‡å¤ç¡®è®¤æ—¶æœªç¡®è®¤çš„æ•°æ®åŒ…çš„æœ€å¤§åºåˆ—å·ï¼Œç„¶åé‡å‘é‡å¤ç¡®è®¤çš„æ•°æ®åŒ…ã€‚å¦‚æœæœ‰å¤šä¸ªæ•°æ®åŒ…ä¸¢å¤±ï¼Œåˆ™ç»§ç»­é‡å‘ä¸¢å¤±çš„æ•°æ®åŒ…ï¼Œç›´åˆ°æœ€å¤§åºåˆ—å·çš„æ•°æ®åŒ…è¢«ç¡®è®¤æ‰æ¨å‡ºå¿«æ¢å¤é˜¶æ®µã€‚<br>New Renoåœ¨ä½é”™è¯¯ç‡æ—¶è¿è¡Œæ•ˆç‡å’Œâ€œé€‰æ‹©ç¡®è®¤â€ï¼ˆSelective ACKnowledgementï¼ŒSACKï¼‰ç›¸å½“ï¼Œåœ¨é«˜é”™è¯¯ç‡ä»ä¼˜äºRenoã€‚</p>
<h1 id="TCP-BIC-CUBIC"><a href="#TCP-BIC-CUBIC" class="headerlink" title="TCP BIC/CUBIC"></a>TCP BIC/CUBIC</h1><p>TCP BICï¼ˆBinary Increase Congestion controlï¼‰æ—¨åœ¨ä¼˜åŒ–é«˜é€Ÿé«˜å»¶è¿Ÿç½‘ç»œï¼ˆå³â€œé•¿è‚¥ç½‘ç»œâ€ï¼ˆlong fat networkï¼ŒLFNï¼‰ï¼‰çš„æ‹¥å¡æ§åˆ¶ï¼Œå…¶æ‹¥å¡çª—å£ç®—æ³•ä½¿ç”¨äºŒåˆ†æœç´¢ç®—æ³•å°è¯•æ‰¾åˆ°èƒ½é•¿æ—¶é—´ä¿æŒæ‹¥å¡çª—å£æœ€å¤§å€¼çš„å€¼ã€‚Linuxå†…æ ¸åœ¨2.6.8è‡³2.6.18ä½¿ç”¨è¯¥ç®—æ³•ä½œä¸ºé»˜è®¤TCPæ‹¥å¡ç®—æ³•ã€‚<br>BICç®—æ³•é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ¥ç¡®å®šæœ€å¤§çš„çª—å£å¤§å°ï¼šå¦‚æœå‘ç”Ÿä¸¢åŒ…æ—¶çª—å£å¤§å°æ˜¯W1ï¼Œé‚£ä¹ˆæœ€å¤§çª—å£Wmaxåº”è¯¥å°äºW1ï¼›è¿™æ—¶å°†çª—å£ç¼©å°åˆ°W2ï¼ˆä¹˜ä»¥ä¸€ä¸ªç³»æ•°ï¼Œä¹Ÿå°±æ˜¯ä¹˜æ³•å‡å°ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥é¢„æœŸW1&gt;Wmax&gt;W2ï¼›è¿™æ—¶å†å°†çª—å£å¤§å°è®¾ç½®ä¸º(W1+W2)2ï¼ˆä¹Ÿå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼‰ï¼Œå³æ¯æ”¶åˆ°ä¸€ä¸ªACKå°±æŠŠçª—å£å¤§å°è®¾ç½®ä¸ºä¸¤ä¸ªç•Œé™çš„ä¸­ç‚¹ã€‚<br>å¦‚æœçª—å£å¤§å°å·²ç»æ— é™é€¼è¿‘W1ï¼Œè¯´æ˜ç½‘ç»œçŠ¶å†µåˆå˜å¥½äº†ï¼ˆå¯ç”¨å¸¦å®½å¢åŠ äº†ï¼‰ï¼Œè¿™æ—¶BICä¼šå°è¯•å¾€ä¸Šå¯»æ‰¾æ›´å¤§çš„Wmaxã€‚è€Œåœ¨å¾€ä¸Šå¯»æ‰¾æ—¶ï¼ŒBICä¼šé•œåƒçš„åˆ©ç”¨é€¼è¿‘å½“å‰Wmaxçš„è·¯å¾„å»æœå¯»ï¼Œä¹Ÿå°±æ˜¯å‰é¢æ˜¯å¦‚ä½•å…ˆå¿«åæ…¢æ…¢åœ°é è¿‘å½“å‰Wmaxçš„ï¼Œåé¢å°±åè¿‡æ¥å…ˆæ…¢åå¿«åœ°å¢é•¿ã€‚<br>è€ŒCUBICåˆ™æ˜¯æ¯”BICæ›´æ¸©å’Œå’Œç³»ç»ŸåŒ–çš„åˆ†æ”¯ç‰ˆæœ¬ï¼Œå…¶ä½¿ç”¨ä¸‰æ¬¡å‡½æ•°ä»£æ›¿äºŒåˆ†ç®—æ³•ä½œä¸ºå…¶æ‹¥å¡çª—å£ç®—æ³•ï¼ˆå› ä¸ºå®é™…ä¸ŠBICçš„æœç´¢æ›²çº¿çœ‹èµ·æ¥å°±åƒä¸€ä¸ªä¸‰æ¬¡å‡½æ•°ï¼Œæ‰€ä»¥å¹²è„†å°±å†™ä¸€ä¸ªä¸‰æ¬¡å‡½æ•°æ¥æ¨¡æ‹Ÿæ›²çº¿ï¼‰ï¼Œå¹¶ä¸”ä½¿ç”¨å‡½æ•°æ‹ç‚¹ä½œä¸ºæ‹¥å¡çª—å£çš„è®¾ç½®å€¼ã€‚Linuxå†…æ ¸åœ¨2.6.19åä½¿ç”¨è¯¥ç®—æ³•ä½œä¸ºé»˜è®¤TCPæ‹¥å¡ç®—æ³•ã€‚</p>
<h1 id="TCP-Westwood-Westwood"><a href="#TCP-Westwood-Westwood" class="headerlink" title="TCP Westwood/Westwood+"></a>TCP Westwood/Westwood+</h1><p>TCP Westwoodæ”¹è‰¯è‡ªNew Renoï¼Œä¸åŒäºä»¥å¾€å…¶ä»–æ‹¥å¡æ§åˆ¶ç®—æ³•ä½¿ç”¨ä¸¢å¤±æ¥æµ‹é‡ï¼Œå…¶é€šè¿‡å¯¹ç¡®è®¤åŒ…æµ‹é‡æ¥ç¡®å®šä¸€ä¸ªâ€œåˆé€‚çš„å‘é€é€Ÿåº¦â€ï¼Œå¹¶ä»¥æ­¤è°ƒæ•´æ‹¥å¡çª—å£å’Œæ…¢å¯åŠ¨é˜ˆå€¼ã€‚Westwoodæ”¹è‰¯äº†æ…¢å¯åŠ¨é˜¶æ®µç®—æ³•ä¸ºâ€œæ•æ·æ¢æµ‹ï¼ˆAgile Probingï¼‰â€ï¼Œå¹¶ä¸”è®¾è®¡äº†ä¸€ç§æŒç»­æ¢æµ‹æ‹¥å¡çª—å£çš„æ–¹æ³•æ¥æ§åˆ¶è¿›å…¥â€œæ•æ·æ¢æµ‹â€ï¼Œä½¿è¿æ¥å°½å¯èƒ½åœ°ä½¿ç”¨æ›´å¤šçš„å¸¦å®½ã€‚Westwood+ä½¿ç”¨æ›´é•¿çš„å¸¦å®½ä¼°è®¡é—´éš”å’Œä¼˜åŒ–çš„æ»¤æ³¢å™¨æ¥ä¿®æ­£Westwoodå¯¹ACKå‹ç¼©åœºæ™¯å¯¹å¸¦å®½ä¼°è®¡è¿‡é«˜çš„é—®é¢˜ã€‚é€šè¿‡ä»¥ä¸Šæ”¹è‰¯ï¼ŒTCP Westwoodç³»åˆ—ç®—æ³•åœ¨æœ‰çº¿ç½‘ç»œå’Œæ— çº¿ç½‘ç»œçš„æ‹¥å¡æ§åˆ¶ä¸Šå–å¾—å¹³è¡¡ï¼Œå°¤å…¶ç ”ç©¶ä¸­é’ˆå¯¹äºæ— çº¿é€šä¿¡ç½‘ç»œä¸Šã€‚</p>
<h1 id="Compound-TCP"><a href="#Compound-TCP" class="headerlink" title="Compound TCP"></a>Compound TCP</h1><p>Compound TCPæ˜¯å¾®è½¯è‡ªå·±å®ç°çš„TCPæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œé€šè¿‡åŒæ—¶ç»´æŠ¤ä¸¤ä¸ªæ‹¥å¡çª—å£ï¼Œæ¥å®ç°åœ¨é•¿è‚¥ç½‘ç»œæœ‰è¾ƒå¥½çš„æ€§èƒ½è€Œåˆä¸æŸå¤±å…¬å¹³æ€§ã€‚CTCPç»´æŠ¤ä¸¤ä¸ªæ‹¥å¡çª—å£ï¼šä¸€ä¸ªå¸¸è§„çš„AIMDï¼ˆè‹±è¯­ï¼šAdditive increase/multiplicative decreaseï¼‰çª—å£ï¼Œä»¥åŠä¸€ä¸ªåŸºäºå»¶è¿Ÿçš„çª—å£ï¼Œæœ€ç»ˆå®é™…ä½¿ç”¨çš„æ»‘åŠ¨çª—å£å¤§å°æ˜¯è¿™ä¸¤ä¸ªçª—å£çš„å’Œã€‚AIMDçª—å£ä¸Renoçš„å¢åŠ æ–¹å¼ç›¸åŒï¼›å¦‚æœå»¶è¿Ÿå°ï¼ŒåŸºäºå»¶è¿Ÿçš„çª—å£å°†è¿…é€Ÿå¢åŠ ä»¥æé«˜ç½‘ç»œçš„åˆ©ç”¨ç‡ã€‚ä¸€æ—¦ç»å†äº†æ’é˜Ÿï¼Œå»¶è¿Ÿçª—å£å°†é€æ¸å‡å°ä»¥è¡¥å¿å¢åŠ çš„AIMDçª—å£ã€‚è¿™æ ·çš„ç›®çš„æ˜¯ä¿æŒä¸¤è€…çš„æ€»å’Œå¤§è‡´æ’å®šï¼Œä½¿ç®—æ³•ä¼°è®¡å¸¦å®½æ—¶å»¶ç§¯çš„è·¯å¾„ã€‚</p>
<h1 id="TCP-PRR"><a href="#TCP-PRR" class="headerlink" title="TCP PRR"></a>TCP PRR</h1><p>TCP PRRï¼ˆTCP Proportional Rate Reduction ï¼‰æ˜¯æ—¨åœ¨æ¢å¤æœŸé—´æé«˜å‘é€æ•°æ®çš„å‡†ç¡®æ€§ã€‚è¯¥ç®—æ³•ç¡®ä¿æ¢å¤åçš„æ‹¥å¡çª—å£å¤§å°å°½å¯èƒ½æ¥è¿‘æ…¢å¯åŠ¨é˜ˆå€¼</p>
<h1 id="TCP-BBR"><a href="#TCP-BBR" class="headerlink" title="TCP BBR"></a>TCP BBR</h1><p>TCP BBRï¼ˆBottleneck Bandwidth and Round-trip propagation timeï¼‰æ˜¯ç”±Googleè®¾è®¡ï¼Œäº2016å¹´å‘å¸ƒçš„æ‹¥å¡ç®—æ³•ã€‚ä»¥å¾€å¤§éƒ¨åˆ†æ‹¥å¡ç®—æ³•æ˜¯åŸºäºä¸¢åŒ…æ¥ä½œä¸ºé™ä½ä¼ è¾“é€Ÿç‡çš„ä¿¡å·ï¼Œè€ŒBBRåˆ™åŸºäºæ¨¡å‹ä¸»åŠ¨æ¢æµ‹ã€‚è¯¥ç®—æ³•ä½¿ç”¨ç½‘ç»œæœ€è¿‘å‡ºç«™æ•°æ®åˆ†ç»„å½“æ—¶çš„æœ€å¤§å¸¦å®½å’Œå¾€è¿”æ—¶é—´æ¥å»ºç«‹ç½‘ç»œçš„æ˜¾å¼æ¨¡å‹ã€‚æ•°æ®åŒ…ä¼ è¾“çš„æ¯ä¸ªç´¯ç§¯æˆ–é€‰æ‹©æ€§ç¡®è®¤ç”¨äºç”Ÿæˆè®°å½•åœ¨æ•°æ®åŒ…ä¼ è¾“è¿‡ç¨‹å’Œç¡®è®¤è¿”å›æœŸé—´çš„æ—¶é—´å†…æ‰€ä¼ é€æ•°æ®é‡çš„é‡‡æ ·ç‡ã€‚è¯¥ç®—æ³•è®¤ä¸ºéšç€ç½‘ç»œæ¥å£æ§åˆ¶å™¨é€æ¸è¿›å…¥åƒå…†é€Ÿåº¦æ—¶ï¼Œåˆ†ç»„ä¸¢å¤±ä¸åº”è¯¥è¢«è®¤ä¸ºæ˜¯è¯†åˆ«æ‹¥å¡çš„ä¸»è¦å†³å®šå› ç´ ï¼Œæ‰€ä»¥åŸºäºæ¨¡å‹çš„æ‹¥å¡æ§åˆ¶ç®—æ³•èƒ½æœ‰æ›´é«˜çš„ååé‡å’Œæ›´ä½çš„å»¶è¿Ÿï¼Œå¯ä»¥ç”¨BBRæ¥æ›¿ä»£å…¶ä»–æµè¡Œçš„æ‹¥å¡ç®—æ³•ï¼Œä¾‹å¦‚CUBICã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://juejin.cn/post/6844904003654926350" >https://juejin.cn/post/6844904003654926350<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€è¿° TCP ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æŒ¥æ‰‹çš„æµç¨‹ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æŒ¥æ‰‹ï¼Ÿ</title>
    <url>/2021/02/07/1000-004%E7%AE%80%E8%BF%B0%20TCP%20%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%BB%A5%E5%8F%8A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E7%9A%84%E6%B5%81%E7%A8%8B%E3%80%82%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%BB%A5%E5%8F%8A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h1><blockquote>
<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡å‰è¦è¿›è¡Œè¿æ¥ï¼Œâ€œ3æ¬¡æ¡æ‰‹â€çš„ä½œç”¨å°±æ˜¯åŒæ–¹éƒ½èƒ½æ˜ç¡®è‡ªå·±å’Œå¯¹æ–¹çš„æ”¶ã€å‘èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p>
</blockquote>
<p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š</strong> å®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p>
<p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š</strong> æœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ä»å®¢æˆ·ç«¯çš„è§†è§’æ¥çœ‹ï¼Œæˆ‘æ¥åˆ°äº†æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æœåŠ¡ç«¯æ¥æ”¶åˆ°äº†æˆ‘åœ¨ç¬¬ä¸€æ¬¡æ¡æ‰‹æ—¶å‘é€çš„ç½‘ç»œåŒ…ï¼Œå¹¶ä¸”æˆåŠŸå‘é€äº†å“åº”æ•°æ®åŒ…ï¼Œè¿™å°±è¯´æ˜ï¼ŒæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘æ”¶åˆ°äº†æœåŠ¡ç«¯çš„å“åº”æ•°æ®åŒ…ï¼Œè¯´æ˜æˆ‘ç¬¬ä¸€æ¬¡å‘é€çš„ç½‘ç»œåŒ…æˆåŠŸåˆ°è¾¾æœåŠ¡ç«¯ï¼Œè¿™æ ·ï¼Œæˆ‘è‡ªå·±çš„å‘é€å’Œæ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p>
<p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š</strong> å®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼ŒæœåŠ¡ç«¯çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ ç¬¬ä¸€ã€äºŒæ¬¡æ¡æ‰‹åï¼ŒæœåŠ¡ç«¯å¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä»¥åŠè‡ªå·±çš„å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚è€Œåœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†å®¢æˆ·ç«¯å¯¹ç¬¬äºŒæ¬¡æ¡æ‰‹ä½œçš„å›åº”ã€‚ä»æœåŠ¡ç«¯çš„è§’åº¦ï¼Œæˆ‘åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶çš„å“åº”æ•°æ®å‘é€å‡ºå»äº†ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘çš„å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚è€Œå®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚</p>
<p>ç»å†äº†ä¸Šé¢çš„ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ç¡®è®¤äº†è‡ªå·±çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¹‹åå°±å¯ä»¥æ­£å¸¸é€šä¿¡äº†ã€‚</p>
<h1 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h1><blockquote>
<p>å…³é—­æ—¶ï¼Œå‘åŒ…é¡ºåºä¸ä¸€å®šã€‚ä¸€èˆ¬æ¥è¯´æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·çš„å…³é—­ï¼Œè¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
</blockquote>
<p><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š</strong> å½“ä¸»æœºAçš„åº”ç”¨ç¨‹åºé€šçŸ¥TCPæ•°æ®å·²ç»å‘é€å®Œæ¯•æ—¶ï¼ŒTCPå‘ä¸»æœºBå‘é€ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼ˆFINè¡¨ç¤ºè‹±æ–‡finishï¼‰ã€‚</p>
<p><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºBæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µä¹‹åï¼Œå¹¶ä¸ç«‹å³ç”¨FINæŠ¥æ–‡æ®µå›å¤ä¸»æœºAï¼Œè€Œæ˜¯å…ˆå‘ä¸»æœºAå‘é€ä¸€ä¸ªç¡®è®¤åºå·ACKï¼ŒåŒæ—¶é€šçŸ¥è‡ªå·±ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼šå¯¹æ–¹è¦æ±‚å…³é—­è¿æ¥ï¼ˆå…ˆå‘é€ACKçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹é‡ä¼ FINæŠ¥æ–‡æ®µï¼‰ã€‚</p>
<p><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºBçš„åº”ç”¨ç¨‹åºå‘Šè¯‰TCPï¼šæˆ‘è¦å½»åº•çš„å…³é—­è¿æ¥ï¼ŒTCPå‘ä¸»æœºAé€ä¸€ä¸ªFINæŠ¥æ–‡æ®µã€‚</p>
<p><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š</strong> ä¸»æœºAæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µåï¼Œå‘ä¸»æœºBå‘é€ä¸€ä¸ªACKè¡¨ç¤ºè¿æ¥å½»åº•é‡Šæ”¾ã€‚</p>
<h1 id="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</h1><p>å› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œâ€ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚</p>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>TCP</tag>
        <tag>ä¸‰æ¬¡æ¡æ‰‹</tag>
        <tag>å››æ¬¡æŒ¥æ‰‹</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP ä¸ HTTPS æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ</title>
    <url>/2021/02/08/1000-005HTTP%20%E4%B8%8E%20HTTPS%20%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="HTTP-ä¸-HTTPS-åŒºåˆ«"><a href="#HTTP-ä¸-HTTPS-åŒºåˆ«" class="headerlink" title="HTTP ä¸ HTTPS åŒºåˆ«"></a>HTTP ä¸ HTTPS åŒºåˆ«</h1><ol>
<li>HTTP æ˜æ–‡ä¼ è¾“ï¼Œæ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼ŒHTTPSï¼ˆSSL+HTTPï¼‰ æ•°æ®ä¼ è¾“è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå¥½ã€‚</li>
<li>ä½¿ç”¨ HTTPS åè®®éœ€è¦åˆ° CAï¼ˆCertificate Authorityï¼Œæ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼‰ ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚è¯ä¹¦é¢å‘æœºæ„å¦‚ï¼šSymantecã€Comodoã€GoDaddy å’Œ GlobalSign ç­‰ã€‚</li>
<li>HTTP é¡µé¢å“åº”é€Ÿåº¦æ¯” HTTPS å¿«ï¼Œä¸»è¦æ˜¯å› ä¸º HTTP ä½¿ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éœ€è¦äº¤æ¢ 3 ä¸ªåŒ…ï¼Œè€Œ HTTPSé™¤äº† TCP çš„ä¸‰ä¸ªåŒ…ï¼Œè¿˜è¦åŠ ä¸Š ssl æ¡æ‰‹éœ€è¦çš„ 9 ä¸ªåŒ…ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯ 12 ä¸ªåŒ…ã€‚</li>
<li>http å’Œ https ä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯ 80ï¼Œåè€…æ˜¯ 443ã€‚</li>
<li>HTTPS å…¶å®å°±æ˜¯å»ºæ„åœ¨ SSL/TLS ä¹‹ä¸Šçš„ HTTP åè®®ï¼Œæ‰€ä»¥ï¼Œè¦æ¯”è¾ƒ HTTPS æ¯” HTTP è¦æ›´è€—è´¹æœåŠ¡å™¨èµ„æºã€‚</li>
</ol>
<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><ol>
<li>HyperText Transfer Protocolï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚</li>
<li>æ˜¯ä¸€ç§ç”¨äºåˆ†å¸ƒå¼ã€åä½œå¼å’Œè¶…åª’ä½“ä¿¡æ¯ç³»ç»Ÿçš„åº”ç”¨å±‚åè®®ã€‚</li>
<li>HTTP é»˜è®¤å·¥ä½œåœ¨ TCP åè®® 80 ç«¯å£ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ http:// æ‰“å¤´çš„éƒ½æ˜¯æ ‡å‡† HTTP æœåŠ¡ã€‚</li>
<li>HTTP åè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œå¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ã€‚</li>
</ol>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><ol>
<li>Hypertext Transfer Protocol Secureï¼šå®‰å…¨çš„è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚</li>
<li>æ˜¯ä¸€ç§é€è¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚</li>
<li>HTTPS ç»ç”± HTTP è¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨ SSL/TLS æ¥åŠ å¯†æ•°æ®åŒ…ã€‚</li>
<li>HTTPS å¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚</li>
<li>HTTPS é»˜è®¤å·¥ä½œåœ¨ TCP åè®®443ç«¯å£</li>
</ol>
<h1 id="HTTPS-å·¥ä½œåŸç†"><a href="#HTTPS-å·¥ä½œåŸç†" class="headerlink" title="HTTPS å·¥ä½œåŸç†"></a>HTTPS å·¥ä½œåŸç†</h1><p><strong>1. å®¢æˆ·ç«¯å‘èµ· HTTPS è¯·æ±‚</strong><br><strong>2. æœåŠ¡ç«¯çš„é…ç½®</strong><br>é‡‡ç”¨ HTTPS åè®®çš„æœåŠ¡å™¨å¿…é¡»è¦æœ‰ä¸€å¥—æ•°å­—è¯ä¹¦ï¼Œå¯ä»¥è‡ªå·±åˆ¶ä½œï¼Œä¹Ÿå¯ä»¥å‘ç»„ç»‡ç”³è¯·ï¼ŒåŒºåˆ«å°±æ˜¯è‡ªå·±é¢å‘çš„è¯ä¹¦éœ€è¦å®¢æˆ·ç«¯éªŒè¯é€šè¿‡ï¼Œæ‰å¯ä»¥ç»§ç»­è®¿é—®ï¼Œè€Œä½¿ç”¨å—ä¿¡ä»»çš„å…¬å¸ç”³è¯·çš„è¯ä¹¦åˆ™ä¸ä¼šå¼¹å‡ºæç¤ºé¡µé¢ã€‚è¿™å¥—è¯ä¹¦å…¶å®å°±æ˜¯ä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥æƒ³è±¡æˆä¸€æŠŠé’¥åŒ™å’Œä¸€ä¸ªé”å¤´ï¼Œåªæ˜¯å…¨ä¸–ç•Œåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œä½ å¯ä»¥æŠŠé”å¤´ç»™åˆ«äººï¼Œåˆ«äººå¯ä»¥ç”¨è¿™ä¸ªé”æŠŠé‡è¦çš„ä¸œè¥¿é”èµ·æ¥ï¼Œç„¶åå‘ç»™ä½ ï¼Œå› ä¸ºåªæœ‰ä½ ä¸€ä¸ªäººæœ‰è¿™æŠŠé’¥åŒ™ï¼Œæ‰€ä»¥åªæœ‰ä½ æ‰èƒ½çœ‹åˆ°è¢«è¿™æŠŠé”é”èµ·æ¥çš„ä¸œè¥¿ã€‚</p>
<p><strong>3. ä¼ é€è¯ä¹¦</strong><br>è¿™ä¸ªè¯ä¹¦å…¶å®å°±æ˜¯å…¬é’¥ï¼Œåªæ˜¯åŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚è¯ä¹¦çš„é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ã€‚</p>
<p><strong>4. å®¢æˆ·ç«¯è§£æè¯ä¹¦</strong><br>è¿™éƒ¨åˆ†å·¥ä½œæ˜¯æœ‰å®¢æˆ·ç«¯çš„TLSæ¥å®Œæˆçš„ï¼Œé¦–å…ˆä¼šéªŒè¯å…¬é’¥æ˜¯å¦æœ‰æ•ˆï¼Œæ¯”å¦‚é¢å‘æœºæ„ï¼Œè¿‡æœŸæ—¶é—´ç­‰ç­‰ï¼Œå¦‚æœå‘ç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¼¹å‡ºä¸€ä¸ªè­¦å‘Šæ¡†ï¼Œæç¤ºè¯ä¹¦å­˜åœ¨é—®é¢˜ã€‚<br>å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±ç”Ÿæˆä¸€ä¸ªéšæœºå€¼ï¼Œç„¶åç”¨è¯ä¹¦å¯¹è¯¥éšæœºå€¼è¿›è¡ŒåŠ å¯†ï¼Œå°±å¥½åƒä¸Šé¢è¯´çš„ï¼ŒæŠŠéšæœºå€¼ç”¨é”å¤´é”èµ·æ¥ï¼Œè¿™æ ·é™¤éæœ‰é’¥åŒ™ï¼Œä¸ç„¶çœ‹ä¸åˆ°è¢«é”ä½çš„å†…å®¹ã€‚</p>
<p><strong>5. ä¼ é€åŠ å¯†ä¿¡æ¯</strong><br>è¿™éƒ¨åˆ†ä¼ é€çš„æ˜¯ç”¨è¯ä¹¦åŠ å¯†åçš„éšæœºå€¼ï¼Œç›®çš„å°±æ˜¯è®©æœåŠ¡ç«¯å¾—åˆ°è¿™ä¸ªéšæœºå€¼ï¼Œä»¥åå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„é€šä¿¡å°±å¯ä»¥é€šè¿‡è¿™ä¸ªéšæœºå€¼æ¥è¿›è¡ŒåŠ å¯†è§£å¯†äº†ã€‚</p>
<p><strong>6. æœåŠ¡ç«¯è§£å¯†ä¿¡æ¯</strong><br>æœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†åï¼Œå¾—åˆ°äº†å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„éšæœºå€¼(ç§é’¥)ï¼Œç„¶åæŠŠå†…å®¹é€šè¿‡è¯¥å€¼è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œæ‰€è°“å¯¹ç§°åŠ å¯†å°±æ˜¯ï¼Œå°†ä¿¡æ¯å’Œç§é’¥é€šè¿‡æŸç§ç®—æ³•æ··åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·é™¤éçŸ¥é“ç§é’¥ï¼Œä¸ç„¶æ— æ³•è·å–å†…å®¹ï¼Œè€Œæ­£å¥½å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½çŸ¥é“è¿™ä¸ªç§é’¥ï¼Œæ‰€ä»¥åªè¦åŠ å¯†ç®—æ³•å¤Ÿå½ªæ‚ï¼Œç§é’¥å¤Ÿå¤æ‚ï¼Œæ•°æ®å°±å¤Ÿå®‰å…¨ã€‚</p>
<p><strong>7. ä¼ è¾“åŠ å¯†åçš„ä¿¡æ¯</strong><br>è¿™éƒ¨åˆ†ä¿¡æ¯æ˜¯æœåŠ¡æ®µç”¨ç§é’¥åŠ å¯†åçš„ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯è¢«è¿˜åŸã€‚</p>
<p><strong>8. å®¢æˆ·ç«¯è§£å¯†ä¿¡æ¯</strong><br>å®¢æˆ·ç«¯ç”¨ä¹‹å‰ç”Ÿæˆçš„ç§é’¥è§£å¯†æœåŠ¡æ®µä¼ è¿‡æ¥çš„ä¿¡æ¯ï¼Œäºæ˜¯è·å–äº†è§£å¯†åçš„å†…å®¹ï¼Œæ•´ä¸ªè¿‡ç¨‹ç¬¬ä¸‰æ–¹å³ä½¿ç›‘å¬åˆ°äº†æ•°æ®ï¼Œä¹ŸæŸæ‰‹æ— ç­–ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://www.runoob.com/w3cnote/http-vs-https.html" >https://www.runoob.com/w3cnote/http-vs-https.html<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-Observableè®¢é˜…ã€ç›‘å¬</title>
    <url>/2020/11/12/200-RxSwift-Observable%E8%AE%A2%E9%98%85%E3%80%81%E7%9B%91%E5%90%AC/</url>
    <content><![CDATA[<h3 id="è®¢é˜…"><a href="#è®¢é˜…" class="headerlink" title="è®¢é˜…"></a>è®¢é˜…</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç›´æ¥è®¢é˜…æ‰€æœ‰çš„</span><br><span class="line">ob.subscribe &#123; event in</span><br><span class="line">    print(&quot;äº‹ä»¶&quot;, event)</span><br><span class="line">&#x2F;&#x2F; é€šè¿‡ event.element å¯ä»¥è·å–å€¼</span><br><span class="line">    print(&quot;å€¼æ˜¯&quot;, event.element)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;åˆ†å¼€è®¢é˜…</span><br><span class="line">ob.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä»…è®¢é˜… onNext</span><br><span class="line">ob.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ç›‘å¬-do"><a href="#ç›‘å¬-do" class="headerlink" title="ç›‘å¬ do"></a>ç›‘å¬ do</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)</span><br><span class="line">ob.do &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; afterNext: &#123; element in</span><br><span class="line">    print(&quot;afterNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; afterError: &#123; error in</span><br><span class="line">    print(&quot;afterError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; afterCompleted: &#123;</span><br><span class="line">    print(&quot;afterCompleted&quot;)</span><br><span class="line">&#125; onSubscribe: &#123;</span><br><span class="line">    print(&quot;onSubscribe&quot;)</span><br><span class="line">&#125; onSubscribed: &#123;</span><br><span class="line">    print(&quot;onSubscribed&quot;)</span><br><span class="line">&#125; onDispose: &#123;</span><br><span class="line">    print(&quot;onDispose&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;&#x2F; è¿™é‡Œæ˜¯è®¢é˜…éƒ¨åˆ†</span><br><span class="line">.subscribe &#123; element in</span><br><span class="line">    print(&quot;onNext&quot;, element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(&quot;onError&quot;, error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125; onDisposed: &#123;</span><br><span class="line">    print(&quot;onDisposed&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-Singleã€Completabã€Maybe</title>
    <url>/2020/11/22/200-RxSwift-Single%E3%80%81Completab%E3%80%81Maybe/</url>
    <content><![CDATA[<h1 id="Single"><a href="#Single" class="headerlink" title="Single"></a>Single</h1><p>åªå‘å‡ºä¸€æ¬¡äº‹ä»¶ï¼Œå¸¸ç”¨äºç½‘ç»œè¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum DataError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getData() -&gt; Single&lt;[String: Any]&gt; &#123;</span><br><span class="line">    return Single&lt;[String: Any]&gt;.create &#123; (single) -&gt; Disposable in</span><br><span class="line">        single(.success([&quot;&quot;: 1]))</span><br><span class="line">&#x2F;&#x2F;                single(.error(DataError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData().subscribe &#123; req in</span><br><span class="line">    switch req &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Completable"><a href="#Completable" class="headerlink" title="Completable"></a>Completable</h1><p>åªä¼šå‘å‡º<code>completed</code>æˆ–<code>error</code> äº‹ä»¶ï¼Œç”¨äºåªå…³å¿ƒæ“ä½œç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func cancel() -&gt; Completable &#123;</span><br><span class="line">    return Completable.create &#123; (comp) -&gt; Disposable in</span><br><span class="line">        comp(.completed)</span><br><span class="line">&#x2F;&#x2F;                comp(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cancel().subscribe &#123; rep in</span><br><span class="line">    switch rep &#123;</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;æˆåŠŸ&quot;)</span><br><span class="line">    case let .error(error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="Maybe"><a href="#Maybe" class="headerlink" title="Maybe"></a>Maybe</h1><p>ä¹Ÿæ˜¯åªèƒ½å‘å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œæ­£å¸¸çš„<code>event</code>æˆ–<code>completed </code>æˆ–<code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">func test() -&gt; Maybe&lt;String&gt; &#123;</span><br><span class="line">    return Maybe&lt;String&gt;.create &#123; (mayBe) -&gt; Disposable in</span><br><span class="line">        mayBe(.success(&quot;æˆåŠŸ&quot;))</span><br><span class="line">&#x2F;&#x2F;                mayBe(.completed)</span><br><span class="line">&#x2F;&#x2F;                mayBe(.error(ObError.error1))</span><br><span class="line">        return Disposables.create &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().subscribe &#123; event in</span><br><span class="line">    switch event &#123;</span><br><span class="line">    case .success(let value):</span><br><span class="line">        print(value)</span><br><span class="line">    case .completed:</span><br><span class="line">        print(&quot;completed&quot;)</span><br><span class="line">    case .error(let error):</span><br><span class="line">        print(error)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-åˆ›å»ºå¯è§‚å¯Ÿåºåˆ—</title>
    <url>/2020/11/11/200-RxSwift-%E5%88%9B%E5%BB%BA%E5%8F%AF%E8%A7%82%E5%AF%9F%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<h3 id="empty-æ–¹æ³•åˆå§‹åŒ–"><a href="#empty-æ–¹æ³•åˆå§‹åŒ–" class="headerlink" title="empty() æ–¹æ³•åˆå§‹åŒ–"></a>empty() æ–¹æ³•åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºäº†ä¸€ä¸ªç©ºå†…å®¹çš„ Observable</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.empty()</span><br><span class="line">&#x2F;&#x2F; å…ˆç®€å•çš„å†™ä¸€ç§è®¢é˜…çš„æ–¹æ³•</span><br><span class="line">ob.subscribe &#123; print(&quot;æ‰§è¡Œäº†&quot;) &#125;</span><br></pre></td></tr></table></figure>

<h3 id="just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"><a href="#just-æ–¹æ³•-ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–" class="headerlink" title="just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–"></a>just() æ–¹æ³• ä¼ å…¥é»˜è®¤å€¼åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™é‡Œä¸ç”¨ç»™å®šæ³›å‹ï¼Œä¼šæ ¹æ® just è‡ªåŠ¨æ¨å€’å‡º</span><br><span class="line">let ob &#x3D; Observable.just(&quot;åˆå§‹åŒ–é»˜è®¤å€¼&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"><a href="#of-æ–¹æ³•-ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹" class="headerlink" title="of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹"></a>of() æ–¹æ³• ä¼ å…¥å¯å˜æ•°é‡çš„å€¼ï¼Œä½†å¿…é¡»æ˜¯åŒä¸€ç±»å‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(&quot;å¯&quot;, &quot;å˜&quot;, &quot;æ•°&quot;, &quot;é‡&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"><a href="#from-ä¼ å…¥æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–"></a>from() ä¼ å…¥æ•°ç»„åˆå§‹åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.from([&quot;æ•°&quot;, &quot;ç»„&quot;])</span><br></pre></td></tr></table></figure>

<h3 id="never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—"><a href="#never-æ°¸è¿œä¸ä¼šå‘å‡º-event-çš„-Observable-åºåˆ—" class="headerlink" title="never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—"></a>never() æ°¸è¿œä¸ä¼šå‘å‡º event çš„ Observable åºåˆ—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Any&gt;.never()</span><br></pre></td></tr></table></figure>

<h3 id="error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"><a href="#error-ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯" class="headerlink" title="error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯"></a>error() ç›´æ¥å‘é€ä¸€ä¸ªé”™è¯¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum OBError: Error &#123;</span><br><span class="line">    case abc</span><br><span class="line">&#125;</span><br><span class="line">let ob &#x3D; Observable&lt;OBError&gt;.error(OBError.abc)</span><br></pre></td></tr></table></figure>

<h3 id="interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"><a href="#interval-æ¯ä¸€ç§’å‘é€ä¸€æ¬¡" class="headerlink" title="interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡"></a>interval() æ¯ä¸€ç§’å‘é€ä¸€æ¬¡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>

<h3 id="timer-å®šæ—¶å‘é€"><a href="#timer-å®šæ—¶å‘é€" class="headerlink" title="timer() å®šæ—¶å‘é€"></a>timer() å®šæ—¶å‘é€</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œä»…å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, scheduler: MainScheduler.instance)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3 ç§’åï¼Œæ¯ 2 ç§’å‘é€ä¸€æ¬¡</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.timer(3, period: 2, scheduler: MainScheduler.asyncInstance)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å»¶è¿Ÿã€è¶…æ—¶ã€delayã€timeout</title>
    <url>/2020/11/20/200-RxSwift-%E5%BB%B6%E8%BF%9F%E3%80%81%E8%B6%85%E6%97%B6%E3%80%81delay%E3%80%81timeout/</url>
    <content><![CDATA[<h1 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h1><p>å¯¹æ‰€æœ‰å‘é€äº‹ä»¶(åŒ…æ‹¬<code>onCompleted</code>)åå»¶è¿Ÿ n ç§’æ¥æ”¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.delay(RxTimeInterval.seconds(2), scheduler: MainScheduler.asyncInstance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€äº†&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="timeout"><a href="#timeout" class="headerlink" title="timeout"></a>timeout</h1><p> è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è§„å®šæ—¶é—´çš„äº‹ä»¶å°†å‘é€  <code>error</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.timeout(RxTimeInterval.seconds(3), scheduler: MainScheduler.instance).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 4) &#123;</span><br><span class="line">    ob.onNext(&quot;è¶…æ—¶å‘é€&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;next(å‘é€1)</span><br><span class="line">&#x2F;&#x2F;error(Sequence timeout.)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-å‘é€ã€è®¢é˜…-Subjectsã€Variables</title>
    <url>/2020/11/15/200-RxSwift-%E5%8F%91%E9%80%81%E3%80%81%E8%AE%A2%E9%98%85-Subjects%E3%80%81Variables/</url>
    <content><![CDATA[<h1 id="Subjects-ä»‹ç»"><a href="#Subjects-ä»‹ç»" class="headerlink" title="Subjects ä»‹ç»"></a>Subjects ä»‹ç»</h1><h3 id="1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"><a href="#1-Subjects-æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable" class="headerlink" title="1. Subjects æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯Observable"></a>1. <code>Subjects</code> æ˜¯è®¢é˜…è€…ï¼Œä¹Ÿæ˜¯<code>Observable</code></h3><ul>
<li>è®¢é˜…è€…ï¼šå®ƒèƒ½åŠ¨æ€çš„æ¥æ”¶æ–°çš„å€¼ã€‚</li>
<li><code>Observable</code>ï¼š å½“<code>Subjects</code>æœ‰äº†æ–°å€¼åä¼šé€šè¿‡<code>Event</code>å°†æ–°å€¼å‘å‡ºç»™ä»–çš„æ‰€æœ‰è®¢é˜…è€…ã€‚</li>
</ul>
<hr>
<h3 id="2-å¸¸ç”¨çš„æ–¹æ³•"><a href="#2-å¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="2. å¸¸ç”¨çš„æ–¹æ³•"></a>2. å¸¸ç”¨çš„æ–¹æ³•</h3><p><code>onNext(:)ï¼š</code>æ˜¯<code> on(.next(:))</code> çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code>.next</code> äº‹ä»¶ã€‚<br><code>onError(:)ï¼š</code>æ˜¯<code>on(.error(:))</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª<code> .error</code> äº‹ä»¶ã€‚<br><code>onCompleted()ï¼š</code>æ˜¯ <code>on(.completed)</code>çš„ç®€ä¾¿å†™æ³•ã€‚è¯¥æ–¹æ³•ç›¸å½“äº <code>subject</code> æ¥æ”¶åˆ°ä¸€ä¸ª <code>.completed</code>äº‹ä»¶ã€‚</p>
<hr>
<h3 id="3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"><a href="#3-Subjects-æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable" class="headerlink" title="3. Subjects æœ‰å››ç§PublishSubjectã€BehaviorSubjectã€ReplaySubjectã€Variable"></a>3. <code>Subjects</code> æœ‰å››ç§<code>PublishSubject</code>ã€<code>BehaviorSubject</code>ã€<code>ReplaySubject</code>ã€<code>Variable</code></h3><h5 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h5><ul>
<li>éƒ½æ˜¯<code>Observable</code>ï¼Œä»–ä»¬çš„è®¢é˜…è€…éƒ½èƒ½æ¥æ”¶ä»–ä»¬å‘å‡ºçš„æ–°çš„<code>Event</code></li>
<li>ç›´åˆ° <code>Subject</code> å‘å‡º <code>.complete</code> æˆ–è€… <code>.error</code> çš„ <code>Event</code> åï¼Œè¯¥ <code>Subject</code> ä¾¿ç»ˆç»“äº†ï¼ŒåŒæ—¶å®ƒä¹Ÿå°±ä¸ä¼šå†å‘å‡º<code>.next</code>äº‹ä»¶ã€‚</li>
<li>å¯¹äºé‚£äº›åœ¨<code> Subject</code> ç»ˆç»“åå†è®¢é˜…ä»–çš„è®¢é˜…è€…ï¼Œä¹Ÿèƒ½æ”¶åˆ° <code>subject</code>å‘å‡ºçš„ä¸€æ¡<code> .complete</code> æˆ–<code> .error</code>çš„<code> event</code>ï¼Œå‘Šè¯‰è¿™ä¸ªæ–°çš„è®¢é˜…è€…å®ƒå·²ç»ç»ˆç»“äº†ã€‚<h5 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h5></li>
<li> <code>PublishSubject</code><br>æœ€æ™®é€šçš„<code>Subject</code>ï¼Œä¸éœ€è¦åˆå§‹å€¼å°±èƒ½åˆå§‹åŒ–ã€‚<br>ä»–çš„è®¢é˜…è€…åªèƒ½æ”¶åˆ°ä»–ä»¬è®¢é˜…åçš„ <code>Event</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹å‰çš„ä¸èƒ½æ¥æ”¶åˆ°&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event.element)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;nil</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;è®¢é˜…ä¹‹åçš„å¯ä»¥æ¥æ”¶åˆ°&quot;)</span><br><span class="line">&#x2F;&#x2F;ç»“æŸ</span><br><span class="line">sub.onCompleted()</span><br><span class="line">&#x2F;&#x2F;&#x2F; ç»“æŸä¹‹åæ·»åŠ çš„è®¢é˜…èƒ½æ”¶åˆ° completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;ç»“æŸåå‘çš„éƒ½æ”¶ä¸åˆ°&quot;)</span><br></pre></td></tr></table></figure></li>
<li><code>BehaviorSubject</code><br>éœ€è¦ä¸€ä¸ªé»˜è®¤å€¼åˆå§‹åŒ–<br>å½“ä¸€ä¸ªè®¢é˜…è€…è®¢é˜…ä¹‹åä¼šç«‹é©¬æ”¶åˆ°ä¸Šä¸€ä¸ª<code>Event</code>ï¼Œä¹‹åå°±æ˜¯æ­£å¸¸æƒ…å†µå‘ä¸€ä¸ªæ”¶ä¸€ä¸ªã€‚<br><code>onCompleted()</code>ä¹‹åçš„è®¢é˜…è€…ä¹Ÿåªèƒ½æ”¶åˆ°<code>Completed</code>ã€‚<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorSubject(value: &quot;é»˜è®¤å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(é»˜è®¤å€¼)</span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br></pre></td></tr></table></figure></li>
<li><code>ReplaySubject</code><br>åˆ›å»ºçš„æ—¶å€™éœ€è¦ä¸€ä¸ªå‚æ•°<code>bufferSize</code>è®¾ç½®è®°å½•ä¸ªæ•°<br>æ–°æ·»åŠ çš„è®¢é˜…ä¼šæ¥æ”¶åˆ°ä¹‹å‰å‘é€çš„ä¸¤ä¸ª  <code>Event</code>ï¼Œå¦‚æœä¸è¶³ä¸¤ä¸ªå°±åªæ¥æ”¶ä¸€ä¸ªã€‚<br>å¦‚æœè¶…è¿‡ä¸¤ä¸ªåªæ¥æ”¶æœ€æ–°çš„ä¸¤ä¸ªã€‚<br>å¦‚æœè®¢é˜…æ—¶å·²ç»ç»“æŸé™¤äº†ä¼šæ¥æ”¶åˆ°æœ€æ–°çš„ä¸¤ä¸ª<code>Event</code>å¤–è¿˜æœ‰ç»“æŸçš„<code>complete </code>æˆ–<code>error </code>ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; ReplaySubject&lt;String&gt;.create(bufferSize: 2)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…2&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€3&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€4&quot;)</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…3&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.onCompleted()</span><br><span class="line">print(&quot;-------&quot;)</span><br><span class="line">&#x2F;&#x2F;&#x2F; ä¸ä»…ä¼šæ”¶åˆ°æœ€åçš„ä¸¤ä¸ª event è¿˜æœ‰ Completed</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;è®¢é˜…4&quot;, event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è®¢é˜…1 next(å‘é€1)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…2 next(å‘é€1)</span><br><span class="line">è®¢é˜…1 next(å‘é€2)</span><br><span class="line">è®¢é˜…2 next(å‘é€2)</span><br><span class="line">è®¢é˜…1 next(å‘é€3)</span><br><span class="line">è®¢é˜…2 next(å‘é€3)</span><br><span class="line">è®¢é˜…1 next(å‘é€4)</span><br><span class="line">è®¢é˜…2 next(å‘é€4)</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…3 next(å‘é€3)</span><br><span class="line">è®¢é˜…3 next(å‘é€4)</span><br><span class="line">è®¢é˜…1 completed</span><br><span class="line">è®¢é˜…2 completed</span><br><span class="line">è®¢é˜…3 completed</span><br><span class="line">-------</span><br><span class="line">è®¢é˜…4 next(å‘é€3)</span><br><span class="line">è®¢é˜…4 next(å‘é€4)</span><br><span class="line">è®¢é˜…4 completed</span><br></pre></td></tr></table></figure>
<ul>
<li><code>BehaviorRelay </code><br>åŸºæœ¬åŒ <code>BehaviorSubject </code>åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯ä¸èƒ½ä¸»åŠ¨è°ƒç”¨<code>onCompleted</code>å’Œ<code>error </code>ï¼Œä¼šåœ¨<code>BehaviorRelay </code>é‡Šæ”¾å‰è°ƒç”¨<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; BehaviorRelay(value: &quot;åˆå§‹å€¼&quot;)</span><br><span class="line"></span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬ä¸€æ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">sub.accept(&quot;æ–°å€¼1&quot;)</span><br><span class="line">sub.subscribe &#123; event in</span><br><span class="line">    print(&quot;ç¬¬äºŒæ¬¡è®¢é˜…&quot;, event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>









</li>
</ul>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-æ’å…¥å‘é€åˆå¹¶å‹ç¼©-startWithã€mergeã€zipignoreElement</title>
    <url>/2020/11/18/200-RxSwift-%E6%8F%92%E5%85%A5%E5%8F%91%E9%80%81%E5%90%88%E5%B9%B6%E5%8E%8B%E7%BC%A9-startWith%E3%80%81merge%E3%80%81zip/</url>
    <content><![CDATA[<h1 id="startWith"><a href="#startWith" class="headerlink" title="startWith"></a>startWith</h1><p>åœ¨è®¢é˜…çš„æ—¶å€™æ’å…¥å‘é€äº‹ä»¶ï¼ŒååŠ å…¥çš„å…ˆå‘é€ã€‚å®Œæˆäº‹ä»¶å‘é€æ—¶ä¸ä¼šæ’å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.startWith(&quot;æ’å…¥1&quot;).startWith(&quot;æ’å…¥2&quot;).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">æ’å…¥2</span><br><span class="line">æ’å…¥1</span><br><span class="line">å‘é€1</span><br></pre></td></tr></table></figure>

<h1 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h1><p>åˆå¹¶æ“ä½œï¼Œå°†å¤šä¸ª <code>Observable</code> åˆå¹¶æˆä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.of(ob1,ob2).merge().subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘1&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘1&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1 å‘2&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2 å‘2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h1><p>å°† n ä¸ª<code>Observable</code>å‹ç¼©æˆä¸€ä¸ªå‘é€äº‹ä»¶ï¼Œå¿…é¡»æ¯ä¸ªéƒ½å‚ä¸çš„å‘é€å®Œæ‰ä¼šå‘é€ä¸€æ¬¡äº‹ä»¶ã€‚å‚ä¸çš„æˆå¯¹å‘é€å®Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">Observable.zip(ob1,ob2).subscribe &#123; (event) in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob1.onNext(&quot;ob1  2&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  3&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  A&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  B&quot;)</span><br><span class="line">ob2.onNext(&quot;ob2  C&quot;)</span><br><span class="line">ob1.onNext(&quot;ob1  1&quot;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  2&quot;, &quot;ob2  A&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  3&quot;, &quot;ob2  B&quot;))</span><br><span class="line">&#x2F;&#x2F;next((&quot;ob1  1&quot;, &quot;ob2  C&quot;))</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-ç»‘å®š-bindã€bindToã€Binder</title>
    <url>/2020/11/13/200-RxSwift-%E7%BB%91%E5%AE%9A-bind%E3%80%81bindTo%E3%80%81Binder/</url>
    <content><![CDATA[<h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">&#x2F;&#x2F; å¯¹å€¼è¿›ä¸€æ­¥å¤„ç†ç„¶åè¿”å›</span><br><span class="line">    &quot;count &quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind &#123; text in</span><br><span class="line">    countLab.text &#x3D; text</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">ob.bind &#123; x in</span><br><span class="line">    print(x)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h3 id="Binder-bindTo"><a href="#Binder-bindTo" class="headerlink" title="Binder + bindTo"></a>Binder + bindTo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">let observer: Binder&lt;String&gt; &#x3D; Binder(countLab) &#123; lab, text in</span><br><span class="line">    lab.text &#x3D; text</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ob.map &#123;</span><br><span class="line">    &quot;c&quot; + &quot;\($0)&quot;</span><br><span class="line">&#125;</span><br><span class="line">.bind(to: observer)</span><br><span class="line">.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è‡ªå®šä¹‰å¯ç»‘å±æ€§</title>
    <url>/2020/11/14/200-RxSwift-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%AF%E7%BB%91%E5%B1%9E%E6%80%A7/</url>
    <content><![CDATA[<h3 id="å¯¹-Reactive-è¿›è¡Œæ‰©å±•"><a href="#å¯¹-Reactive-è¿›è¡Œæ‰©å±•" class="headerlink" title="å¯¹ Reactive è¿›è¡Œæ‰©å±•"></a>å¯¹ Reactive è¿›è¡Œæ‰©å±•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»™ UILabel å¢åŠ äº† fontSize å¯ç»‘å±æ€§</span><br><span class="line">extension Reactive where Base: UILabel &#123;</span><br><span class="line">    public var fontSize: Binder&lt;CGFloat&gt; &#123;</span><br><span class="line">        return Binder(base) &#123; lab, size in</span><br><span class="line">            lab.font &#x3D; UIFont.systemFont(ofSize: size)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨</span><br><span class="line">let ob &#x3D; Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">ob.map &#123; CGFloat($0) + 10.0 &#125;</span><br><span class="line">    .bind(to: lab.rx.fontSize) &#x2F;&#x2F; è¿™é‡Œè¦ä½¿ç”¨ .rx</span><br><span class="line">    .disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤1-mapã€bufferã€filter</title>
    <url>/2020/11/16/200-RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A41-map%E3%80%81buffer%E3%80%81filter/</url>
    <content><![CDATA[<h1 id="map"><a href="#map" class="headerlink" title="map"></a>map</h1><p>åŒ <code>Swift</code>ä¸­ <code>map</code> ç”¨æ³•ä¸€æ ·ï¼Œå¯¹å€¼è¿›è¡Œå¤„ç†å¹¶è¿”å›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line"></span><br><span class="line">sub.map &#123; $0 + &quot;mmmmm&quot; &#125;</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(event.element)</span><br><span class="line">    &#125;</span><br><span class="line">    .disposed(by: disposeBag)</span><br><span class="line">sub.onNext(&quot;a&quot;)</span><br><span class="line">&#x2F;&#x2F;Optional(&quot;ammmmm&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="buffer"><a href="#buffer" class="headerlink" title="buffer"></a>buffer</h1><p><code>timeSpan </code> ç¼“å­˜é—´éš”æ—¶é—´ã€              <code>count </code>ç¼“å­˜ä¸ªæ•° ã€  <code>scheduler </code>çº¿ç¨‹<br>å‘é€ä¸¤ä¸ª<code>event</code>åä¼šè§¦å‘è®¢é˜…ã€‚æ»¡ 2 ç§’ä¹Ÿä¼šè§¦å‘è®¢é˜… ï¼Œå¦‚æœ<code>event</code> æ²¡æœ‰å‘é€ç©ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sub &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">sub.buffer(timeSpan: 2, count: 2, scheduler: MainScheduler.asyncInstance)</span><br><span class="line">    .subscribe &#123; event in</span><br><span class="line">        print(&quot;è®¢é˜…1&quot;, event)</span><br><span class="line">    &#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">sub.onNext(&quot;å‘é€1&quot;)</span><br><span class="line">sub.onNext(&quot;å‘é€2&quot;)</span><br></pre></td></tr></table></figure>

<h1 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h1><p>è¿‡æ»¤ åŒ<code>Swift</code>ä¸­<code>filter</code>ä¸€æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(10, 11, 12, 99, 33, 55, 77)</span><br><span class="line">ob.filter &#123; $0 &gt; 20</span><br><span class="line">&#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è®¢é˜…æ“ä½œè¿‡æ»¤2-distinctUntilChangedã€singleã€elementAtã€ignoreElement</title>
    <url>/2020/11/17/200-RxSwift-%E8%AE%A2%E9%98%85%E6%93%8D%E4%BD%9C%E8%BF%87%E6%BB%A42-distinctUntilChanged%E3%80%81single%E3%80%81elementAt%E3%80%81ignoreElement/</url>
    <content><![CDATA[<h1 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a>distinctUntilChanged</h1><p>è¿‡æ»¤è¿ç»­é‡å¤çš„äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1, 1, 1, 3, 5, 7, 9, 9)</span><br><span class="line">ob.distinctUntilChanged().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#x2F;&#x2F;1 3 5 7 9</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="single"><a href="#single" class="headerlink" title="single"></a>single</h1><p>åªå‘é€ä¸€æ¬¡æ­£å¸¸äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…è¶…è¿‡ 1 ä¸ªä¼šå‘é€ <code>error</code> äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(1,2)</span><br><span class="line">ob.single().subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;,error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        1</span><br><span class="line">&#x2F;&#x2F;        é”™è¯¯ Sequence contains more than one element.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;----- single å¢åŠ è¿‡æ»¤</span><br><span class="line">let ob &#x3D; Observable.of(1, 2, 1)</span><br><span class="line">ob.single &#123; $0 &#x3D;&#x3D; 2 &#125;.subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(&quot;é”™è¯¯&quot;, error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;        2</span><br></pre></td></tr></table></figure>

<h1 id="elementAt"><a href="#elementAt" class="headerlink" title="elementAt"></a>elementAt</h1><p>è·å–æŒ‡å®šä½ç½®çš„äº‹ä»¶ï¼Œ0 å¼€å§‹ã€‚ å¦‚æœæ²¡æœ‰å‘ç”Ÿè¯¥æŒ‡å®šä½ç½®äº‹ä»¶ ä¼šå‘é€é”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.elementAt(2).subscribe(onNext: &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125;, onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">&#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>

<h1 id="ignoreElements"><a href="#ignoreElements" class="headerlink" title="ignoreElements"></a>ignoreElements</h1><p>ä¼šå¿½ç•¥æ‰€æœ‰ä¸»åŠ¨å‘é€çš„<code>event</code>äº‹ä»¶ï¼Œåªä¿ç•™ <code>error</code> äº‹ä»¶å’Œ <code>Completed</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4)</span><br><span class="line">ob.ignoreElements().subscribe &#123;</span><br><span class="line">    print(&quot;Completed&quot;)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>
<h1 id="take"><a href="#take" class="headerlink" title="take"></a>take</h1><p>åªå–å‰ n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3)</span><br><span class="line">ob.take(2).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="takeLast"><a href="#takeLast" class="headerlink" title="takeLast"></a>takeLast</h1><p>åªå–å n ä¸ªäº‹ä»¶ï¼Œæ•°é‡è¾¾åˆ°æˆ–ä¸è¶³ä¼šå‘é€ <code>Completed</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0, 1, 2, 3, 4)</span><br><span class="line">ob.takeLast(12).subscribe &#123; element in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; error in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h1><p>è·³è¿‡å‰ n ä¸ªäº‹ä»¶ï¼Œå‘é€å®Œå‰©ä¸‹çš„äº‹ä»¶åä¼šå‘é€<code>onCompleted</code>ã€‚ä¸è¶³ n ä¸ªç›´æ¥å‘é€<code>onCompleted</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; Observable.of(0,1,2,3,4,5)</span><br><span class="line">ob.skip(4).subscribe &#123; (element) in</span><br><span class="line">    print(element)</span><br><span class="line">&#125; onError: &#123; (error) in</span><br><span class="line">    print(error)</span><br><span class="line">&#125; onCompleted: &#123;</span><br><span class="line">    print(&quot;onCompleted&quot;)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br></pre></td></tr></table></figure>

<h1 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a>debounce</h1><p>å½“ä¸¤ä¸ªäº‹ä»¶çš„å‘é€é—´éš”å¤§äºçº¦å®šæ—¶é—´æ—¶æ‰ä¼šæ”¶åˆ°è¯¥äº‹ä»¶ï¼Œå¸¸ç”¨çš„ä¾‹å­æ˜¯æœç´¢æ—¶å»¶è¿Ÿæœç´¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.debounce(RxTimeInterval.seconds(1), scheduler: MainScheduler.instance).subscribe(onNext: &#123; element in</span><br><span class="line">    print(&quot;æ”¶&quot;, element, CFAbsoluteTimeGetCurrent())</span><br><span class="line">&#125;).disposed(by: disposeBag)</span><br><span class="line">print(&quot;å‘&quot;, &quot;aaa&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">ob.onNext(&quot;aaa&quot;)</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 0.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;bbb&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;bbb&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 1.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ccc&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ccc&quot;)</span><br><span class="line">&#125;</span><br><span class="line">DispatchQueue.global().asyncAfter(deadline: .now() + 3.5) &#123;</span><br><span class="line">    print(&quot;å‘&quot;, &quot;ddd&quot;, CFAbsoluteTimeGetCurrent())</span><br><span class="line">    ob.onNext(&quot;ddd&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å‘ aaa 627481044.719082</span><br><span class="line">&#x2F;&#x2F;å‘ bbb 627481045.241852</span><br><span class="line">&#x2F;&#x2F;å‘ ccc 627481046.231139</span><br><span class="line">&#x2F;&#x2F;æ”¶ ccc 627481047.233378</span><br><span class="line">&#x2F;&#x2F;å‘ ddd 627481048.552644</span><br><span class="line">&#x2F;&#x2F;æ”¶ ddd 627481049.55595</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-è½¬æ•°ç»„ã€ç´¯è®¡æ“ä½œ-toArrayã€reduce</title>
    <url>/2020/11/19/200-RxSwift-%E8%BD%AC%E6%95%B0%E7%BB%84%E3%80%81%E7%B4%AF%E8%AE%A1%E6%93%8D%E4%BD%9C-toArray%E3%80%81reduce/</url>
    <content><![CDATA[<h1 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h1><p>å°†æ‰€æœ‰çš„äº‹ä»¶é›†åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ•°ç»„å‘å‡ºï¼Œéœ€è¦å‘é€<code>onCompleted</code>äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.toArray().subscribe &#123; strArr in</span><br><span class="line">    print(strArr)</span><br><span class="line">&#125; onError: &#123; _ in</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>

<h1 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h1><p>ç´¯è®¡æ“ä½œï¼Œå°†æ¯ä¸€æ¬¡çš„äº‹ä»¶éƒ½ç´¯ç§¯åœ¨ä¸€èµ·åœ¨å‘é€<code>onCompleted</code>æ—¶ç»Ÿä¸€å‘é€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let ob &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">ob.reduce(&quot;åˆå§‹å€¼&quot;, accumulator: +).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob.onNext(&quot;1&quot;)</span><br><span class="line">ob.onNext(&quot;2&quot;)</span><br><span class="line">ob.onNext(&quot;3&quot;)</span><br><span class="line">ob.onCompleted()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>RxSwift-é”™è¯¯å¤„ç†ã€é‡è¯•-catchErrorã€retry</title>
    <url>/2020/11/21/200-RxSwift-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E3%80%81%E9%87%8D%E8%AF%95-catchError%E3%80%81retry/</url>
    <content><![CDATA[<h1 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a>catchError</h1><p>å½“å‘é€äº†<code>error</code>äº‹ä»¶åå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„åºåˆ—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">enum ObError: Error &#123;</span><br><span class="line">    case error1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let ob1 &#x3D; PublishSubject&lt;String&gt;()</span><br><span class="line">let ob2 &#x3D; PublishSubject.of(&quot;A&quot;, &quot;B&quot;)</span><br><span class="line"></span><br><span class="line">ob1.catchError &#123; (error) -&gt; Observable&lt;String&gt; in</span><br><span class="line">    print(error)</span><br><span class="line">    return ob2</span><br><span class="line">&#125;.subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line">ob1.onNext(&quot;111&quot;)</span><br><span class="line">ob1.onError(ObError.error1)</span><br><span class="line">&#x2F;&#x2F;next(111)</span><br><span class="line">&#x2F;&#x2F;error1</span><br><span class="line">&#x2F;&#x2F;next(A)</span><br><span class="line">&#x2F;&#x2F;next(B)</span><br><span class="line">&#x2F;&#x2F;completed</span><br></pre></td></tr></table></figure>
<h1 id="retry"><a href="#retry" class="headerlink" title="retry"></a>retry</h1><p>å½“å‘é€äº†<code>error</code>åå¯ä»¥é‡æ–°å‘é€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var isFail &#x3D; true</span><br><span class="line">let obs &#x3D; Observable&lt;String&gt;.create &#123; (ob) -&gt; Disposable in</span><br><span class="line">    ob.onNext(&quot;æˆåŠŸ1&quot;)</span><br><span class="line">    if isFail &#123;</span><br><span class="line">        ob.onError(ObError.error1)</span><br><span class="line">        isFail &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">    ob.onNext(&quot;é‡è¯•æˆåŠŸ&quot;)</span><br><span class="line">    ob.onCompleted()</span><br><span class="line">    return Disposables.create()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obs.retry(2).subscribe &#123; event in</span><br><span class="line">    print(event)</span><br><span class="line">&#125;.disposed(by: disposeBag)</span><br><span class="line"></span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(æˆåŠŸ1)</span><br><span class="line">next(é‡è¯•æˆåŠŸ)</span><br><span class="line">completed</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Swift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘ã€äºŒå‰æ ‘</title>
    <url>/2021/02/06/2000-%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    <content><![CDATA[<h1 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h1><blockquote>
<p>æ˜¯ä¸€ç§ç»å¸¸ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æ„æ€§è´¨çš„æ•°æ®é›†åˆã€‚æ ‘é‡Œçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªå€¼å’Œä¸€ä¸ªåŒ…å«æ‰€æœ‰å­èŠ‚ç‚¹çš„åˆ—è¡¨ã€‚ä»å›¾çš„è§‚ç‚¹æ¥çœ‹ï¼Œæ ‘ä¹Ÿå¯è§†ä¸ºä¸€ä¸ªæ‹¥æœ‰N ä¸ªèŠ‚ç‚¹å’ŒN-1 æ¡è¾¹çš„ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾</p>
</blockquote>
<h1 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h1><blockquote>
<p>æ˜¯ä¸€ç§æ›´ä¸ºå…¸å‹çš„æ ‘çŠ¶ç»“æ„ã€‚å¦‚å®ƒåå­—æ‰€æè¿°çš„é‚£æ ·ï¼ŒäºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç»“æ„ï¼Œé€šå¸¸å­æ ‘è¢«ç§°ä½œâ€œå·¦å­æ ‘â€å’Œâ€œå³å­æ ‘â€ã€‚</p>
</blockquote>
<h1 id="æ ‘çš„éå†"><a href="#æ ‘çš„éå†" class="headerlink" title="æ ‘çš„éå†"></a>æ ‘çš„éå†</h1><h2 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h2><p>å‰åºéå†é¦–å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ã€‚</p>
<h2 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h2><p>ä¸­åºéå†æ˜¯å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åéå†å³å­æ ‘ã€‚</p>
<h2 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h2><p>ååºéå†æ˜¯å…ˆéå†å·¦å­æ ‘ï¼Œç„¶åéå†å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>äºŒå‰æ ‘</tag>
        <tag>äºŒå‰æ ‘éå†</tag>
      </tags>
  </entry>
  <entry>
    <title>Dart åŸºç¡€ä¹‹ ç±»ã€setã€getã€æ„é€ å‡½æ•°ã€æ–¹æ³•</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%801/</url>
    <content><![CDATA[<h1 id="ç±»ã€å±æ€§ã€æ–¹æ³•"><a href="#ç±»ã€å±æ€§ã€æ–¹æ³•" class="headerlink" title="ç±»ã€å±æ€§ã€æ–¹æ³•"></a>ç±»ã€å±æ€§ã€æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—:$name å¹´é¾„:$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"><a href="#é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨"></a>é»˜è®¤æ„é€ å‡½æ•°ã€åˆå§‹åŒ–åˆ—è¡¨</h1><blockquote>
<p>å­˜åœ¨åˆå§‹åŒ–åˆ—è¡¨å°±ä¸èƒ½å­˜åœ¨é»˜è®¤æ„é€ å‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° ç®€å†™</span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤æ„é€ å‡½æ•° å…¨å†™</span><br><span class="line">  Person(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åˆå§‹åŒ–åˆ—è¡¨</span><br><span class="line">  Person()</span><br><span class="line">      : name &#x3D; &#39;æå&#39;,</span><br><span class="line">        age &#x3D; 22 &#123;</span><br><span class="line">    print(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="åŒ¿åæ„é€ å‡½æ•°"><a href="#åŒ¿åæ„é€ å‡½æ•°" class="headerlink" title="åŒ¿åæ„é€ å‡½æ•°"></a>åŒ¿åæ„é€ å‡½æ•°</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  Person.newPeople() &#123;</span><br><span class="line">    name &#x3D; &quot;æå››&quot;;</span><br><span class="line">    age &#x3D; 33;</span><br><span class="line">  &#125;</span><br><span class="line">&#x2F;&#x2F; å¸¦å‚æ•°åŒ¿åæ„é€ å‡½æ•°</span><br><span class="line">  Person.new2(String name, int age) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"><a href="#ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•" class="headerlink" title="ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•"></a>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•</h1><blockquote>
<p>ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•  è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  var _money &#x3D; 999999;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:set æ–¹æ³•</span><br><span class="line">  set gongzi(int value) &#123;</span><br><span class="line">    _money &#x3D; _money + value;</span><br><span class="line">    _printMoney();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:getæ–¹æ³•</span><br><span class="line">  int get money &#123;</span><br><span class="line">    return _money;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK:   ç§æœ‰æ–¹æ³• è¿™ä¸ªç±»å¿…é¡»å•ç‹¬åœ¨ä¸€ä¸ªæ–‡ä»¶</span><br><span class="line">  _printMoney() &#123;</span><br><span class="line">    print(money);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart é™æ€å±æ€§ã€é™æ€æ–¹æ³•</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%802/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  &#x2F;&#x2F;MARK: é™æ€å±æ€§</span><br><span class="line">  static String name &#x3D; &#39;å¼ ä¸‰&#39;;</span><br><span class="line">  int age &#x3D; 20;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;MARK:é™æ€æ–¹æ³•</span><br><span class="line">  static getInfo() &#123;</span><br><span class="line">    print(name);</span><br><span class="line">    &#x2F;&#x2F; print(age);  é™æ€æ–¹æ³•å†…éƒ¨ä¸èƒ½åé—®éé™æ€å±æ€§</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printInfo() &#123;</span><br><span class="line">    &#x2F;&#x2F; éé™æ€æ–¹æ³• å¯ä»¥è®¿é—®é™æ€æˆå‘˜ä¸éé™æ€ åŒ…æ‹¬æ–¹æ³•</span><br><span class="line">    getInfo();</span><br><span class="line">    print(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ç±»çš„ç»§æ‰¿</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%804/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line"></span><br><span class="line">  Person(this.name, this.age);</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name    ---   $age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  work() &#123;</span><br><span class="line">    print(&quot;object åŠªåŠ›å­¦ä¹ &quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•"></a>ç»§æ‰¿ã€é‡å†™çˆ¶ç±»æ–¹æ³•</h1><blockquote>
<p>ä½¿ç”¨ extends å…³é”®å­—ç»§æ‰¿</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Zp extends Person &#123;</span><br><span class="line">  String sex;</span><br><span class="line">  Zp(String name, int age, [String sex &#x3D; &#39;ç”·&#39;]) : super(name, age) &#123;</span><br><span class="line">    this.sex &#x3D; sex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  faGongZi(&#123;int money&#125;) &#123;</span><br><span class="line">    print(&#39;å‘å·¥èµ„äº† $money&#39;);</span><br><span class="line">    super.work();</span><br><span class="line">    work();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;MARK: é‡å†™çˆ¶ç±»æ–¹æ³•</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;$name ä»Šå¹´ $age  å¾ˆæœ‰é’±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart ï¼Ÿå¯é€‰æ“ä½œ ç±»å‹åˆ¤æ–­ã€ç±»å‹è½¬æ¢ã€è”ç¼€</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%803/</url>
    <content><![CDATA[<h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  String name;</span><br><span class="line">  int age;</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;åå­—ï¼š$name  å¹´é¾„ï¼š$age&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ï¼Ÿ-å¯é€‰æ“ä½œç¬¦"><a href="#ï¼Ÿ-å¯é€‰æ“ä½œç¬¦" class="headerlink" title="ï¼Ÿ å¯é€‰æ“ä½œç¬¦"></a>ï¼Ÿ å¯é€‰æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Person p2;</span><br><span class="line">&#x2F;&#x2F; p2.getInfo();  p2 æœªåˆå§‹åŒ–  å¯ä½¿ç”¨ ï¼Ÿ å¯é€‰ç¬¦æ“ä½œ</span><br><span class="line">&#x2F;&#x2F;MARK:     å¯é€‰æ“ä½œç¬¦</span><br><span class="line">p2?.getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­"><a href="#is-æ“ä½œç¬¦-ç±»å‹åˆ¤æ–­" class="headerlink" title="is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­"></a>is æ“ä½œç¬¦ ç±»å‹åˆ¤æ–­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p1 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F;MARK: is  æ“ä½œç¬¦    ç±»å‹åˆ¤æ–­</span><br><span class="line">  if (p1 is Person) &#123;</span><br><span class="line">    print(&#39;p1 æ˜¯ person&#39;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢"><a href="#as-æ“ä½œç¬¦-ç±»å‹è½¬æ¢" class="headerlink" title="as æ“ä½œç¬¦ ç±»å‹è½¬æ¢"></a>as æ“ä½œç¬¦ ç±»å‹è½¬æ¢</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var p3;</span><br><span class="line">p3 &#x3D; Person();</span><br><span class="line">&#x2F;&#x2F; p3.name;   è™½ç„¶æ²¡æŠ¥é”™  ä½†æ˜¯ä¸çŸ¥é“ p3 ç±»å‹</span><br><span class="line">(p3 as Person).name &#x3D; &#39;ç‹éº»å­&#39;;</span><br><span class="line">(p3 as Person).age &#x3D; 11;</span><br><span class="line">(p3 as Person).getInfo();</span><br></pre></td></tr></table></figure>

<h1 id="è”ç¼€æ“ä½œç¬¦"><a href="#è”ç¼€æ“ä½œç¬¦" class="headerlink" title=".. è”ç¼€æ“ä½œç¬¦"></a>.. è”ç¼€æ“ä½œç¬¦</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; .. è”ç¼€ æ“ä½œç¬¦</span><br><span class="line">  Person p4 &#x3D; Person();</span><br><span class="line">  p4</span><br><span class="line">    ..name &#x3D; &#39;å“ˆå“ˆå“ˆ&#39;</span><br><span class="line">    ..age &#x3D; 40</span><br><span class="line">    ..getInfo();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart å¤šç»§æ‰¿</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%806/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class A &#123;</span><br><span class="line">  printA() &#123;</span><br><span class="line">    print(&#39;AAAAA&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;A run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class B &#123;</span><br><span class="line">  printB() &#123;</span><br><span class="line">    print(&#39;BBBBBBBBB&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; B.bbb()&#123;&#125;    ä½œä¸º minxins çš„ç±»ä¸èƒ½æœ‰æ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;B run&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="mixins-æ··å…¥"><a href="#mixins-æ··å…¥" class="headerlink" title="mixins æ··å…¥"></a>mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;MARK:   mixins çš„å¿…é¡»æ˜¯å•ç‹¬çš„ä¸€ä¸ªobject ç±» Aä¸èƒ½ç»§æ‰¿äºå…¶ä»–ç±»</span><br><span class="line">class Z with A, B &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç»§æ‰¿-mixins-æ··å…¥"><a href="#ç»§æ‰¿-mixins-æ··å…¥" class="headerlink" title="ç»§æ‰¿ + mixins æ··å…¥"></a>ç»§æ‰¿ + mixins æ··å…¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class X extends Person with A, B &#123;</span><br><span class="line">  X.aa() : super.aa();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"><a href="#A-å’Œ-B-å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„" class="headerlink" title="A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„"></a>A å’Œ B å…±æœ‰çš„æ–¹æ³•åç»§æ‰¿çš„è¦†ç›–ä¹‹å‰çš„</h1>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart abstract æŠ½è±¡ç±»</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%805/</url>
    <content><![CDATA[<h1 id="æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£"><a href="#æŠ½è±¡ç±»-ç›¸å½“äºåè®®-æ¥å£" class="headerlink" title="æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£"></a>æŠ½è±¡ç±» ç›¸å½“äºåè®® æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class Animal &#123;</span><br><span class="line">  &#x2F;&#x2F;æŠ½è±¡æ–¹æ³• åªæœ‰æ–¹æ³•å æ²¡æœ‰å…·ä½“å®ç°</span><br><span class="line">  run();</span><br><span class="line"></span><br><span class="line">  String name;</span><br><span class="line"></span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æ™®é€šæ–¹æ³•&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–"><a href="#Animal-an-Animal-æŠ½è±¡ç±»-ä¸èƒ½è¢«å®ä¾‹åŒ–" class="headerlink" title="Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–"></a>Animal an = Animal();   //æŠ½è±¡ç±» ä¸èƒ½è¢«å®ä¾‹åŒ–</h2><h1 id="ç»§æ‰¿æŠ½è±¡ç±»"><a href="#ç»§æ‰¿æŠ½è±¡ç±»" class="headerlink" title="ç»§æ‰¿æŠ½è±¡ç±»"></a>ç»§æ‰¿æŠ½è±¡ç±»</h1><blockquote>
<p>ç»§æ‰¿è‡ªæŠ½è±¡ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•     ç»§æ‰¿è‡ªæŠ½è±¡ç±»çš„å±æ€§ä¸æ˜¯å¿…é¡»å®ç°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ç‹—è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="implements-å£°æ˜ã€with"><a href="#implements-å£°æ˜ã€with" class="headerlink" title="implements å£°æ˜ã€with"></a>implements å£°æ˜ã€with</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Cat implements Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  getInfo() &#123;</span><br><span class="line">    print(&#39;æˆ‘æ˜¯ğŸ±&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°ğŸ±è·‘çš„å¿«&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Duck with Animal &#123;</span><br><span class="line">  @override</span><br><span class="line">  run() &#123;</span><br><span class="line">    print(&#39;å°é¸­è·‘&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart æ³›å‹</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%807/</url>
    <content><![CDATA[<h1 id="æ–¹æ³•æ·»åŠ æ³›å‹"><a href="#æ–¹æ³•æ·»åŠ æ³›å‹" class="headerlink" title="æ–¹æ³•æ·»åŠ æ³›å‹"></a>æ–¹æ³•æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">T getData&lt;T&gt;(T value) &#123;</span><br><span class="line">  return value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç±»æ·»åŠ æ³›å‹"><a href="#ç±»æ·»åŠ æ³›å‹" class="headerlink" title="ç±»æ·»åŠ æ³›å‹"></a>ç±»æ·»åŠ æ³›å‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Pppp&lt;T&gt; &#123;</span><br><span class="line">  var list &#x3D; List&lt;T&gt;();</span><br><span class="line"></span><br><span class="line">  add(T) &#123;</span><br><span class="line">    list.add(T);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  printList() &#123;</span><br><span class="line">    print(list);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ³›å‹-æ¥å£"><a href="#æ³›å‹-æ¥å£" class="headerlink" title="æ³›å‹ æ¥å£"></a>æ³›å‹ æ¥å£</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">abstract class ABC&lt;T&gt; &#123;</span><br><span class="line">  addObject(String key);</span><br><span class="line">  setValue(String key, T value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å®ç°æ³›å‹æ¥å£"><a href="#å®ç°æ³›å‹æ¥å£" class="headerlink" title="å®ç°æ³›å‹æ¥å£"></a>å®ç°æ³›å‹æ¥å£</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Wq&lt;T&gt; implements ABC&lt;T&gt; &#123;</span><br><span class="line">  @override</span><br><span class="line">  addObject(String key) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  setValue(String key, T value) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Dart å¯¼å…¥åº“</title>
    <url>/2020/12/27/300-Dart%E5%9F%BA%E7%A1%808/</url>
    <content><![CDATA[<blockquote>
<p>å¦‚æœåº“å†²çªäº† ä½¿ç”¨ as é‡å‘½å   show å¯¼å…¥éƒ¨åˆ†  hideä¸å¯¼å…¥çš„éƒ¨åˆ†</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#39;XXX.dart&#39; as lib show Person;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Dart</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter å¼€å‘é”™è¯¯ StatefulWidget createState must return a subtype of State</title>
    <url>/2020/12/01/400-Flutter-%E5%BC%80%E5%8F%91%E9%94%99%E8%AF%AF-StatefulWidget-createState-must-return-a-subtype-of-State/</url>
    <content><![CDATA[<p>æŠ¥é”™å¦‚ä¸‹:</p>
<p>StatefulWidget.createState must return a subtype of State</p>
<p>The createState function for XXXX2 returned a state of type _XXXXState, which is not a subtype of State<XXXX2>, violating the contract for createState.</p>
<p>é”™è¯¯åˆ†æï¼š<br>å…¶å®å°±æ˜¯è¿”å›çš„ Widget ç±»å‹ä¸å¯¹ï¼Œ<br>å¤§æ„äº†ï¼Œä¿®æ”¹æ­£ç¡®å³å¯ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-a44eecc36a9468ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é”™è¯¯å›¾"></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter æœ¬åœ°å›¾ç‰‡é…ç½®å·¥å…· FlutterGen</title>
    <url>/2020/12/02/400-Flutter-%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7-FlutterGen/</url>
    <content><![CDATA[<h1 id="github-gt-FlutterGen"><a href="#github-gt-FlutterGen" class="headerlink" title="github -&gt; FlutterGen"></a><a class="link"   href="https://github.com/FlutterGen" >github -&gt; FlutterGen<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ¨èä½¿ç”¨ Homebrew å®‰è£…</span><br><span class="line">$ brew install FlutterGen&#x2F;tap&#x2F;fluttergen</span><br></pre></td></tr></table></figure>

<p>#ä½¿ç”¨å‰å…ˆæŠŠ assets: é…ç½®å¥½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">assets:</span><br><span class="line">    - assets&#x2F;images&#x2F;cat.png</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ fluttergen -c example&#x2F;pubspec.yaml</span><br></pre></td></tr></table></figure>

<h1 id="VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨"><a href="#VSCode-ä¸­-ç»ˆç«¯ä½¿ç”¨" class="headerlink" title="VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨"></a>VSCode ä¸­ ç»ˆç«¯ä½¿ç”¨</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-645686099e6124e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="VSCode"></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter å·¥ç¨‹ä¿®å¤</title>
    <url>/2020/12/04/400-Flutter%E5%B7%A5%E7%A8%8B%E4%BF%AE%E5%A4%8D/</url>
    <content><![CDATA[<p>Flutterå·¥ç¨‹ è¯¯åˆ iOSã€è¯¯åˆ Androidç­‰æ–‡ä»¶æ—¶</p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€ç»ˆç«¯è¾“å…¥</span><br><span class="line">flutter create å·¥ç¨‹ç›®å½•</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter é…ç½®ç›¸å…³</title>
    <url>/2020/12/03/400-Flutter-%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h3 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h3><blockquote>
<p>CocoaPods requires your terminal to be using UTF-8 encoding<br>Consider adding the following to ~/.profile:<br>export LANG=en_US.UTF-8</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ export LANG&#x3D;en_US.UTF-8 ä¿å­˜</span><br><span class="line">3.é‡å¯VSCode</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  export LANG&#x3D;en_US.UTF-8</span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line">5. é‡å¯VSCode</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h3><blockquote>
<p>-bash: flutter: command not found</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.æ‰“å¼€ç»ˆç«¯ è¾“å…¥å‘½ä»¤open -e .bash_profile</span><br><span class="line">2.åœ¨ç»ˆç«¯è¾“å…¥ </span><br><span class="line"></span><br><span class="line">export PUB_HOSTED_URL&#x3D;https:&#x2F;&#x2F;pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL&#x3D;https:&#x2F;&#x2F;storage.flutter-io.cn</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export PATH&#x3D;$&#123;PATH&#125;:&#x2F;Users&#x2F;(ä½ çš„ç”¨æˆ·å)&#x2F;flutter&#x2F;bin</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.ç»ˆç«¯è¾“å…¥ source ~&#x2F;.bash_profileä¿å­˜</span><br><span class="line"></span><br><span class="line">âš ï¸âš ï¸å®‰è£…zshå¯¼è‡´å…¨å±€é…ç½®è¿˜ä¸è¡Œçš„è¯âš ï¸âš ï¸</span><br><span class="line">1. vim ~&#x2F;.zshrc</span><br><span class="line">2. æŒ‰Eè¿›å…¥ç¼–è¾‘ ï¼ˆå¤§å†™Eï¼‰</span><br><span class="line">3. åœ¨æœ€åä¸€è¡ŒåŠ å…¥  </span><br><span class="line">export PATH&#x3D;&#x2F;Users&#x2F;z&#x2F;flutter&#x2F;bin:$PATH</span><br><span class="line">export NO_PROXY&#x3D;localhost,127.0.0.1</span><br><span class="line"></span><br><span class="line">4. æŒ‰ESCé€€å‡ºç¼–è¾‘  é”®å…¥ :wq ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ä¾èµ–åº“æŸ¥è¯¢</title>
    <url>/2020/12/05/400-Flutter%E6%9F%A5%E8%AF%A2%E4%BE%9D%E8%B5%96%E5%BA%93%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<blockquote>
<p>åœ°å€ä¸º <a class="link"   href="https://pub.flutter-io.cn/packages" >https://pub.flutter-io.cn/packages<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<p><a class="link"   href="https://pub.flutter-io.cn/packages" >ç‚¹æˆ‘å‰å¾€æŸ¥è¯¢<i class="fas fa-external-link-alt"></i></a></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ AspectRatioã€Card</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6AspectRatio%E3%80%81Card/</url>
    <content><![CDATA[<h1 id="AspectRatio"><a href="#AspectRatio" class="headerlink" title="AspectRatio"></a>AspectRatio</h1><blockquote>
<p>è®¾ç½®è‡ªèº«æ¯”ä¾‹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AspectRatio(</span><br><span class="line">        aspectRatio: 5.0 &#x2F; 1.0,</span><br><span class="line">        child: Container(</span><br><span class="line">          child: Text(</span><br><span class="line">            &#39;AspectRatio å®½é«˜æ¯” 5&#x2F;1&#39;,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            style: TextStyle(fontSize: 30),</span><br><span class="line">          ),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>

<h1 id="Card"><a href="#Card" class="headerlink" title="Card"></a>Card</h1><blockquote>
<p>å¡ç‰‡æ ·å¼</p>
</blockquote>
<p>```<br>Card(<br>      margin: EdgeInsets.all(10),<br>      shape: RoundedRectangleBorder(<br>          side: BorderSide(color: Colors.orange, width: 2),<br>          borderRadius: BorderRadius.circular(10)),<br>      child: Column(<br>        children: [<br>          AspectRatio(<br>            aspectRatio: 16 / 9,<br>            child: Image.network(<br>              randomImgSrc(),<br>              fit: BoxFit.cover,<br>            ),<br>          ),<br>          Padding(<br>            padding: EdgeInsets.all(12),<br>            child: Row(<br>              crossAxisAlignment: CrossAxisAlignment.baseline,<br>              children: [<br>                ClipOval(<br>                  child: Image.network(randomImgSrc(),<br>                      width: 60, fit: BoxFit.cover),<br>                ),<br>                Container(<br>                  padding: EdgeInsets.fromLTRB(10, 0, 0, 0),<br>                  height: 60,<br>                  child: Stack(<br>                    children: [<br>                      Align(<br>                        alignment: Alignment.topLeft,<br>                        child: Text(<br>                          â€˜æˆ‘æ˜¯ä¸€åªå¤§çŒ«â€™,<br>                          style: TextStyle(<br>                              fontWeight: FontWeight.bold, fontSize: 22),<br>                        ),<br>                      ),<br>                      Align(<br>                        alignment: Alignment.bottomLeft,<br>                        child: Text(â€˜å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦å•¦â€™),<br>                      )<br>                    ],<br>                  ),<br>                ),<br>                CircleAvatar(<br>                  backgroundImage: NetworkImage(randomImgSrc()),<br>                ),<br>              ],<br>            ),<br>          ),<br>        ],<br>      ),<br>    );<br>``</p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ BottomNavigationBar</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6BottomNavigationBar/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int index &#x3D; 0;</span><br><span class="line">var pages &#x3D; [HomePage(), SearchPage(), SetPage()];</span><br><span class="line">var titls &#x3D; [Text(&#39;é¦–é¡µ&#39;), Text(&#39;æœç´¢&#39;), Text(&#39;è®¾ç½®&#39;)];</span><br></pre></td></tr></table></figure>


<h1 id="BottomNavigationBar"><a href="#BottomNavigationBar" class="headerlink" title="BottomNavigationBar"></a>BottomNavigationBar</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">BottomNavigationBar(</span><br><span class="line">        selectedItemColor: Colors.orangeAccent,</span><br><span class="line">        iconSize: 34,</span><br><span class="line">        &#x2F;&#x2F; type: BottomNavigationBarType.shifting,</span><br><span class="line">        unselectedItemColor: Colors.grey,</span><br><span class="line">        &#x2F;&#x2F; showSelectedLabels: false,</span><br><span class="line">        &#x2F;&#x2F; showUnselectedLabels: false,</span><br><span class="line">        currentIndex: index,</span><br><span class="line">        onTap: (index) &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            this.index &#x3D; index;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        items: [</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.home),</span><br><span class="line">              label: &#39;é¦–é¡µ&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.home,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.search),</span><br><span class="line">              label: &#39;æœç´¢&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.search,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">          BottomNavigationBarItem(</span><br><span class="line">              icon: Icon(Icons.settings),</span><br><span class="line">              label: &#39;è®¾ç½®&#39;,</span><br><span class="line">              activeIcon: Icon(</span><br><span class="line">                Icons.settings,</span><br><span class="line">                color: Colors.orangeAccent,</span><br><span class="line">              )),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter UI ç»„ä»¶ Containerã€Text</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6Container%E3%80%81Text/</url>
    <content><![CDATA[<blockquote>
<p>Textã€Container ç»„ä»¶è¾ƒä¸ºåŸºç¡€åŒæ—¶ä½¿ç”¨ä¹Ÿå¾ˆé¢‘ç¹ï¼Œå»ºè®®è‡ªè¡Œå°è£…ä¸€å¥—ä½¿ç”¨ï¼Œé¿å…æ¯æ¬¡éƒ½è¦è¾“å…¥å¾ˆå¤šå±æ€§ã€‚</p>
</blockquote>
<h1 id="Text-æ–‡æœ¬ç»„ä»¶"><a href="#Text-æ–‡æœ¬ç»„ä»¶" class="headerlink" title="Text æ–‡æœ¬ç»„ä»¶"></a>Text æ–‡æœ¬ç»„ä»¶</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Text(</span><br><span class="line">      &#39;æ–‡æœ¬ç»„ä»¶&#39;,</span><br><span class="line">      textAlign: TextAlign.center,</span><br><span class="line">      overflow: TextOverflow.ellipsis,</span><br><span class="line">      maxLines: 2,</span><br><span class="line">      style: TextStyle(</span><br><span class="line">        fontSize: 20,</span><br><span class="line">        color: Colors.orange,</span><br><span class="line">        fontWeight: FontWeight.bold,</span><br><span class="line">        fontStyle: FontStyle.italic,</span><br><span class="line">        decoration: TextDecoration.underline,</span><br><span class="line">        decorationColor: Colors.black,</span><br><span class="line">        decorationStyle: TextDecorationStyle.dotted,</span><br><span class="line">        letterSpacing: 2,</span><br><span class="line">      ),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h1 id="Container-ç»„ä»¶"><a href="#Container-ç»„ä»¶" class="headerlink" title="Container ç»„ä»¶"></a>Container ç»„ä»¶</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">      child: Text(&#39;Container ç»„ä»¶&#39;),</span><br><span class="line">      width: 300,</span><br><span class="line">      height: 300,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        color: Colors.redAccent,</span><br><span class="line">        borderRadius: BorderRadius.all(Radius.circular(18)),</span><br><span class="line">        border: Border.all(</span><br><span class="line">          color: Colors.blueAccent,</span><br><span class="line">          width: 7,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      &#x2F;&#x2F;å†…è¾¹è·</span><br><span class="line">      padding: EdgeInsets.all(18),</span><br><span class="line">      &#x2F;&#x2F;å¤–è¾¹è·</span><br><span class="line">      margin: EdgeInsets.fromLTRB(50, 50, 0, 0),</span><br><span class="line">      &#x2F;&#x2F; transform: Matrix4.translationValues(100, 0, 0),</span><br><span class="line">      transform: Matrix4.rotationZ(0.1),</span><br><span class="line">      alignment: Alignment.bottomLeft,</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ GridView</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6GridView/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">   var widgetList &#x3D; List&lt;Widget&gt;();</span><br><span class="line">   for (var i &#x3D; 0; i &lt; 30; i++) &#123;</span><br><span class="line">     var c &#x3D; Container(</span><br><span class="line">       &#x2F;&#x2F; alignment: Alignment.topCenter,</span><br><span class="line">       color: Colors.green[100],</span><br><span class="line">       child: Column(</span><br><span class="line">         children: [</span><br><span class="line">           Image(image: Assets.images.cat),</span><br><span class="line">           SizedBox(</span><br><span class="line">             height: 12,</span><br><span class="line">           ),</span><br><span class="line">           Text(</span><br><span class="line">             &#39;å“ˆå“ˆå“ˆ $i&#39;,</span><br><span class="line">             textAlign: TextAlign.center,</span><br><span class="line">             style: TextStyle(fontSize: 24),</span><br><span class="line">           ),</span><br><span class="line">         ],</span><br><span class="line">       ),</span><br><span class="line">     );</span><br><span class="line">     widgetList.add(c);</span><br><span class="line">   &#125;</span><br><span class="line">   return widgetList;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h1 id="GridView-count"><a href="#GridView-count" class="headerlink" title="GridView.count"></a>GridView.count</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">      scrollDirection: Axis.vertical,</span><br><span class="line">      padding: EdgeInsets.fromLTRB(16, 20, 16, 20),</span><br><span class="line">      crossAxisCount: 2,</span><br><span class="line">      crossAxisSpacing: 8,</span><br><span class="line">      mainAxisSpacing: 10,</span><br><span class="line">      childAspectRatio: 0.8,</span><br><span class="line">      children: this._getData(),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="GridView-builder"><a href="#GridView-builder" class="headerlink" title="GridView.builder"></a>GridView.builder</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GridView.builder(</span><br><span class="line">      padding: EdgeInsets.all(10),</span><br><span class="line">      itemCount: _getData().length,</span><br><span class="line">      itemBuilder: (context, index) &#123;</span><br><span class="line">        return _getData()[index];</span><br><span class="line">      &#125;,</span><br><span class="line">      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(</span><br><span class="line">        crossAxisCount: 2,</span><br><span class="line">        childAspectRatio: 0.8,</span><br><span class="line">        mainAxisSpacing: 10,</span><br><span class="line">        crossAxisSpacing: 10,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Image</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6Image/</url>
    <content><![CDATA[<h1 id="Image-æœ¬åœ°å›¾ç‰‡"><a href="#Image-æœ¬åœ°å›¾ç‰‡" class="headerlink" title="Image æœ¬åœ°å›¾ç‰‡"></a>Image æœ¬åœ°å›¾ç‰‡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Image(</span><br><span class="line">        image: Assets.images.cat,</span><br><span class="line">      )</span><br></pre></td></tr></table></figure>

<h1 id="Image-network-æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡"><a href="#Image-network-æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡" class="headerlink" title="Image.network æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡"></a>Image.network æ˜¾ç¤ºç½‘ç»œå›¾ç‰‡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Image.network(</span><br><span class="line">      &#39;å›¾ç‰‡url&#39;,</span><br><span class="line">      &#x2F;&#x2F;å……æ»¡ä¸å˜å½¢</span><br><span class="line">      fit: BoxFit.cover,</span><br><span class="line">      alignment: Alignment.center,</span><br><span class="line">      color: Colors.blueGrey,</span><br><span class="line">      colorBlendMode: BlendMode.difference,</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="ç»“åˆ-ClipOval-ç»„ä»¶-å±•ç¤ºåœ†å›¾"><a href="#ç»“åˆ-ClipOval-ç»„ä»¶-å±•ç¤ºåœ†å›¾" class="headerlink" title="ç»“åˆ ClipOval ç»„ä»¶ å±•ç¤ºåœ†å›¾"></a>ç»“åˆ ClipOval ç»„ä»¶ å±•ç¤ºåœ†å›¾</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ClipOval(</span><br><span class="line">      clipBehavior: Clip.antiAliasWithSaveLayer,</span><br><span class="line">      child: Image.network(</span><br><span class="line">        imageUrl,</span><br><span class="line">        &#x2F;&#x2F; width: 200,</span><br><span class="line">        &#x2F;&#x2F; height: 200,ÃŸ</span><br><span class="line">        fit: BoxFit.cover,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="Container-BoxDecoration-å±æ€§ç”Ÿæˆ-åœ†å›¾"><a href="#Container-BoxDecoration-å±æ€§ç”Ÿæˆ-åœ†å›¾" class="headerlink" title="Container BoxDecoration å±æ€§ç”Ÿæˆ åœ†å›¾"></a>Container BoxDecoration å±æ€§ç”Ÿæˆ åœ†å›¾</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">      &#x2F;&#x2F; child: networkImage,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        borderRadius: BorderRadius.circular(150),</span><br><span class="line">        image: DecorationImage(</span><br><span class="line">          image: NetworkImage(imageUrl),</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      width: 300,</span><br><span class="line">      height: 300,</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ ListView</title>
    <url>/2020/12/28/400-Flutter%E7%BB%84%E4%BB%B6ListView/</url>
    <content><![CDATA[<h1 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ListView(</span><br><span class="line">      padding: EdgeInsets.fromLTRB(18, 20, 18, 50),</span><br><span class="line">      &#x2F;&#x2F; æ»‘åŠ¨æ–¹å‘</span><br><span class="line">      scrollDirection: Axis.horizontal,</span><br><span class="line">      children: [</span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Icon(</span><br><span class="line">            Icons.tv,</span><br><span class="line">            color: Colors.amberAccent,</span><br><span class="line">          ),</span><br><span class="line">          trailing: Icon(Icons.ac_unit),</span><br><span class="line">          title: Text(&#39;æ ‡é¢˜&#39;),</span><br><span class="line">          subtitle: Text(&#39;äºŒçº§æ ‡é¢˜å•¦å•¦å•¦å•¦å•¦&#39;),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="ListView-builder"><a href="#ListView-builder" class="headerlink" title="ListView.builder"></a>ListView.builder</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">    List&lt;Widget&gt; widgetList &#x3D; List();</span><br><span class="line">    for (var i &#x3D; 0; i &lt; 30; i++) &#123;</span><br><span class="line">      widgetList.add(Text(</span><br><span class="line">        &#39;$i å“ˆå“ˆå“ˆå“ˆå“ˆ&#39;,</span><br><span class="line">        style: TextStyle(fontSize: 30),</span><br><span class="line">      ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return widgetList;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  ListView.builder(</span><br><span class="line">      itemCount: _getData().length,</span><br><span class="line">      itemBuilder: (BuildContext context, int index) &#123;</span><br><span class="line">        return _getData()[index];</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Rowã€Columnã€Expanded</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Row%E3%80%81Column%E3%80%81Expanded/</url>
    <content><![CDATA[<h1 id="Row"><a href="#Row" class="headerlink" title="Row"></a>Row</h1><blockquote>
<p>æ°´å¹³å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ow(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.spaceEvenly,</span><br><span class="line">        crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">        children: [</span><br><span class="line">          MyIconWidget(Icons.tv, color: Colors.redAccent),</span><br><span class="line">          MyIconWidget(Icons.ac_unit, color: Colors.blueAccent),</span><br><span class="line">          MyIconWidget(Icons.access_alarms, color: Colors.orangeAccent)</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>
<h1 id="Column"><a href="#Column" class="headerlink" title="Column"></a>Column</h1><blockquote>
<p>å‚ç›´å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">        crossAxisAlignment: CrossAxisAlignment.end,</span><br><span class="line">        children: [</span><br><span class="line">          MyIconWidget(Icons.tv, color: Colors.redAccent),</span><br><span class="line">          MyIconWidget(Icons.ac_unit, color: Colors.blueAccent),</span><br><span class="line">          MyIconWidget(Icons.access_alarms, color: Colors.orangeAccent)</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>
<h1 id="Expanded"><a href="#Expanded" class="headerlink" title="Expanded"></a>Expanded</h1><blockquote>
<p>æ‰©å±•ç»„ä»¶ æ¯”ä¾‹åˆ†é…</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Expanded(</span><br><span class="line">          child: MyIconWidget(Icons.games, color: Colors.blueGrey),</span><br><span class="line">        ),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Row(</span><br><span class="line">      children: [</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 2,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.red),</span><br><span class="line">        ),</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 1,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.amberAccent),</span><br><span class="line">        ),</span><br><span class="line">        Expanded(</span><br><span class="line">          flex: 2,</span><br><span class="line">          child: MyIconWidget(Icons.ac_unit, color: Colors.red),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ StatefulWidget</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Sft/</url>
    <content><![CDATA[<h1 id="StatefulWidget"><a href="#StatefulWidget" class="headerlink" title="StatefulWidget"></a>StatefulWidget</h1><blockquote>
<p>åŠ¨æ€ç»„ä»¶ï¼Œé¡µé¢å¯å˜åŒ– ä½¿ç”¨  setState(() {});</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class MyStfWidget extends StatefulWidget implements PageRouterProtocol &#123;</span><br><span class="line">  @override</span><br><span class="line">  final Map arguments;</span><br><span class="line">  MyStfWidget(&#123;Key key, this.arguments&#125;) : super(key: key);</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  _MyStfWidgetState createState() &#x3D;&gt; _MyStfWidgetState(arguments);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class _MyStfWidgetState extends State&lt;MyStfWidget&gt; &#123;</span><br><span class="line">  final Map arguments;</span><br><span class="line"></span><br><span class="line">  List dataList &#x3D; [];</span><br><span class="line"></span><br><span class="line">  _MyStfWidgetState(this.arguments);</span><br><span class="line">  addData() &#123;</span><br><span class="line">    List singleList &#x3D; List();</span><br><span class="line">    for (var i &#x3D; 0; i &lt; 20; i++) &#123;</span><br><span class="line">      singleList.add(&#39;å¢åŠ æ•°æ®äº†&#39;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.dataList.addAll(singleList);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    RaisedButton addBtn &#x3D; RaisedButton(</span><br><span class="line">        child: Text(&#39;åŠ è½½æ›´å¤š&#39;),</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            this.addData();</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    return Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(arguments[&#39;title&#39;] ?? &#39;é»˜è®¤æ ‡é¢˜&#39;),</span><br><span class="line">      ),</span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemCount: dataList.length + 1,</span><br><span class="line">        itemBuilder: (BuildContext context, int index) &#123;</span><br><span class="line">          if (index &#x3D;&#x3D; 0) &#123;</span><br><span class="line">            return addBtn;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          return Text(&#39;data  $index&#39;);</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Stackã€Alignã€Positioned</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Stack%E3%80%81Align%E3%80%81Positioned/</url>
    <content><![CDATA[<h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">      &#x2F;&#x2F; alignment: Alignment(-1,-1),</span><br><span class="line">      alignment: Alignment.bottomLeft,</span><br><span class="line">      children: [</span><br><span class="line">        Container(color: Colors.orange, height: 100),</span><br><span class="line">        Text(&#39;å•ç‹¬ Stack å¸ƒå±€åªæœ‰ä¸¤ä¸ªç»„ä»¶&#39;,</span><br><span class="line">            style: TextStyle(color: Colors.white, fontSize: 20)),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h1 id="Stack-ç»“åˆ-Align-å¸ƒå±€"><a href="#Stack-ç»“åˆ-Align-å¸ƒå±€" class="headerlink" title="Stack ç»“åˆ Align å¸ƒå±€"></a>Stack ç»“åˆ Align å¸ƒå±€</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: Text(</span><br><span class="line">              &#39;Stack ç»“åˆ Align å¸ƒå±€&#39;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 30),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.topLeft,</span><br><span class="line">            child: Icon(Icons.ac_unit),</span><br><span class="line">          ),</span><br><span class="line">          Align(</span><br><span class="line">            alignment: Alignment.bottomLeft,</span><br><span class="line">            child: Icon(Icons.ac_unit),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure>

<h1 id="Stack-ç»“åˆ-Positioned-å¸ƒå±€"><a href="#Stack-ç»“åˆ-Positioned-å¸ƒå±€" class="headerlink" title="Stack ç»“åˆ Positioned å¸ƒå±€"></a>Stack ç»“åˆ Positioned å¸ƒå±€</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Positioned(</span><br><span class="line">              top: 16,</span><br><span class="line">              left: 16,</span><br><span class="line">              child: Text(</span><br><span class="line">                &#39; Stack ç»“åˆ Positioned å¸ƒå±€&#39;,</span><br><span class="line">                style: TextStyle(color: Colors.white, fontSize: 30),</span><br><span class="line">              )),</span><br><span class="line">          Positioned(</span><br><span class="line">              bottom: 10,</span><br><span class="line">              right: 10,</span><br><span class="line">              width: 100,</span><br><span class="line">              height: 100,</span><br><span class="line">              child: Container(</span><br><span class="line">                color: Colors.red,</span><br><span class="line">                child: Icon(Icons.tv),</span><br><span class="line">              ))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter ç»„ä»¶ Wrap</title>
    <url>/2020/12/29/400-Flutter%E7%BB%84%E4%BB%B6Wrap/</url>
    <content><![CDATA[<h1 id="Wrap"><a href="#Wrap" class="headerlink" title="Wrap"></a>Wrap</h1><blockquote>
<p>æµå¼å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Wrap(</span><br><span class="line">      spacing: 10,</span><br><span class="line">      runSpacing: 10,</span><br><span class="line">      alignment: WrapAlignment.end,</span><br><span class="line">      children: [</span><br><span class="line">        MyButton(&#39;å“ˆå“ˆå“ˆ&#39;),</span><br><span class="line">        MyButton(&#39;é˜¿æ–¯é¡¿è¨è¾¾æ’’&#39;),</span><br><span class="line">        MyButton(&#39;è‹æ‰“æ°´è¨è¾¾æ’’&#39;),</span><br><span class="line">        MyButton(&#39;é˜¿ç‘Ÿ&#39;),</span><br><span class="line">        MyButton(&#39;è¨å‘é€ä¸ªäººèˆ’æœèˆ’æœå½“å‘é€çš„&#39;),</span><br><span class="line">        MyButton(&#39;title&#39;),</span><br><span class="line">        &#x2F;&#x2F;MARK:       MaterialButton</span><br><span class="line">        MaterialButton(</span><br><span class="line">          child: Text(&#39;MaterialButton é£æ ¼ btn&#39;),</span><br><span class="line">          shape: CircleBorder(side: BorderSide(width: 100)),</span><br><span class="line">          color: Colors.orange,</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            print(&#39;object&#39;);</span><br><span class="line">          &#125;,</span><br><span class="line">        ),</span><br><span class="line">        &#x2F;&#x2F;MARK:IconButton</span><br><span class="line">        IconButton(icon: Icon(Icons.ac_unit), onPressed: null),</span><br><span class="line">        &#x2F;&#x2F;MARK: FlatButton</span><br><span class="line">        FlatButton(onPressed: () &#123;&#125;, child: Text(&#39;æ‰å¹³åŒ–æŒ‰é’®&#39;)),</span><br><span class="line">        FloatingActionButton(</span><br><span class="line">          onPressed: () &#123;&#125;,</span><br><span class="line">          child: Text(&#39;FloatingActionButton&#39;),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutter è·¯ç”±è·³è½¬</title>
    <url>/2020/12/29/400-Flutter%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬è·¯ç”±è·³è½¬-åŠ ä¼ å€¼"><a href="#åŸºæœ¬è·¯ç”±è·³è½¬-åŠ ä¼ å€¼" class="headerlink" title="åŸºæœ¬è·¯ç”±è·³è½¬  åŠ ä¼ å€¼"></a>åŸºæœ¬è·¯ç”±è·³è½¬  åŠ ä¼ å€¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Navigator.of(context).push(MaterialPageRoute(</span><br><span class="line">                builder: (context) &#x3D;&gt; MyRouterPage(title: &#39;é¦–é¡µ&#39;),</span><br><span class="line">              ));</span><br></pre></td></tr></table></figure>

<h1 id="è¿”å›"><a href="#è¿”å›" class="headerlink" title="è¿”å›"></a>è¿”å›</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>VSCode Flutter é…ç½®</title>
    <url>/2020/11/19/400-VSCode-Flutter-%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><ul>
<li>Dart</li>
<li>Flutter</li>
<li>Flutter Generators</li>
<li>Flutter Widget Snippets</li>
<li>Flutter Helpers</li>
<li>[FF] Flutter Files</li>
<li>Awesome Flutter Snippets<h1 id="è¿è¡Œé…ç½®"><a href="#è¿è¡Œé…ç½®" class="headerlink" title="è¿è¡Œé…ç½®"></a>è¿è¡Œé…ç½®</h1><code>shift + cmd + d</code> æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤äº†<br><img src="https://upload-images.jianshu.io/upload_images/2331323-c47d75e75723b671.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œå›¾"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;debug&quot;, &#x2F;&#x2F;debug æ¨¡å¼</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;profile&quot;, &#x2F;&#x2F;profile æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;profile&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;release&quot;, &#x2F;&#x2F;release æ¨¡å¼ å¯è§£å†³éè”æœºè°ƒè¯•ç™½å±</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;dart&quot;,</span><br><span class="line">            &quot;flutterMode&quot;: &quot;release&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æœç´¢å…³é”®è¯"><a href="#æœç´¢å…³é”®è¯" class="headerlink" title="æœç´¢å…³é”®è¯"></a>æœç´¢å…³é”®è¯</h3><p>VSCode æ’ä»¶<br>VSCode Flutter è°ƒè¯•é…ç½®<br>VSCode Flutter release æ¨¡å¼<br>Flutter release<br>Flutter å¯åŠ¨ç™½å±</p>
<h1 id="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"><a href="#å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼" class="headerlink" title="å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼"></a>å¦‚æœæœ‰å¸®åŠ©æ±‚ç‚¹èµï¼</h1>]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>SnapKité€‚é…åˆ˜æµ·å±ã€å¼‚å½¢å±</title>
    <url>/2020/11/20/500-SnapKit%E9%80%82%E9%85%8D%E5%88%98%E6%B5%B7%E5%B1%8F%E3%80%81%E5%BC%82%E5%BD%A2%E5%B1%8F/</url>
    <content><![CDATA[<h3 id="ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"><a href="#ğŸŒ°-é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»" class="headerlink" title="ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»"></a>ğŸŒ° é€‚é…åº•éƒ¨å®‰å…¨è·ç¦»</h3><p>åœ¨ ViewController çš„ view ä¸­ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make.bottom.equalTo(view.snp.bottomMargin)</span><br><span class="line">make.top.equalTo(view.snp.topMargin)</span><br><span class="line">make.left.equalTo(view.snp.leftMargin)</span><br><span class="line">make.right.equalTo(view.snp.rightMargin)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ view çš„ superView æ²¡æœ‰é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€éœ€è¦é€šè¿‡ä¸Šé¢çš„å†™æ³•é€‚é…<br>å¦‚æœ view çš„ superView å·²ç»é€‚é…ï¼Œé‚£ä¹ˆ view å¸ƒå±€ä¹Ÿä¼šè‡ªåŠ¨é€‚é…</p>
<h3 id="å®Œæ•´ğŸŒ°"><a href="#å®Œæ•´ğŸŒ°" class="headerlink" title="å®Œæ•´ğŸŒ°"></a>å®Œæ•´ğŸŒ°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        let redView &#x3D; UIView()</span><br><span class="line">        redView.backgroundColor &#x3D; .red</span><br><span class="line">        view.addSubview(redView)</span><br><span class="line">        redView.snp.makeConstraints &#123; make in</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.topMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">&#x2F;&#x2F;            make.top.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            make.top.equalTo(view.snp.topMargin)    &#x2F;&#x2F;é€‚é…å¯¼èˆªæ é«˜åº¦</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.leftMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.left.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.left.equalTo(view.snp.leftMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            </span><br><span class="line">&#x2F;&#x2F;            make.rightMargin.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.right.equalToSuperview()   &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">                      make.right.equalTo(view.snp.rightMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView å·²ç»é€‚é…   é‚£ä¹ˆä¸‹è¾¹çš„éƒ½ä¼šé€‚é…</span><br><span class="line">&#x2F;&#x2F;&#x2F; å¦‚æœ redView æ²¡é€‚é…   é‚£ä¹ˆåªæœ‰æœ€åä¸€ä¸ªä¼šé€‚é…</span><br><span class="line">        let blackView &#x3D; UIView()</span><br><span class="line">        blackView.backgroundColor &#x3D; .black</span><br><span class="line">        redView.addSubview(blackView)</span><br><span class="line">        blackView.snp.makeConstraints &#123; make in</span><br><span class="line">            make.left.right.equalToSuperview()</span><br><span class="line">            make.height.equalTo(150)</span><br><span class="line">&#x2F;&#x2F;            make.bottomMargin.equalToSuperview()  &#x2F;&#x2F;é€‚é…</span><br><span class="line">&#x2F;&#x2F;            make.bottom.equalTo(view.snp.bottomMargin)    &#x2F;&#x2F;é€‚é…</span><br><span class="line">            make.bottom.equalToSuperview()    &#x2F;&#x2F;æ²¡é€‚é…</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>SnapKit</tag>
        <tag>é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¸¸ç”¨ä»£ç å—</title>
    <url>/2020/11/21/500-Xcode-%E4%BB%A3%E7%A0%81%E5%9D%97/</url>
    <content><![CDATA[<p>ä¸€äº›å¸¸ç”¨çš„ä»£ç å—</p>
<h1 id="ç‚¹æˆ‘ç›´è¾¾"><a href="#ç‚¹æˆ‘ç›´è¾¾" class="headerlink" title="ç‚¹æˆ‘ç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/CodeSnippets" >ç‚¹æˆ‘ç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="Xcode-è·¯å¾„"><a href="#Xcode-è·¯å¾„" class="headerlink" title="Xcode è·¯å¾„"></a>Xcode è·¯å¾„</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">~&#x2F;Library&#x2F;Developer&#x2F;Xcode&#x2F;UserData&#x2F;CodeSnippets</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€è·¯å¾„å°†æ–‡ä»¶æ‹–è¿›å»<br>ä»£ç å—æ·»åŠ åéœ€è¦é‡å¯ Xcode</p>
<h1 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>lazytab</td>
<td>æ‡’åŠ è½½å±æ€§ tableView</td>
</tr>
<tr>
<td>mk</td>
<td>//MARK: -</td>
</tr>
<tr>
<td>snpmake</td>
<td>SnapKit make å¸ƒå±€</td>
</tr>
<tr>
<td>snpremake</td>
<td>SnapKit remake å¸ƒå±€</td>
</tr>
<tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCCell</td>
<td>UICollectionViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>ssself</td>
<td>guard let  strongSelf = self</td>
</tr>
</tbody></table>
<h1 id="OC"><a href="#OC" class="headerlink" title="OC"></a>OC</h1><table>
<thead>
<tr>
<th>å¿«æ·é”®</th>
<th>æ³¨é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>initBtn</td>
<td>UIButton åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initImgV</td>
<td>UIImageView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initLab</td>
<td>UILable åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initCell</td>
<td>UITableViewCell åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initView</td>
<td>UIView åˆå§‹åŒ–</td>
</tr>
<tr>
<td>initTextF</td>
<td>UITextField åˆå§‹åŒ–</td>
</tr>
<tr>
<td>pna</td>
<td>@property (nonatomic, assign)</td>
</tr>
<tr>
<td>pns</td>
<td>@property (nonatomic, strong)</td>
</tr>
<tr>
<td>pnc</td>
<td>@property (nonatomic, copy)</td>
</tr>
<tr>
<td>td</td>
<td>//TODO:</td>
</tr>
<tr>
<td>mas_make</td>
<td>Masonry make å¸ƒå±€</td>
</tr>
<tr>
<td>mas_remake</td>
<td>Masonry remake å¸ƒå±€</td>
</tr>
<tr>
<td>mas_update</td>
<td>Masonry update å¸ƒå±€</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOS ä»£ç å—</tag>
      </tags>
  </entry>
  <entry>
    <title>Xcode-å¿«æ·é”®ï¼ŒXcode12-æ‰“å¼€æ§åˆ¶å°</title>
    <url>/2020/11/22/500-Xcode-%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%8CXcode12-%E6%89%93%E5%BC%80%E6%8E%A7%E5%88%B6%E5%8F%B0/</url>
    <content><![CDATA[<p> å¿«æ·é”® | è¯´æ˜<br>| - | - |<br>command + shift + y  |  æ‰“å¼€æ§åˆ¶å°<br> command + shift + j | å®šä½å½“å‰æ–‡ä»¶åœ¨å¯¼èˆª<br> command + shift + o | è¾“å…¥åå¿«é€Ÿè·³è½¬åˆ°å¯¹åº”æ–‡ä»¶ï¼Œè¿˜å¯è¾“å…¥æ–¹æ³•å<br> command + shift + L | æ‰“å¼€èµ„æºæ–‡ä»¶<br> command + shift + f | æœç´¢é¡¹ç›®<br> command + shift + k | clean é¡¹ç›®<br> command + shift + t | æ–°å¼€å½“å‰é¡¹ç›®<br> command + shift + , | ç¼–è¾‘scheme<br> command + shift + 2 | æ‰“å¼€å¯ç”¨è°ƒè¯•è®¾å¤‡<br> command + shift + w |  å…³é—­é¡¹ç›®<br> command + r | è¿è¡Œé¡¹ç›®<br> command + b | build é¡¹ç›®<br> command + . | åœæ­¢å½“å‰æ“ä½œ<br> command + 0 | å¼€å¯/å…³é—­ å¯¼èˆª<br> command + 1ï¼Œ2 â€¦ 9 | å®æ“çœ‹ä¸‹æ•ˆæœå§<br> command + f | æœç´¢å½“å‰æ–‡ä»¶<br> command + L |  è·³è½¬åˆ°å¯¹åº”è¡Œ<br> command + w | å…³é—­å½“å‰æ–‡ä»¶<br> command + y | å…³é—­æ–­ç‚¹è°ƒè¯•<br> command + \ | æ‰“æ–­ç‚¹<br> command + , | åå¥½è®¾ç½®<br> command + return | ä»…ç¼–è¾‘å™¨<br>control + 6 | æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„æ–¹æ³•ï¼Œç„¶åå¯ä»¥ç»§ç»­è¾“æ–¹æ³•åå›è½¦è·³è½¬<br>control + 0 | åˆ‡æ¢ Target<br>control + 4 | åˆ‡æ¢é¡¹ç›®<br>command + option + w | ä¿ç•™å½“å‰æ‰“å¼€ï¼Œå…³é—­å…¶ä»–æ–‡ä»¶</p>
<p>æ¬¢è¿è¡¥å……æ¯”è¾ƒå®ç”¨çš„å¿«æ·é”®ï¼</p>
]]></content>
      <categories>
        <category>Xcode</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS OC ä¸ Swift æ··ç¼–</title>
    <url>/2020/12/06/500-iOS-OC-%E4%B8%8E-Swift-%E6%B7%B7%E7%BC%96/</url>
    <content><![CDATA[<h1 id="1-XXX-Bridging-Header-h"><a href="#1-XXX-Bridging-Header-h" class="headerlink" title="1. XXX-Bridging-Header.h"></a>1. XXX-Bridging-Header.h</h1><p>æ–°å»ºSwiftæ–‡ä»¶æ—¶ä¸€èˆ¬ä¼šè‡ªåŠ¨æç¤ºåˆ›å»º<code>XXX-Bridging-Header.h</code>æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰é‚£ä¹ˆè‡ªå·±æ–°å»ºä¸€ä¸ª Header æ–‡ä»¶ï¼Œå‘½åä¸º<code>é¡¹ç›®å-Bridging-Header.h</code><br><img src="https://upload-images.jianshu.io/upload_images/2331323-40814d95e9d8b2f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–°å»º Header æ–‡ä»¶"></p>
<h1 id="2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header"><a href="#2-æ‰“å¼€-Target-gt-BuildSettings-æœç´¢-Header" class="headerlink" title="2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ Header"></a>2. æ‰“å¼€ Target -&gt; BuildSettings æœç´¢ <code>Header</code></h1><h2 id="User-Header-Search-Paths-å¡«å†™-SRCROOT"><a href="#User-Header-Search-Paths-å¡«å†™-SRCROOT" class="headerlink" title="User Header Search Paths å¡«å†™ $(SRCROOT)"></a><code>User Header Search Paths</code> å¡«å†™ <code>$(SRCROOT)</code></h2><h2 id="Enable-Modules-c-and-objective-C-å¡«å†™-YES"><a href="#Enable-Modules-c-and-objective-C-å¡«å†™-YES" class="headerlink" title="Enable Modules(c and objective-C) å¡«å†™ YES"></a><code>Enable Modules(c and objective-C)</code> å¡«å†™ <code>YES</code></h2><h2 id="Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"><a href="#Objective-C-Bridging-Header-å¡«å†™-é¡¹ç›®åç§°-é¡¹ç›®åç§°-Bridging-Header-h-âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„" class="headerlink" title="Objective-C Bridging Header å¡«å†™ é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„"></a><code>Objective-C Bridging Header</code> å¡«å†™ <code>é¡¹ç›®åç§°/é¡¹ç›®åç§°-Bridging-Header.h</code> âš ï¸è¿™é‡Œæ˜¯ä¸ªè·¯å¾„</h2><h2 id="Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚"><a href="#Objective-C-Generated-Interface-Header-Name-å¡«å†™-é¡¹ç›®åç§°-Swift-h-è¿™é‡Œæ˜¯-OC-å¼•ç”¨-Swift-éœ€è¦ç”¨åˆ°çš„ã€‚" class="headerlink" title="Objective-C Generated Interface Header Name å¡«å†™ é¡¹ç›®åç§°-Swift.h è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚"></a><code>Objective-C Generated Interface Header Name</code> å¡«å†™ <code>é¡¹ç›®åç§°-Swift.h</code> è¿™é‡Œæ˜¯ OC å¼•ç”¨ Swift éœ€è¦ç”¨åˆ°çš„ã€‚</h2><p><img src="https://upload-images.jianshu.io/upload_images/2331323-c91b49763e023f54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BuildSettings éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"></p>
<h1 id="3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"><a href="#3-pod-éœ€è¦ä¿®æ”¹çš„åœ°æ–¹" class="headerlink" title="3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹"></a>3. pod éœ€è¦ä¿®æ”¹çš„åœ°æ–¹</h1><p>Podfile å¢åŠ  <code>use_frameworks!</code> åé‡æ–° <code>pod install</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">target&#39;XXXXX&#39; do</span><br><span class="line">use_frameworks!</span><br></pre></td></tr></table></figure>
<p><strong>âš ï¸å¹¶æŠŠæ‰€æœ‰ <code>pod</code> å¯¼å…¥çš„åº“ ä½¿ç”¨ <code>&lt;&gt;</code> å¯¼å…¥ è€Œä¸æ˜¯<code>&quot;&quot;</code> ä¾‹å¦‚<code>#import &lt;AFNetworking.h&gt;</code></strong></p>
<blockquote>
<p>âš ï¸ç¬¬ä¸‰åº“æŠ¥é”™å¤§å¤šéƒ½æ˜¯å¯¼å…¥æ–¹å¼ä¸å¯¹å¼•èµ·çš„âš ï¸</p>
</blockquote>
<h1 id="4-OC-å¼•ç”¨-Swift"><a href="#4-OC-å¼•ç”¨-Swift" class="headerlink" title="4. OC å¼•ç”¨ Swift"></a>4. OC å¼•ç”¨ Swift</h1><p>åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ <code>#import &quot;é¡¹ç›®å-Swift.h&quot;</code> ç„¶ååœ¨éœ€è¦è¢«å¼•ç”¨çš„å±æ€§ã€æ–¹æ³•å‰å¢åŠ  <code>@objc</code><br>âš ï¸ <code> é¡¹ç›®å-Swift.h è¿™ä¸ªæ˜¯éšè—æ–‡ä»¶çœ‹ä¸åˆ°</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class XXXViewController: UIViewController &#123;</span><br><span class="line"></span><br><span class="line">    @objc var name:String &#x3D; &quot;&quot;</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">    &#125;  </span><br><span class="line">    @objc func data()  &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="5-Swift-å¼•ç”¨-OC"><a href="#5-Swift-å¼•ç”¨-OC" class="headerlink" title="5. Swift å¼•ç”¨ OC"></a>5. Swift å¼•ç”¨ OC</h1><p>æŠŠéœ€è¦å¼•ç”¨çš„æ–‡ä»¶å¯¼å…¥åˆ° <code>é¡¹ç›®å-Bridging-Header.h</code> ï¼Œå³å¯åœ¨ Swift ä¸­å¼•ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSæ··ç¼–</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</title>
    <url>/2020/12/02/500-iOS-Runtime/</url>
    <content><![CDATA[<h1 id="è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º"><a href="#è§£å†³å¯¼å…¥-objc-Runtime-h-å’Œ-objc-message-h-å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º-Runtime-ä»£ç ä¸æç¤º" class="headerlink" title="è§£å†³å¯¼å…¥ objc/Runtime.h å’Œ objc/message.h å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º"></a>è§£å†³å¯¼å…¥ <code>objc/Runtime.h</code> å’Œ <code>objc/message.h</code> å¤´æ–‡ä»¶åï¼Œæ•²å‡»ä»£ç ä¸æç¤º / Runtime ä»£ç ä¸æç¤º</h1><p>Build Settings æœç´¢ <code>objc_msg</code><br><img src="https://upload-images.jianshu.io/upload_images/2331323-d1f64b02dd132e27.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Build Settings ä¿®æ”¹"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Runtime</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS Widget ä¸æ˜¾ç¤ºæ— æ³•æ·»åŠ ã€iOS Widget åŠ è½½ç½‘ç»œå›¾ç‰‡</title>
    <url>/2020/12/07/500-iOS-Widget-%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%97%A0%E6%B3%95%E6%B7%BB%E5%8A%A0-%E3%80%81iOS-Widget-%E5%8A%A0%E8%BD%BD%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87/</url>
    <content><![CDATA[<h3 id="Intent-Widget-å¼€å‘"><a href="#Intent-Widget-å¼€å‘" class="headerlink" title="Intent Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Static-Widget-å¼€å‘"><a href="#Static-Widget-å¼€å‘" class="headerlink" title="Static Widget å¼€å‘"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >Static Widget å¼€å‘<i class="fas fa-external-link-alt"></i></a></h3><h3 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"><a href="#Widget-åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°" class="headerlink" title="Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°"></a>Widget åœ¨æ·»åŠ æ—¶æ‰¾ä¸åˆ°</h1><p> å‡ºç°è¿™ç§æƒ…å†µï¼Œå¯èƒ½æ˜¯åªé…ç½®äº†å¯ç¼–è¾‘çš„ <code>Widget</code>ã€‚<br>å¯¼è‡´<code>NSExtensionPointIdentifier</code>åªæœ‰è¿™ä¸€ç§ç±»å‹ <code>com.apple.intents-service</code> ä¼šè¢«è¯†åˆ«ä¸º Siri æ‰©å±•ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>å†æ·»åŠ ä¸€ä¸ªä¸å¯ç¼–è¾‘çš„ <code>Widget</code> å³å¯ã€‚ä¸éœ€è¦å±•ç¤ºå‡ºï¼Œåœ¨ <code>@main</code>æ–¹æ³•é‡Œä¸æ·»åŠ å°±å¥½ã€‚<br>ç¡®å®šæ–°æ·»åŠ çš„<code>NSExtensionPointIdentifier</code>ç±»å‹ä¸º <code>com.apple.widgetkit-extension</code> ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-7fe44d27ed6af214.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="plist"></p>
<hr>
<h1 id="Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"><a href="#Widget-æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥" class="headerlink" title="Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥"></a>Widget æ˜¯ä¸èƒ½åšåŠ¨ç”»ä¹Ÿä¸èƒ½å¼‚æ­¥åˆ·æ–°çš„ï¼Œæ‰€ä»¥å›¾ç‰‡åŠ è½½å¿…é¡»åŒæ­¥</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; åŒæ­¥ä¸‹è½½å›¾ç‰‡ï¼ŒWidget ä¸èƒ½å¼‚æ­¥åˆ·æ–°</span><br><span class="line"></span><br><span class="line">funcgetImage(_imgUrlString:String) -&gt;UIImage? &#123;</span><br><span class="line"></span><br><span class="line"> guardletdata &#x3D;try?Data(contentsOf:URL(string: imgUrlString)!)else&#123;</span><br><span class="line"></span><br><span class="line">        print(&quot;å›¾ç‰‡ä¸‹è½½å¤±è´¥&quot;)</span><br><span class="line"></span><br><span class="line"> returnnil&#125;</span><br><span class="line"></span><br><span class="line">    print(&quot;å›¾ç‰‡ä¸‹è½½æˆåŠŸ&quot;)</span><br><span class="line"></span><br><span class="line"> returnUIImage(data: data)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">Image(uiImage:getImage(entry.imageUrlStr) ??UIImage(named:&quot;aaaa&quot;)!)</span><br><span class="line"></span><br><span class="line">                        .resizable()</span><br><span class="line"></span><br><span class="line">                        .frame(width:60,</span><br><span class="line"></span><br><span class="line">                               height:60,</span><br><span class="line"></span><br><span class="line">                               alignment: .center)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>iOSå°ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>WKWebView åŠ è½½ html</title>
    <url>/2020/12/17/500-iOS-WKWebView-loadHTMLString-%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87-%E4%B8%BA%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ä¸»è¦æ˜¯é’ˆå¯¹åå°è¿”å›æ•°æ®æ˜¯ html æ ‡ç­¾çš„æ•°æ®åŠ è½½ã€‚å¼‚æ­¥åŠ è½½ html æ ‡ç­¾å†…çš„ img æ ‡ç­¾ï¼Œç»™ img æ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</p>
</blockquote>
<h1 id="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"><a href="#ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹" class="headerlink" title="ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹"></a>ä¾‹å¦‚è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  ä¸€ã€ã€Šæœ›å¤©é—¨å±±ã€‹ ä½œè€…ï¼šå”ä»£æç™½ 1ã€åŸæ–‡</span><br><span class="line">  å¤©é—¨ä¸­æ–­æ¥šæ±Ÿå¼€ï¼Œç¢§æ°´ä¸œæµè‡³æ­¤å›ã€‚ä¸¤å²¸é’å±±ç›¸å¯¹å‡ºï¼Œå­¤å¸†ä¸€baiç‰‡æ—¥è¾¹æ¥ã€‚ 2ã€è¯‘æ–‡</span><br><span class="line">  å¤©é—¨å±±ä»ä¸­é—´æ–­è£‚æ˜¯æ¥šæ±ŸæŠŠå®ƒå†²å¼€ï¼Œç¢§æ°´å‘ä¸œæµ©ç„¶å¥”æµåˆ°è¿™é‡ŒæŠ˜å›ã€‚</span><br><span class="line">  ä¸¤å²¸é«˜è€¸çš„é’å±±éš”ç€é•¿æ±Ÿç›¸å³™è€Œç«‹ï¼Œæ±Ÿé¢ä¸Šä¸€å¶å­¤èˆŸåƒä»æ—¥è¾¹é©¶æ¥ã€‚</span><br><span class="line">  &lt;img</span><br><span class="line">    src&#x3D;&quot;https:&#x2F;&#x2F;wx2.sinaimg.cn&#x2F;large&#x2F;006CHHsBly1gkxrs7785ej31402eoe84.jpg&quot;</span><br><span class="line">  &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line"></span><br><span class="line">å®Œæ•´çš„ html æ ‡ç­¾æ•°æ®</span><br></pre></td></tr></table></figure>
<p> è¿™äº›æ•°æ®ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨äº†å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘çš„å†…å®¹ï¼Œè€Œä¸”å„ç§æ ‡ç­¾æ ·å¼éƒ½æœ‰å¯èƒ½ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ WKWebView æ¥åŠ è½½ï¼<br> ä½†æ˜¯å¦‚æœå†…å®¹å«æœ‰ img æ ‡ç­¾çš„è¯å°±ä¼šç­‰å¾…æ‰€æœ‰çš„å›¾ç‰‡åŠ è½½å®Œæ‰ä¼šå±•ç¤ºå‡ºæ•´ä½“çš„æ ·å¼ï¼Œè¿™æ ·æ¯”è¾ƒå½±å“ä½“éªŒã€‚<br> æ‰€ä»¥åº”è¯¥è€ƒè™‘å¼‚æ­¥åŠ è½½å›¾ç‰‡ï¼Œè€Œä¸å½±å“æ–‡å­—ç­‰æ ‡ç­¾æ ·å¼çš„å±•ç¤ºã€‚</p>
<h1 id="Demoä¸‹è½½"><a href="#Demoä¸‹è½½" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h4 id="1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme"><a href="#1-å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„-scheme-æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„-scheme" class="headerlink" title="1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme"></a>1.å…ˆå°†å›¾ç‰‡é“¾æ¥ä¸­çš„ scheme æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ scheme</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)changeImageScheme &#123;</span><br><span class="line">    self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:self.oriImageUrl withString:self.xxxCustomImageUrl];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"><a href="#2-åœ¨-html-æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°" class="headerlink" title="2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°"></a>2.åœ¨ html æ ‡ç­¾ä¸­æ·»åŠ å‡½æ•°</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)addJsScript &#123;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlLab &#x3D; @&quot;&lt;&#x2F;html&gt;&quot;;</span><br><span class="line">    NSString *scriptLab1 &#x3D; @&quot;&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">    </span><br><span class="line">    NSString *jsFunctionString &#x3D; @&quot;function xxxGetAllImg() &#123; return document.getElementsByTagName(\&quot;img\&quot;); &#125;\</span><br><span class="line">    function xxxUpdateImage(url, imgData) &#123;  var list &#x3D; Array.from(xxxGetAllImg()); for (let item of list) &#123;  if ((item.src &#x3D;&#x3D; url)) &#123; item.src &#x3D; imgData;   break; &#125; &#125; &#125;        &quot;;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    if (![self.htmlString containsString:htmlLab]) &#123;</span><br><span class="line">        [self addHtmlLab];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if ([self.htmlString containsString:scriptLab1]) &#123;</span><br><span class="line">     </span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@&quot;,jsFunctionString,scriptLab1];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:scriptLab1 withString:scriptString];</span><br><span class="line">        </span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        NSString *scriptLab0 &#x3D; @&quot;&lt;script&gt;&quot;;</span><br><span class="line">        NSString *scriptString &#x3D; [NSString stringWithFormat:@&quot;%@%@%@%@&quot;,scriptLab0,jsFunctionString,scriptLab1,htmlLab];</span><br><span class="line">        self.htmlString &#x3D; [self.htmlString stringByReplacingOccurrencesOfString:htmlLab withString:scriptString];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»"><a href="#3-å®šä¹‰ä¸€ä¸ªå®ç°-WKURLSchemeHandler-åè®®çš„ç±»" class="headerlink" title="3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»"></a>3.å®šä¹‰ä¸€ä¸ªå®ç° WKURLSchemeHandler åè®®çš„ç±»</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@interface XXXCustomSchemeHanlder : NSObject &lt;WKURLSchemeHandler&gt;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy) NSString *oriImageUrl;</span><br><span class="line">@property (nonatomic, copy) NSString *oriImageScheme;</span><br><span class="line">@property (nonatomic, strong) UIImage *placeholderImage;</span><br><span class="line">@property (nonatomic, copy) void(^updateImageBlock)(void);</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"><a href="#4-å®ç°åè®®æ–¹æ³•-ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½" class="headerlink" title="4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½"></a>4.å®ç°åè®®æ–¹æ³• ç”¨äºæ‹¦æˆªå›¾ç‰‡åŠ è½½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)webView:(nonnull WKWebView *)webView startURLSchemeTask:(nonnull id&lt;WKURLSchemeTask&gt;)urlSchemeTask &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    UIImage *image &#x3D; self.placeholderImage;</span><br><span class="line">    NSData *data &#x3D; UIImageJPEGRepresentation(image, 1.0);</span><br><span class="line">    NSURLResponse *response &#x3D; [[NSURLResponse alloc] initWithURL:urlSchemeTask.request.URL MIMEType:@&quot;image&#x2F;jpeg&quot; expectedContentLength:data.length textEncodingName:nil];</span><br><span class="line">    [urlSchemeTask didReceiveResponse:response];</span><br><span class="line">    [urlSchemeTask didReceiveData:data];</span><br><span class="line">    [urlSchemeTask didFinish];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    if (self.updateImageBlock) &#123;</span><br><span class="line">        self.updateImageBlock();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSString *htmlImageUrlStr &#x3D; [NSString stringWithFormat:@&quot;%@&quot;,urlSchemeTask.request.URL];</span><br><span class="line">    NSString *dloadImageUrlStr &#x3D; [htmlImageUrlStr stringByReplacingOccurrencesOfString:XXXCustomImageScheme withString:self.oriImageScheme];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        </span><br><span class="line">        [self readImageForKey:dloadImageUrlStr htmlImageUrlStr:htmlImageUrlStr webView:webView];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)readImageForKey:(NSString *)dloadImageUrlStr htmlImageUrlStr:(NSString *)htmlImageUrlStr webView:(WKWebView *)webView &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSURL *url &#x3D; [NSURL URLWithString:dloadImageUrlStr];</span><br><span class="line">    [[SDWebImageManager sharedManager] loadImageWithURL:url options:SDWebImageRetryFailed progress:nil completed:^(UIImage * _Nullable image, NSData * _Nullable data, NSError * _Nullable error, SDImageCacheType cacheType, BOOL finished, NSURL * _Nullable imageURL) &#123;</span><br><span class="line">        if (image || data) &#123;</span><br><span class="line">            NSData *imgData &#x3D; data;</span><br><span class="line">            if (!imgData) &#123;</span><br><span class="line">                imgData &#x3D; UIImageJPEGRepresentation(image, 1);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                [weakSelf callJsUpdateImage:webView imageData:imgData htmlImageUrlStr:htmlImageUrlStr];</span><br><span class="line">            &#125;);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        if (error) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)callJsUpdateImage:(WKWebView *)webView imageData:(NSData *)imageData htmlImageUrlStr:(NSString *)imageUrlString &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    NSString *imageDataStr &#x3D; [NSString stringWithFormat:@&quot;data:image&#x2F;png;base64,%@&quot;,[imageData base64EncodedString]];</span><br><span class="line">    NSString *func &#x3D; [NSString stringWithFormat:@&quot;xxxUpdateImage(&#39;%@&#39;,&#39;%@&#39;)&quot;,imageUrlString,imageDataStr];</span><br><span class="line">    [webView evaluateJavaScript:func completionHandler:^(id _Nullable response, NSError * _Nullable error) &#123;</span><br><span class="line">        if (weakSelf.updateImageBlock &amp;&amp; !error) &#123;</span><br><span class="line">            weakSelf.updateImageBlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"><a href="#5-åˆå§‹åŒ–-WKWebView-å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯" class="headerlink" title="5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯"></a>5.åˆå§‹åŒ– WKWebView å¹¶é…ç½®æ‹¦æˆªä¿¡æ¯</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">WKWebViewConfiguration *config &#x3D; [[WKWebViewConfiguration alloc] init];</span><br><span class="line">XXXCustomSchemeHanlder *schemeHandler &#x3D; XXXCustomSchemeHanlder.new;</span><br><span class="line"></span><br><span class="line">schemeHandler.oriImageScheme &#x3D; self.oriImageScheme;</span><br><span class="line">schemeHandler.oriImageUrl &#x3D; self.oriImageUrl;</span><br><span class="line">schemeHandler.placeholderImage &#x3D; self.placeholderImage;</span><br><span class="line"></span><br><span class="line">__weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">schemeHandler.updateImageBlock &#x3D; ^ &#123;</span><br><span class="line">    [weakSelf updateHeight];</span><br><span class="line">&#125;;</span><br><span class="line">[config setURLSchemeHandler:schemeHandler forURLScheme:XXXCustomImageScheme];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">WKWebView  *webView &#x3D; [[WKWebView alloc]initWithFrame:CGRectMake(0, 0, self.width, self.height) configuration:config];</span><br></pre></td></tr></table></figure>

<h4 id="6-æ›´æ–°é«˜åº¦"><a href="#6-æ›´æ–°é«˜åº¦" class="headerlink" title="6. æ›´æ–°é«˜åº¦"></a>6. æ›´æ–°é«˜åº¦</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- (void)updateHeight &#123;</span><br><span class="line">    [self nowUpdateHeight];</span><br><span class="line">    [self delayUpdateHeight];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)nowUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    __weak typeof(self) weakSelf &#x3D; self;</span><br><span class="line">    [self.webView evaluateJavaScript:@&quot;document.body.offsetHeight&quot; completionHandler:^(id _Nullable result,NSError * _Nullable error) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F; é«˜åº¦ä¼šæœ‰ä¸€ç‚¹å°‘ ï¼Œæ‰‹åŠ¨è¡¥ä¸Š 20</span><br><span class="line">        CGFloat height &#x3D; [result floatValue] + 20.0;</span><br><span class="line">        weakSelf.webView.height &#x3D; height;</span><br><span class="line">        weakSelf.height &#x3D; height;</span><br><span class="line">        if (weakSelf.loadOverHeight) &#123;</span><br><span class="line">            weakSelf.loadOverHeight(height);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)delayUpdateHeight &#123;</span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, DelayTime * NSEC_PER_SEC), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        [self nowUpdateHeight];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Demoä¸‹è½½-1"><a href="#Demoä¸‹è½½-1" class="headerlink" title="Demoä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXWebView" >Demoä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ä¸ web äº¤äº’ä¼ å›¾</title>
    <url>/2020/12/07/500-iOS-%E4%B8%8E-web-%E4%BA%A4%E4%BA%92-%E4%BC%A0%E5%9B%BE/</url>
    <content><![CDATA[<p>web ç«¯å°†å›¾ç‰‡ base64 ç¼–ç åä¼ ç»™ iOS ç«¯ï¼Œä¼šåœ¨ base64 ç¼–ç å‰åŠ ä¸Š <code>data:image/png;base64,</code> éœ€è¦å…ˆæŠŠè¿™ä¸€ä¸²ç»™å»æ‰åè¿›è¡Œè§£ç ï¼Œç„¶åè½¬ data å†è½¬ä¸º image </p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOS ä¿®æ”¹çŠ¶æ€æ çš„é¢œè‰² preferredStatusBarStyle</title>
    <url>/2020/11/02/500-iOS-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E6%A0%8F%E7%9A%84%E9%A2%9C%E8%89%B2-preferredStatusBarStyle/</url>
    <content><![CDATA[<h3 id="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸"><a href="#âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„-Info-plist-æ–‡ä»¶é‡Œè®¾ç½®-View-controller-based-status-bar-appearance-ä¸º-YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸-âš ï¸âš ï¸" class="headerlink" title="âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸"></a>âš ï¸âš ï¸âš ï¸é¦–å…ˆè¦åœ¨é¡¹ç›®çš„ Info.plist æ–‡ä»¶é‡Œè®¾ç½® View controller-based status bar appearance ä¸º YESï¼Œå¦‚æœæ²¡æœ‰å°±ä¸ç”¨æ·»åŠ âš ï¸ âš ï¸âš ï¸</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">1. é‡å†™ UINavigationController çš„ childViewControllerForStatusBarStyle</span><br><span class="line">å¯ä»¥å†™åœ¨åŸºç±»çš„ UINavigationController ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Category</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIViewController *)childViewControllerForStatusBarStyle &#123;</span><br><span class="line">    return self.topViewController;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift </span><br><span class="line">override var childForStatusBarStyle: UIViewController? &#123;</span><br><span class="line">        return topViewController</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">2.  åœ¨éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²çš„ UIViewController ä¸­å®ç° preferredStatusBarStyle</span><br><span class="line">*&#x2F;</span><br><span class="line">- (UIStatusBarStyle)preferredStatusBarStyle &#123;</span><br><span class="line">   return UIStatusBarStyleLightContent;</span><br><span class="line">   &#x2F;&#x2F; return UIStatusBarStyleDefault;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">override var preferredStatusBarStyle: UIStatusBarStyle &#123;</span><br><span class="line">      return .lightContent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line">3. å½“è§¦å‘æŸä¸ªæ¡ä»¶éœ€è¦æ”¹å˜çŠ¶æ€æ é¢œè‰²æ—¶åœ¨ UIViewController ä¸­è°ƒç”¨</span><br><span class="line">ç„¶ååœ¨ - (UIStatusBarStyle)preferredStatusBarStyle; ä¸­åˆ¤æ–­ä½ çš„æ¡ä»¶æ˜¯å¦æ»¡è¶³æ”¹å˜é¢œè‰²</span><br><span class="line">*&#x2F;</span><br><span class="line">[self setNeedsStatusBarAppearanceUpdate];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;Swift</span><br><span class="line">setNeedsStatusBarAppearanceUpdate()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>iOSä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>OC ä¿®æ”¹çŠ¶æ€æ é¢œè‰²<br>Swiftä¿®æ”¹çŠ¶æ€æ é¢œè‰²</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS å¤š Target CocoaPods ç®¡ç†</title>
    <url>/2020/11/28/500-iOS-%E5%A4%9A-Target-CocoaPods-%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"><a href="#1-iOS-å¤š-Target-CocoaPods-ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­" class="headerlink" title="1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­"></a>1. iOS å¤š Target CocoaPods ç®¡ç†ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">platform :ios, &quot;11.0&quot;</span><br><span class="line">source &quot;https:&#x2F;&#x2F;cdn.cocoapods.org&#x2F;&quot;</span><br><span class="line">#source &#39;https:&#x2F;&#x2F;github.com&#x2F;CocoaPods&#x2F;Specs.git&#39;</span><br><span class="line"></span><br><span class="line">#å®šä¹‰å…¬å…±åº“</span><br><span class="line">def commonPods</span><br><span class="line">  use_frameworks!</span><br><span class="line"></span><br><span class="line">  pod &quot;KakaJSON&quot;, &quot;~&gt; 1.1.2&quot;</span><br><span class="line">  pod &quot;SnapKit&quot;, &quot;~&gt; 5.0.1&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">#ä¸º Target1 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target1&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;YYCategories&quot;</span><br><span class="line">  pod &quot;Alamofire&quot;, &quot;~&gt; 5.2.2&quot;</span><br><span class="line">end</span><br><span class="line">#ä¸º Target2 é…ç½®è‡ªå·±ç‹¬æœ‰çš„åº“</span><br><span class="line">target &quot;Target2&quot; do</span><br><span class="line">  commonPods</span><br><span class="line">  pod &quot;Moya&quot;, &quot;~&gt; 14.0.0&quot;</span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­"><a href="#2-åˆ¤æ–­åœ¨å“ªä¸€ä¸ª-Targetï¼ŒiOS-Target-åˆ¤æ–­" class="headerlink" title="2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­"></a>2. åˆ¤æ–­åœ¨å“ªä¸€ä¸ª Targetï¼ŒiOS Target åˆ¤æ–­</h1><h3 id="Swift-è®¾ç½®"><a href="#Swift-è®¾ç½®" class="headerlink" title="Swift è®¾ç½®"></a>Swift è®¾ç½®</h3><p>Build Settings æœç´¢ <code>swift compiler</code> å…·ä½“çœ‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/2331323-da3235308811d72b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ·»åŠ  Target åˆ¤æ–­æ¡ä»¶"></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#if MAINTARGET</span><br><span class="line">tipLab.text &#x3D; &quot;mmmm&quot;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h3 id="OC-è®¾ç½®"><a href="#OC-è®¾ç½®" class="headerlink" title="OC è®¾ç½®"></a>OC è®¾ç½®</h3><p>Build Settings æœç´¢ <code>macros</code> å…·ä½“çœ‹å›¾<br><img src="https://upload-images.jianshu.io/upload_images/2331323-3ae5817bcb53187d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="OC æ“ä½œå›¾"></p>
<h3 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> #ifdef TARGETMAIN</span><br><span class="line">NSLog(@&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;TARGETMAIN&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;);</span><br><span class="line"> #endif</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>CocoaPods</tag>
        <tag>Target</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS-æŠ¥é”™-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS</title>
    <url>/2020/11/20/500-iOS-%E6%8A%A5%E9%94%99-&#39;sharedApplication&#39;-is-unavailable--not-available-on-iOS-(App-E/</url>
    <content><![CDATA[<p>è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†åœ¨ App Extension å†…ä¸å®‰å…¨çš„API</p>
<h3 id="è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="è§£å†³åŠæ³•è§ä¸‹å›¾"></a>è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-2161dedfa7242b3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œæ­¥éª¤å›¾"></p>
<h3 id="CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"><a href="#CocoapPods-ç¬¬ä¸‰æ–¹åº“-æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾" class="headerlink" title="CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾"></a>CocoapPods ç¬¬ä¸‰æ–¹åº“ æŠ¥é”™åŒæ ·çš„è§£å†³åŠæ³•è§ä¸‹å›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-0b33c4b741a47ed7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ“ä½œæ­¥éª¤å›¾"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
        <tag>App Extension</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</title>
    <url>/2020/11/27/500-iOS14-Widget-%E5%BC%80%E5%8F%91-1/</url>
    <content><![CDATA[<h3 id="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget"><a href="#æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„-Widget" class="headerlink" title="æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget"></a>æœ¬ç¯‡æ˜¯ç”¨æˆ·å¯ç¼–è¾‘çš„ Widget</h3><h3 id="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹"><a href="#ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„-Widgetï¼Œç‚¹æˆ‘å»çœ‹" class="headerlink" title="ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/84c180963ac6" >ç”¨æˆ·ä¸å¯ç¼–è¾‘çš„ Widgetï¼Œç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><h3 id="ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡"><a href="#ç¼–è¾‘å±å¹•-Widget-ä¸æ˜¾ç¤ºï¼ŒWidget-åŠ è½½ç½‘ç»œå›¾ç‰‡" class="headerlink" title="ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡"></a><a class="link"   href="https://www.jianshu.com/p/a80d59c94442" >ç¼–è¾‘å±å¹• Widget ä¸æ˜¾ç¤ºï¼ŒWidget åŠ è½½ç½‘ç»œå›¾ç‰‡<i class="fas fa-external-link-alt"></i></a></h3><h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h1 id="å…ˆæ¥çœ‹æ•ˆæœå›¾"><a href="#å…ˆæ¥çœ‹æ•ˆæœå›¾" class="headerlink" title="å…ˆæ¥çœ‹æ•ˆæœå›¾"></a>å…ˆæ¥çœ‹æ•ˆæœå›¾</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-196fcdf3f96e1360.JPEG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<h1 id="å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶"><a href="#å»ºè®®å°†-demo-ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº”-demo-é‡Œçš„-AnimalWidget-æ–‡ä»¶" class="headerlink" title="å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶"></a>å»ºè®®å°† demo ä¸‹è½½ä¸‹æ¥å¯¹ç…§ç€çœ‹å¯¹åº” demo é‡Œçš„ AnimalWidget æ–‡ä»¶</h1><h3 id="1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚"><a href="#1-æ–°å»º-Widget-Extensionï¼Œå‹¾é€‰-Intentã€‚" class="headerlink" title="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚"></a>1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intentã€‚</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-4c736e922128a5f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1. æ–°å»º Widget Extensionï¼Œå‹¾é€‰ Intent"></p>
<h3 id="2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§"><a href="#2-ç‚¹å‡»-AnimalWidget-intentdefinition-æ–‡ä»¶-æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹-å…·ä½“æ“ä½œçœ‹å›¾å§" class="headerlink" title="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§"></a>2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ æ·»åŠ å¯ç¼–è¾‘çš„æ•°æ®ç±»å‹ å…·ä½“æ“ä½œçœ‹å›¾å§</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-e26dffe1a81d1a99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2. ç‚¹å‡» AnimalWidget.intentdefinition æ–‡ä»¶ å…·ä½“æ“ä½œçœ‹å›¾å§"></p>
<h3 id="3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼"><a href="#3-ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹-è®¾ç½®å¯¹åº”çš„å€¼" class="headerlink" title="3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼"></a>3. ä¸ºç¬¬äºŒæ­¥æ–°å¢çš„æ•°æ®ç±»å‹ è®¾ç½®å¯¹åº”çš„å€¼</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-6c898cf25193f0c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist"><a href="#4-ç¼–è¾‘-Info-plist-ï¸æ˜¯-widget-extension-çš„-Info-plist" class="headerlink" title="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"></a>4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;key&gt;NSExtension&lt;&#x2F;key&gt;</span><br><span class="line">	&lt;dict&gt;</span><br><span class="line">		&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;array&gt;</span><br><span class="line">			&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionAttributes&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileLocked&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsRestrictedWhileProtectedDataUnavailable&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&#x2F;&gt;</span><br><span class="line">			&lt;key&gt;IntentsSupported&lt;&#x2F;key&gt;</span><br><span class="line">			&lt;array&gt;</span><br><span class="line">				&lt;string&gt;AnimalWidgetConfigurationIntent&lt;&#x2F;string&gt;</span><br><span class="line">			&lt;&#x2F;array&gt;</span><br><span class="line">		&lt;&#x2F;dict&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPointIdentifier&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;com.apple.intents-service&lt;&#x2F;string&gt;</span><br><span class="line">		&lt;key&gt;NSExtensionPrincipalClass&lt;&#x2F;key&gt;</span><br><span class="line">		&lt;string&gt;$(PRODUCT_MODULE_NAME).IntentHandler&lt;&#x2F;string&gt;</span><br><span class="line">	&lt;&#x2F;dict&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-8bb6ff14aab5c9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4. ç¼–è¾‘ Info.plist (ï¸æ˜¯ widget extension çš„ Info.plist )"></p>
<h3 id="5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½"><a href="#5-åˆ›å»º-IntentHandler-swift-æ·»åŠ ä¸€ä¸‹ä»£ç -å¯èƒ½ä¼šæŠ¥é”™-æ‰¾ä¸åˆ°-AnimalWidgetConfigurationIntentHandling-ã€AnimalWidgetConfigurationIntent-å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½" class="headerlink" title="5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)"></a>5. åˆ›å»º IntentHandler.swift æ·»åŠ ä¸€ä¸‹ä»£ç  (å¯èƒ½ä¼šæŠ¥é”™ æ‰¾ä¸åˆ° AnimalWidgetConfigurationIntentHandling ã€AnimalWidgetConfigurationIntent  å…ˆä¸ç®¡å…ˆæŠŠåˆ«çš„é…ç½®å¥½)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Intents</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶</span><br><span class="line">class IntentHandler: INExtension, AnimalWidgetConfigurationIntentHandling &#123; &#x2F;&#x2F; AnimalWidgetConfigurationIntentHandling æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š IntentHandling åç¼€</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; é…ç½®ç»™ç”¨æˆ·å¯é€‰çš„åˆ—è¡¨                    AnimalWidgetConfigurationIntent æ˜¯ç¬¬äºŒæ­¥çš„åå­— åŠ ä¸Š Intent åç¼€</span><br><span class="line">    func provideAnimalOptionsCollection(for intent: AnimalWidgetConfigurationIntent, searchTerm: String?, with completion: @escaping (INObjectCollection&lt;Animal&gt;?, Error?) -&gt; Void) &#123;</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; è¿™é‡Œå¯ä»¥å»è¯·æ±‚ç½‘ç»œæ‹¿æ•°æ®</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F;æœç´¢è¯ searchTerm æœç´¢cat</span><br><span class="line">        if searchTerm &#x3D;&#x3D; &quot;cat&quot; &#123;</span><br><span class="line">            completion(INObjectCollection(items: [Animal(identifier: &quot;cat&quot;, display: &quot;cat&quot;)]), nil)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let animals: [Animal] &#x3D; XXXAnimal.zoo.map &#123; (xxxAnimal) in</span><br><span class="line">            return Animal(identifier: xxxAnimal.id, display: xxxAnimal.name)</span><br><span class="line">        &#125;</span><br><span class="line">        completion(INObjectCollection(items: animals), nil)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func handler(for intent: INIntent) -&gt; Any &#123;</span><br><span class="line">        return self</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹"><a href="#6-ä¿®æ”¹-AnimalWidget-swift-å†…å®¹" class="headerlink" title="6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹"></a>6. ä¿®æ”¹ AnimalWidget.swift å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœä½ çš„å·¥ç¨‹å·²ç»å­˜åœ¨äº†ä¸€ä¸ª Widget å°† @main å»æ‰</span><br><span class="line">ä½¿ç”¨ä¸‹é¢</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æˆ‘çš„è¿™éƒ¨åˆ†ä»£ç åœ¨ XXXWidget.swift</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">        AnimalWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="ä¿®æ”¹-TimelineEntry"><a href="#ä¿®æ”¹-TimelineEntry" class="headerlink" title="ä¿®æ”¹ TimelineEntry"></a>ä¿®æ”¹ TimelineEntry</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct SimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    let configuration: ConfigurationIntent</span><br><span class="line">&#125;</span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line">&#x2F;&#x2F;&#x2F; é‡æ–°å‘½å å»æ‰ let configuration: ConfigurationIntent  ï¼ˆä¹Ÿå¯ä»¥ä¿ç•™ä½†ç±»å‹æ˜¯ AnimalWidgetConfigurationIntentï¼‰</span><br><span class="line">&#x2F;&#x2F;&#x2F;å¢åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">struct AnimalSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; æ–°åŠ è‡ªå·±éœ€è¦çš„å‚æ•°</span><br><span class="line">    let animal: XXXAnimal</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="ä¿®æ”¹-IntentTimelineProvider"><a href="#ä¿®æ”¹-IntentTimelineProvider" class="headerlink" title="ä¿®æ”¹ IntentTimelineProvider"></a>ä¿®æ”¹ IntentTimelineProvider</h4><h4 id="ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸"><a href="#ï¸-æ¶‰åŠåˆ°-AnimalWidgetConfigurationIntent-å¯èƒ½ä¼šæŠ¥é”™-å…ˆä¸ç®¡-ï¸" class="headerlink" title="ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸"></a><strong>ï¸ æ¶‰åŠåˆ° AnimalWidgetConfigurationIntent å¯èƒ½ä¼šæŠ¥é”™ å…ˆä¸ç®¡ ï¸</strong></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct Provider: IntentTimelineProvider &#123;</span><br><span class="line">    func placeholder(in context: Context) -&gt; SimpleEntry &#123;</span><br><span class="line">        SimpleEntry(date: Date(), configuration: ConfigurationIntent())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (SimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; SimpleEntry(date: Date(), configuration: configuration)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getTimeline(for configuration: ConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        var entries: [SimpleEntry] &#x3D; []</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Generate a timeline consisting of five entries an hour apart, starting from the current date.</span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        for hourOffset in 0 ..&lt; 5 &#123;</span><br><span class="line">            let entryDate &#x3D; Calendar.current.date(byAdding: .hour, value: hourOffset, to: currentDate)!</span><br><span class="line">            let entry &#x3D; SimpleEntry(date: entryDate, configuration: configuration)</span><br><span class="line">            entries.append(entry)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let timeline &#x3D; Timeline(entries: entries, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------åŸï¸----æ–°ï¸-----------------</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é‡æ–°å‘½å</span><br><span class="line">struct AnimalProvider: IntentTimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">&#x2F;&#x2F; æŒ‰ç…§è¦æ±‚å¢åŠ   Entry å’Œ Intent</span><br><span class="line">    typealias Entry &#x3D; AnimalSimpleEntry</span><br><span class="line">    typealias Intent &#x3D; AnimalWidgetConfigurationIntent</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    func placeholder(in context: Context) -&gt; AnimalSimpleEntry &#123;</span><br><span class="line">        AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    func getSnapshot(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (AnimalSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: Date(), animal: .lion)</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    func getTimeline(for configuration: AnimalWidgetConfigurationIntent, in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        let currentDate &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        guard let id &#x3D; configuration.animal?.identifier, let entryDate &#x3D; Calendar.current.date(byAdding: .minute, value: 1, to: currentDate) else &#123;</span><br><span class="line">            let timeline &#x3D; Timeline(entries: [AnimalSimpleEntry(date: currentDate, animal: .lion)], policy: .atEnd)</span><br><span class="line">            completion(timeline)</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        let entry &#x3D; AnimalSimpleEntry(date: entryDate, animal: XXXAnimal.animal(id, color: configuration.color))</span><br><span class="line">        </span><br><span class="line">        let timeline &#x3D; Timeline(entries: [entry], policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†"><a href="#å…¶ä»–åœ°æ–¹å¯¹ç…§-demo-ä¿®æ”¹å°±å¯ä»¥äº†" class="headerlink" title="å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†"></a>å…¶ä»–åœ°æ–¹å¯¹ç…§ demo ä¿®æ”¹å°±å¯ä»¥äº†</h2><h1 id="ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸"><a href="#ï¸å¦‚æœæœ‰-Cannot-find-type-â€˜AnimalWidgetConfigurationIntentâ€™-in-scope-æŠ¥é”™-å°è¯•å¤š-build-å‡ æ¬¡æˆ–è€…-é‡å¯-Xcodeï¸" class="headerlink" title="ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸"></a>ï¸å¦‚æœæœ‰  Cannot find type â€˜AnimalWidgetConfigurationIntentâ€™ in scope æŠ¥é”™ å°è¯•å¤š build å‡ æ¬¡æˆ–è€… é‡å¯ Xcodeï¸</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-194231fd2ac108f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…¶ä»–æ³¨æ„"></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS14 Widget</title>
    <url>/2020/11/26/500-iOS14-Widget-%E5%BC%80%E5%8F%91/</url>
    <content><![CDATA[<h1 id="Demo-ä¸‹è½½"><a href="#Demo-ä¸‹è½½" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1><h3 id="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget"><a href="#è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„-widget" class="headerlink" title="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget"></a>è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„ï¼Œæ²¡æœ‰ç¼–è¾‘é€‰é¡¹çš„ widget</h3><h3 id="Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"><a href="#Intent-ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹" class="headerlink" title="Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹"></a><a class="link"   href="https://www.jianshu.com/p/029c85bdf16b" >Intent ç”¨æˆ·å¯ç¼–è¾‘çš„ç‚¹æˆ‘å»çœ‹<i class="fas fa-external-link-alt"></i></a></h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-126d13797dd4e2de.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<h3 id="ä»£ç å¦‚ä¸‹"><a href="#ä»£ç å¦‚ä¸‹" class="headerlink" title="ä»£ç å¦‚ä¸‹"></a>ä»£ç å¦‚ä¸‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ—¶é—´çº¿</span><br><span class="line">struct XXXProvider: TimelineProvider &#123;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å ä½çš„å±•ç¤º</span><br><span class="line">    func placeholder(in context: Context) -&gt; XXXSimpleEntry &#123;</span><br><span class="line">        XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;&#x2F; å¿«ç…§</span><br><span class="line">    func getSnapshot(in context: Context, completion: @escaping (XXXSimpleEntry) -&gt; ()) &#123;</span><br><span class="line">        let entry &#x3D; XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData())</span><br><span class="line">        completion(entry)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;&#x2F;æ ¹æ®æ—¶é—´çº¿æä¾›éœ€è¦å±•ç¤ºçš„çŠ¶æ€</span><br><span class="line">    func getTimeline(in context: Context, completion: @escaping (Timeline&lt;Entry&gt;) -&gt; ()) &#123;</span><br><span class="line">        </span><br><span class="line">        print(&quot;æ—¶é—´çº¿åˆ·æ–°äº†&quot; + &quot;\(Date())&quot;)</span><br><span class="line">        </span><br><span class="line">        var entrys: [XXXSimpleEntry] &#x3D; []</span><br><span class="line">        let currentData &#x3D; Date()</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;&#x2F; æä¾›å½“å‰æ—¶é—´å 1ä¸ªå°æ—¶å†…  æ¯ä¸€ç§’çš„çŠ¶æ€ (å·²ç»æä¾›äº†3600ä¸ªçŠ¶æ€ï¼Œå¤ªå¤šä¼šä¸å±•ç¤ºå¡æ­»)</span><br><span class="line">        for i in 0...60*60 &#123;</span><br><span class="line">            guard let entryDate &#x3D; Calendar.current.date(byAdding: .second, value: i, to: currentData) else &#123;</span><br><span class="line">                return</span><br><span class="line">            &#125;</span><br><span class="line">            entrys.append(XXXSimpleEntry(date: entryDate, displayTime: XXXData.displayData(entryDate)))</span><br><span class="line">        &#125;</span><br><span class="line">        let timeline &#x3D; Timeline(entries: entrys, policy: .atEnd)</span><br><span class="line">        completion(timeline)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; æ¯ä¸€ä¸ªæ—¶é—´çº¿çš„å®ä½“</span><br><span class="line">struct XXXSimpleEntry: TimelineEntry &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F;å±•ç¤ºè¯¥çŠ¶æ€çš„æ—¶é—´</span><br><span class="line">    let date: Date</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è‡ªå·±é…ç½®çš„æ•°æ®</span><br><span class="line">    let displayTime: String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F; widget å±•ç¤º view</span><br><span class="line">struct XXXWidgetEntryView : View &#123;</span><br><span class="line">    var entry: XXXProvider.Entry</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è¿”å›åœ¨è¿™ä¸ªæ—¶é—´ (entry.date)    ä½ æƒ³è¦å±•ç¤ºçš„widegtæ ·å¼</span><br><span class="line">    var body: some View &#123;</span><br><span class="line">        ZStack &#123;</span><br><span class="line">            </span><br><span class="line">            Color.orange.edgesIgnoringSafeArea(.all)</span><br><span class="line">            VStack &#123;</span><br><span class="line">                Text(entry.displayTime)</span><br><span class="line">                    .multilineTextAlignment(.center)</span><br><span class="line">                    .foregroundColor(.blue)</span><br><span class="line">                    &#x2F;&#x2F;&#x2F;é…ç½®ç‚¹å‡»é“¾æ¥ä¼šåœ¨ä¸»å·¥ç¨‹æ”¶åˆ°æ‹‰èµ·äº‹ä»¶</span><br><span class="line">                    .widgetURL(URL(string: &quot;widgetDemo:&#x2F;&#x2F;789&quot;))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;widget</span><br><span class="line">struct XXXWidget: Widget &#123;</span><br><span class="line">    let kind: String &#x3D; &quot;XXXWidget&quot;</span><br><span class="line"></span><br><span class="line">    var body: some WidgetConfiguration &#123;</span><br><span class="line">        &#x2F;&#x2F;&#x2F; StaticConfiguration æ˜¯é™æ€çš„ï¼Œç”¨æˆ·ä¸å¯é…ç½®çš„ é•¿æŒ‰ä¸ä¼šå‡ºç°ç¼–è¾‘</span><br><span class="line">        StaticConfiguration(kind: kind, provider: XXXProvider()) &#123; entry in</span><br><span class="line">            XXXWidgetEntryView(entry: entry)</span><br><span class="line">        &#125;</span><br><span class="line">        .configurationDisplayName(&quot;æ·»åŠ æ—¶çš„æ ‡é¢˜&quot;)</span><br><span class="line">        .description(&quot;æ·»åŠ æ—¶çš„æè¿°&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;æä¾›é¢„è§ˆçŠ¶æ€</span><br><span class="line">struct XXXWidget_Previews: PreviewProvider &#123;</span><br><span class="line">    </span><br><span class="line">    static var previews: some View &#123;</span><br><span class="line">        XXXWidgetEntryView(entry: XXXSimpleEntry(date: Date(), displayTime: XXXData.displayData()))</span><br><span class="line">            .previewContext(WidgetPreviewContext(family: .systemSmall))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x2F;ä¸»å…¥å£</span><br><span class="line">@main</span><br><span class="line">struct AllWidget: WidgetBundle &#123;</span><br><span class="line">    </span><br><span class="line">    @WidgetBundleBuilder</span><br><span class="line">    var body: some Widget &#123;</span><br><span class="line">        XXXWidget()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"><a href="#éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾" class="headerlink" title="éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾"></a>éƒ¨åˆ†æ“ä½œçš„è¯¦ç»†æˆªå›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/2331323-d4e70bcacfcacc7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="File -&gt; New -&gt; Target"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-b19a4ce4f064179c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¿™ä¸ªæ˜¯ç”¨æˆ·ä¸å¯é…ç½®çš„widgetï¼Œå‹¾é€‰çš„æ˜¯ç”¨æˆ·å¯é…ç½®çš„ã€‚æˆ‘ä»¬å…ˆæ¥åšä¸å¯é…ç½®çš„"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-786376718471b3c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è°ƒæ•´æœ€ä½è¿è¡Œç³»ç»Ÿ"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/2331323-5fcaf3ede4232577.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å…³è”ä¸»å·¥ç¨‹æ•°æ®"></p>
<h1 id="Demo-ä¸‹è½½-1"><a href="#Demo-ä¸‹è½½-1" class="headerlink" title="Demo ä¸‹è½½"></a><a class="link"   href="https://github.com/xxxIxxxx/WidgetDemo" >Demo ä¸‹è½½<i class="fas fa-external-link-alt"></i></a></h1>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢</title>
    <url>/2020/11/24/500-iOS%E5%8D%A0%E4%BD%8D%E5%9B%BE%E3%80%81%E7%A9%BA%E7%99%BD%E9%A1%B5%E9%9D%A2/</url>
    <content><![CDATA[<h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-Githubç›´è¾¾" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1><h1 id="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"><a href="#iOSå ä½å›¾ã€ç©ºç™½é¡µé¢-é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew" class="headerlink" title="iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew"></a>iOSå ä½å›¾ã€ç©ºç™½é¡µé¢ é€‚ç”¨äºviewã€tableViewã€collectionViewã€scrollvew</h1><h1 id="ğŸ˜„ğŸ˜„ğŸ˜„"><a href="#ğŸ˜„ğŸ˜„ğŸ˜„" class="headerlink" title="ğŸ˜„ğŸ˜„ğŸ˜„"></a>ğŸ˜„ğŸ˜„ğŸ˜„</h1><p><img src="http://upload-images.jianshu.io/upload_images/2331323-337781e6ecaac4ae.gif?imageMogr2/auto-orient/strip" alt="tableViewä½¿ç”¨æ•ˆæœ"></p>
<p> <img src="http://upload-images.jianshu.io/upload_images/2331323-37d81ba5477c72c3.gif?imageMogr2/auto-orient/strip" alt="viewä½¿ç”¨æ•ˆæœ"></p>
<h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><em>æ³¨æ„</em></h1><h5 id="1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"><a href="#1-å½“tableViewã€collectionView-æœ‰æ•°æ®æ—¶ï¼ˆrow-gt-0ï¼Œitem-gt-0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾" class="headerlink" title="1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾"></a>1.å½“tableViewã€collectionView æœ‰æ•°æ®æ—¶ï¼ˆrow&gt;0ï¼Œitem&gt;0ï¼‰ä¸æ˜¾ç¤ºå ä½å›¾</h5><h5 id="2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"><a href="#2-å½“scrollView-contentSize-height-gt-scrollView-frame-size-height-æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰" class="headerlink" title="2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰"></a>2.å½“scrollView.contentSize.height &gt; scrollView.frame.size.height æ—¶ä¸´æ—¶ç¦ç”¨æ»‘åŠ¨å±æ€§ï¼ˆtableViewã€collectionViewä¼˜å…ˆéµå¾ªç¬¬ä¸€æ¡ï¼‰</h5><h5 id="3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"><a href="#3-å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹" class="headerlink" title="3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹"></a>3.å»ºè®®å¯¼å…¥demoä¸­çš„XXXPlaceholderEXæ–‡ä»¶å¤¹</h5><h5 id="4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"><a href="#4-å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶" class="headerlink" title="4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶"></a>4.å ä½å›¾ä¸­çš„buttonä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ— éœ€æ·»åŠ ã€‚æ²¡æœ‰buttonä¼šç»™æ•´ä¸ªå ä½å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶</h5><h5 id="5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"><a href="#5-æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚" class="headerlink" title="5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚"></a>5.æˆ‘è§‰å¾—ç”¨æ³•è¿˜æ˜¯æŒºç®€å•çš„ï¼Œçœ‹ä¸‹demoå§ğŸ˜‚</h5><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pod repo update</span><br><span class="line">rm ~&#x2F;Library&#x2F;Caches&#x2F;CocoaPods&#x2F;search_index.json  (æ¸…é™¤æœç´¢ç¼“å­˜)</span><br><span class="line">pod &#39;XXXPlaceholder&#39;, &#39;~&gt; 0.0.1&#39;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>å‚ç…§demoåˆ›å»ºå ä½å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;selfä¸ºtableView</span><br><span class="line">self.xxx_emptyView &#x3D; [XXXPlaceholderView emptyView];</span><br><span class="line">self.xxx_noNetworkView &#x3D; [XXXPlaceholderView noNetworkView];</span><br><span class="line">&#x2F;&#x2F;å ä½å›¾ä¼šè‡ªåŠ¨æ·»åŠ ç‚¹å‡»äº‹ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>tableViewã€collectionView å±•ç¤ºå ä½å›¾è°ƒç”¨</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadData;</span><br><span class="line"> </span><br><span class="line">&#x2F;**</span><br><span class="line">åˆ·æ–°æ•°æ®æº tableViewã€collectionViewä¸“ç”¨</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_reloadDataWithClickBlock:  (nullable   XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line">[self.tableView xxx_reloadDataWithClickBlock:^&#123;</span><br><span class="line">           &#x2F;&#x2F;è¿™é‡Œåšå†æ¬¡è¯·æ±‚</span><br><span class="line">        &#125;];</span><br></pre></td></tr></table></figure></li>
<li><p>viewä½¿ç”¨ </p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#x2F;**</span><br><span class="line"> å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_showEmptyView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— æ•°æ®å ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showEmptyViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkView;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line">å±•ç¤ºæ— ç½‘ç»œå ä½å›¾</span><br><span class="line">@param clickBlock å ä½å›¾ç‚¹å‡»äº‹ä»¶Block</span><br><span class="line">*&#x2F;</span><br><span class="line">- (void)xxx_showNoNetWorkViewWithClickBlock:(nullable XXXPlaceholderClickBlock)clickBlock;</span><br><span class="line"></span><br><span class="line"> &#x2F;**</span><br><span class="line"> ç§»å‡ºæ‰€æœ‰å ä½å›¾</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)xxx_removePlaceholderView;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h1 id="Githubç›´è¾¾"><a href="#Githubç›´è¾¾" class="headerlink" title="Githubç›´è¾¾"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXPlaceholder" >Githubç›´è¾¾<i class="fas fa-external-link-alt"></i></a></h1></li>
</ol>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>iOSæ‹–æ‹½å¡ç‰‡</title>
    <url>/2020/11/22/500-iOS%E6%8B%96%E6%8B%BD%E5%8D%A1%E7%89%87%E5%8F%A0%E5%8A%A0%E5%8D%A1%E7%89%87/</url>
    <content><![CDATA[<h1 id="github-XXXCardStore"><a href="#github-XXXCardStore" class="headerlink" title="github XXXCardStore"></a><a class="link"   href="https://github.com/xxxIxxxx/XXXCardStore" >github XXXCardStore<i class="fas fa-external-link-alt"></i></a></h1><p><img src="http://upload-images.jianshu.io/upload_images/2331323-86f449d502adaa19.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2331323-70de1ba83f9ad822.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¯´æ˜å›¾"></p>
<h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><ol>
<li>pod search XXXCardStore<br>å¦‚æœªæœç´¢åˆ° è¯·æ‰§è¡Œ pod repo update è¿›è¡Œæ›´æ–°ï¼Œç„¶åæ¸…é™¤æœç´¢ç¼“å­˜ rm ~/Library/Caches/CocoaPods/search_index.json</li>
<li>pod â€˜XXXCardStoreâ€™</li>
<li>import &lt; XXXCardStore .h&gt;</li>
</ol>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">XXXCardStore *xxx &#x3D; [XXXCardStore new];</span><br><span class="line">    [self.view addSubview:xxx];</span><br><span class="line">    xxx.frame &#x3D; CGRectMake(50, 100, 300, 200);</span><br><span class="line">    xxx.cardOffset &#x3D; 10.0;</span><br><span class="line">    xxx.isInfiniteLoop &#x3D;YES;</span><br><span class="line">    xxx.delegate &#x3D; self;</span><br><span class="line">    xxx.imgUrlStrArr &#x3D; @[@&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;203fb80e7bec54e7c340af43b2389b504fc26a3b.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;0d338744ebf81a4c6231d43ddb2a6059242da6c6.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;a.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;4e4a20a4462309f788a28152790e0cf3d6cad6a4.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;810a19d8bc3eb135101902e6ad1ea8d3fc1f4494.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;f.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;86d6277f9e2f0708a5559f5de224b899a901f21f.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;h.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;ca1349540923dd5441e81235da09b3de9d8248d7.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;c.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;faedab64034f78f09d3f2eae72310a55b3191cb2.jpg&quot;,</span><br><span class="line">                         @&quot;http:&#x2F;&#x2F;d.hiphotos.baidu.com&#x2F;image&#x2F;pic&#x2F;item&#x2F;622762d0f703918f037f88975a3d269758eec4c5.jpg&quot;</span><br><span class="line">                         ];</span><br><span class="line">    [xxx reloadData];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tapCard:(NSInteger)index cardStore:(UIView *)xxxCardStore&#123;</span><br><span class="line"></span><br><span class="line">    NSLog(@&quot;--- tap   &#x3D;&#x3D;&#x3D;  %ld&quot;,index);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"><a href="#è‡ªå®šä¹‰å¡ç‰‡å†…å®¹" class="headerlink" title="è‡ªå®šä¹‰å¡ç‰‡å†…å®¹"></a>è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> è‡ªå®šä¹‰å¡ç‰‡å†…å®¹</span><br><span class="line"> </span><br><span class="line"> @param customCard ä½ çš„customView å†…éƒ¨è¯•å›¾æœªæ¸…é™¤</span><br><span class="line"> @param index éœ€è¦å‡†å¤‡çš„ cardçš„ index</span><br><span class="line"> @param xxxCardStore xxxCardStore ä¸»ä½“</span><br><span class="line"> *&#x2F;</span><br><span class="line">- (void)customCardView:(UIView *)customCard index:(NSInteger)index cardStore:(UIView *)xxxCardStore;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¼•å…¥æ¨¡å—ï¼ŒApp.js</title>
    <url>/2021/01/14/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%BC%95%E5%85%A5%E6%A8%A1%E5%9D%97/</url>
    <content><![CDATA[<h1 id="åˆ›å»ºä¸€ä¸ªæ¨¡å—-utils-appConfig-js"><a href="#åˆ›å»ºä¸€ä¸ªæ¨¡å—-utils-appConfig-js" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ¨¡å— utils/appConfig.js"></a>åˆ›å»ºä¸€ä¸ªæ¨¡å— utils/appConfig.js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const appConfig &#x3D; &#123;</span><br><span class="line">  host: &#39;https:&#x2F;&#x2F;www.baidu.com&#39;,</span><br><span class="line">  sayHi(e) &#123;</span><br><span class="line">    console.log(&#39;hi&#39; + e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default appConfig</span><br></pre></td></tr></table></figure>

<h1 id="å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨-å…¶ä»–-js-æ–‡ä»¶å†…"><a href="#å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨-å…¶ä»–-js-æ–‡ä»¶å†…" class="headerlink" title="å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨     å…¶ä»– .js æ–‡ä»¶å†…"></a>å¯¼å…¥åˆ›å»ºçš„æ¨¡å—ä½¿ç”¨     å…¶ä»– .js æ–‡ä»¶å†…</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import appConfig from &#39;..&#x2F;..&#x2F;..&#x2F;utils&#x2F;appConfig.js&#39;;</span><br><span class="line">console.log(appConfig.host);</span><br><span class="line">appConfig.sayHi(&#39;æœ±å°æ˜&#39;)</span><br></pre></td></tr></table></figure>


<h1 id="è·å–-App-js"><a href="#è·å–-App-js" class="headerlink" title="è·å– App.js"></a>è·å– App.js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;app.js</span><br><span class="line">App(&#123;</span><br><span class="line">  userToken:&#39;zhu xiao ming&#39;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;&#x2F; çœç•¥å…¶ä»–</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let app &#x3D; getApp();</span><br><span class="line">console.log(app.userToken);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>iOS mask é®ç½©ï¼Œå½©è‰²æ–‡æœ¬</title>
    <url>/2020/11/20/500-iOS%E6%B8%90%E5%8F%98%E5%BD%A9%E8%89%B2%E6%96%87%E5%AD%97%E3%80%81iOS-mask-%E9%81%AE%E7%BD%A9/</url>
    <content><![CDATA[<h1 id="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©"><a href="#iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS-mask-é®ç½©" class="headerlink" title="iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©"></a>iOSæ¸å˜å½©è‰²æ–‡å­—ã€iOS mask é®ç½©</h1><p><img src="https://upload-images.jianshu.io/upload_images/2331323-2f3e46c5908444fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<p><a class="link"   href="https://github.com/ibireme/YYCategories" >ä½¿ç”¨åˆ°äº†YYCategories<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="å½©è‰²æ–‡å­—"><a href="#å½©è‰²æ–‡å­—" class="headerlink" title="å½©è‰²æ–‡å­—"></a>å½©è‰²æ–‡å­—</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UIView *colorBgView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:colorBgView];</span><br><span class="line">    colorBgView.frame &#x3D; CGRectMake(0, 300, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">        </span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *colorTextPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *colorTextLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    colorTextLayer.path &#x3D; colorTextPath.CGPath;</span><br><span class="line">    colorTextLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    colorBgView.layer.mask &#x3D; colorTextLayer;</span><br><span class="line">    </span><br><span class="line">    CAGradientLayer *colorLayer &#x3D; CAGradientLayer.new;</span><br><span class="line">    colorLayer.colors &#x3D; @[(__bridge id)UIColor.redColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.orangeColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.greenColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blueColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.yellowColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.purpleColor.CGColor,</span><br><span class="line">                          (__bridge id)UIColor.blackColor.CGColor,];</span><br><span class="line">    colorLayer.startPoint &#x3D; CGPointMake(0, 0.5);</span><br><span class="line">    colorLayer.endPoint &#x3D; CGPointMake(1, 0.5);</span><br><span class="line">    colorLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 40);</span><br><span class="line">    [colorBgView.layer addSublayer:colorLayer];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è¿‡æ¸¡é®ç½©"><a href="#è¿‡æ¸¡é®ç½©" class="headerlink" title="è¿‡æ¸¡é®ç½©"></a>è¿‡æ¸¡é®ç½©</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"> &#x2F;&#x2F;&#x2F;é»‘è‰²èƒŒæ™¯view</span><br><span class="line">    UIView *indicatorView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:indicatorView];</span><br><span class="line">    indicatorView.backgroundColor &#x3D; UIColor.blackColor;</span><br><span class="line">    indicatorView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    indicatorView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    indicatorView.frame &#x3D; CGRectMake(0, 195, 100, 40);</span><br><span class="line">    self.indicatorView &#x3D; indicatorView;</span><br><span class="line">    </span><br><span class="line">  &#x2F;&#x2F;è¿™é‡Œç”¨äº†YYCategories</span><br><span class="line">    UIBezierPath *textPath &#x3D; [UIBezierPath bezierPathWithText:@&quot;å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ&quot; font:[UIFont systemFontOfSize:28]];</span><br><span class="line">    CAShapeLayer *textLayer &#x3D; [CAShapeLayer layer];</span><br><span class="line">    textLayer.path &#x3D; textPath.CGPath;</span><br><span class="line">    textLayer.frame &#x3D; CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *darkView &#x3D; [UIView new];</span><br><span class="line">    [self.view addSubview:darkView];</span><br><span class="line">    darkView.backgroundColor &#x3D; UIColor.darkGrayColor;</span><br><span class="line">    darkView.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    darkView.layer.mask &#x3D; textLayer;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    UIView *whiteView &#x3D; [UIView new];</span><br><span class="line">    [darkView addSubview:whiteView];</span><br><span class="line">    whiteView.backgroundColor &#x3D; UIColor.whiteColor;</span><br><span class="line">    whiteView.layer.cornerRadius &#x3D; 20;</span><br><span class="line">    whiteView.layer.masksToBounds &#x3D; YES;</span><br><span class="line">    whiteView.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">    self.whiteView &#x3D; whiteView;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;ä¹Ÿå¯ä»¥ä½¿ç”¨layer</span><br><span class="line">&#x2F;&#x2F;    CALayer *darkLayer &#x3D; CALayer.new;</span><br><span class="line">&#x2F;&#x2F;    [self.view.layer addSublayer:darkLayer];</span><br><span class="line">&#x2F;&#x2F;    darkLayer.backgroundColor &#x3D; UIColor.darkGrayColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    darkLayer.frame &#x3D; CGRectMake(0, 200, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">&#x2F;&#x2F;    darkLayer.mask &#x3D; textLayer;</span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F;    CAShapeLayer *whiteLayer &#x3D; CAShapeLayer.new;</span><br><span class="line">&#x2F;&#x2F;    [darkLayer addSublayer:whiteLayer];</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.backgroundColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.fillColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.strokeColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.borderColor &#x3D; UIColor.whiteColor.CGColor;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.cornerRadius &#x3D; 20;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.masksToBounds &#x3D; YES;</span><br><span class="line">&#x2F;&#x2F;    whiteLayer.frame &#x3D; CGRectMake(0, -5, 100, 40);</span><br><span class="line">&#x2F;&#x2F;    self.whiteLayer &#x3D; whiteLayer;</span><br><span class="line">    </span><br><span class="line">    UISlider *slider &#x3D; UISlider.new;</span><br><span class="line">    [self.view addSubview:slider];</span><br><span class="line">    [slider addTarget:self action:@selector(changeFrame:) forControlEvents:UIControlEventValueChanged];</span><br><span class="line">    slider.frame &#x3D; CGRectMake(0, 260, UIScreen.mainScreen.bounds.size.width, 30);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">----------</span><br><span class="line"></span><br><span class="line">- (void)changeFrame:(UISlider *)slider &#123;</span><br><span class="line"> </span><br><span class="line">    CGFloat x &#x3D; UIScreen.mainScreen.bounds.size.width *slider.value;</span><br><span class="line">    self.indicatorView.frame &#x3D; CGRectMake(x, 195, 100, 40);</span><br><span class="line">    self.whiteView.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    self.whiteLayer.frame &#x3D; CGRectMake(x, -5, 100, 40);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºç•Œé¢è·³è½¬ä¼ å€¼ã€åå‘ä¼ å€¼</title>
    <url>/2021/01/14/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E7%95%8C%E9%9D%A2%E8%B7%B3%E8%BD%AC%E4%BC%A0%E5%80%BC/</url>
    <content><![CDATA[<h1 id="page1-ç‚¹å‡»äº‹ä»¶-wxml"><a href="#page1-ç‚¹å‡»äº‹ä»¶-wxml" class="headerlink" title="page1 ç‚¹å‡»äº‹ä»¶ .wxml"></a>page1 ç‚¹å‡»äº‹ä»¶ .wxml</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;text bind:tap&#x3D;&quot;pushNav&quot;&gt;ç•Œé¢è·³è½¬ä¼ å€¼&lt;&#x2F;text&gt;</span><br></pre></td></tr></table></figure>
<h1 id="page1-è·³è½¬æ–¹æ³•å®ç°-js"><a href="#page1-è·³è½¬æ–¹æ³•å®ç°-js" class="headerlink" title="page1 è·³è½¬æ–¹æ³•å®ç° .js"></a>page1 è·³è½¬æ–¹æ³•å®ç° .js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pushNav(e) &#123;</span><br><span class="line">    </span><br><span class="line">    let that &#x3D; this;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      &#x2F;&#x2F; è·³è½¬ä¼ å€¼æ–¹å¼ 1</span><br><span class="line">      url: &#39;..&#x2F;page2?carName&#x3D;&#39; + &#39;ç‰¹æ–¯æ‹‰&#39;,</span><br><span class="line"></span><br><span class="line">      events: &#123;</span><br><span class="line">        &#x2F;&#x2F; åå‘ä¼ å€¼ page2 å›è°ƒç»™ page1 æ¥æ”¶å¤„</span><br><span class="line">        getuserInfoClick(e) &#123;</span><br><span class="line">          console.log(e);</span><br><span class="line">          that.setData(&#123; userName: e.userName &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      success: function (res) &#123;</span><br><span class="line">        &#x2F;&#x2F; è·³è½¬ä¼ å€¼æ–¹å¼ 2</span><br><span class="line">        &#x2F;&#x2F; è¿™ä¸ªå…¶å®æœ‰ç‚¹ç±»ä¼¼äºé€šçŸ¥çš„æ„æ€ å®šä¹‰é€šçŸ¥åç§° å’Œ å‚æ•°</span><br><span class="line">        res.eventChannel.emit(&#39;diyfunName&#39;, &#123; parKey: &#39;æˆ‘æ˜¯é€šè¿‡ eventChannel ä¼ é€’çš„å¦ä¸€ä¸ªæ•°æ®&#39; &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="page2-æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼ -js"><a href="#page2-æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼ -js" class="headerlink" title="page2 æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼   .js"></a>page2 æ¥æ”¶ä¼ å€¼ï¼Œå¹¶å›ä¼   .js</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½</span><br><span class="line">   *&#x2F;</span><br><span class="line">  onLoad: function (options) &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; é€šè¿‡æ–¹å¼1 ä¼ å€¼æ¥æ”¶</span><br><span class="line">    this.setData(&#123; carName: options.carName &#125;);</span><br><span class="line"></span><br><span class="line">    const eventChannel &#x3D; this.getOpenerEventChannel();</span><br><span class="line">    </span><br><span class="line">    let that &#x3D; this;</span><br><span class="line">    &#x2F;&#x2F; åå‘ä¼ å€¼ page2 ä¼ ç»™ page1</span><br><span class="line">    eventChannel.emit(&#39;getuserInfoClick&#39;, &#123; userName: &#39;æœ±å°æ˜&#39; &#125;);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; &#x2F;&#x2F; é€šè¿‡æ–¹å¼2 ä¼ å€¼æ¥æ”¶</span><br><span class="line">    eventChannel.on(&#39;diyfunName&#39;, function (params) &#123;</span><br><span class="line">      that.setData(&#123; otherPar: params.parKey &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶ã€çˆ¶å­ç»„ä»¶ç›¸äº’è°ƒç”¨ä¼ å€¼</title>
    <url>/2021/01/15/600-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<h1 id="1-åˆ›å»º-header-ç»„ä»¶"><a href="#1-åˆ›å»º-header-ç»„ä»¶" class="headerlink" title="1.åˆ›å»º header ç»„ä»¶"></a>1.åˆ›å»º header ç»„ä»¶</h1><h2 id="1-1-é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º-Componentã€‚-æš‚å‘½åä¸º-header"><a href="#1-1-é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º-Componentã€‚-æš‚å‘½åä¸º-header" class="headerlink" title="1.1 é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º Componentã€‚ æš‚å‘½åä¸º header"></a>1.1 é€‰ä¸­æ–‡ä»¶å¤¹ï¼Œå³é”®æ–°å»º Componentã€‚ æš‚å‘½åä¸º header</h2><h2 id="1-2-header-js-æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•"><a href="#1-2-header-js-æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•" class="headerlink" title="1.2 header.js æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•"></a>1.2 header.js æ–‡ä»¶é…ç½®ç»„ä»¶å±æ€§ä¸æ–¹æ³•</h2><blockquote>
<p>äº¤äº’å…³é”®æ–¹æ³•âš ï¸ this.triggerEvent(â€˜subClickEventâ€™, â€˜æ¥è‡ª å­ç»„ä»¶ çš„ä¿¡å·è¿™ä¸ªæ˜¯ å‚æ•°â€™)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line"></span><br><span class="line"> &#x2F;&#x2F;ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span><br><span class="line">  properties: &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; å±æ€§å ç®€åŒ–å†™æ³•</span><br><span class="line">    name: String,</span><br><span class="line">    &#x2F;&#x2F;&#x2F; å±æ€§å</span><br><span class="line">    car: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      value: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥ä¸ºå‡½æ•°ï¼Œæˆ–ä¸€ä¸ªåœ¨methodsæ®µä¸­å®šä¹‰çš„æ–¹æ³•å</span><br><span class="line">  lifetimes: &#123;</span><br><span class="line">    attached: function () &#123; &#125;,</span><br><span class="line">    moved: function () &#123; &#125;,</span><br><span class="line">    detached: function () &#123; &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span><br><span class="line">  pageLifetimes: &#123;</span><br><span class="line">    show: function () &#123; &#125;,</span><br><span class="line">    hide: function () &#123; &#125;,</span><br><span class="line">    resize: function () &#123; &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶çš„åˆå§‹æ•°æ®</span><br><span class="line">  data: &#123;</span><br><span class="line">    color: &#39;å½©è‰²&#39;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">    logP() &#123;</span><br><span class="line">      console.log(&#39;pppppp&#39;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; ç»„ä»¶å†…éƒ¨å…ˆè°ƒç”¨è¯¥æ–¹æ³• å†è°ƒç”¨çˆ¶æ–¹æ³•</span><br><span class="line">    cllParentClick() &#123;</span><br><span class="line">      &#x2F;&#x2F;  è§¦å‘ subClickEvent äº‹ä»¶ï¼Œ é—´æ¥é€šçŸ¥åœ¨ çˆ¶ç»„ä»¶ä¸­ subClickEvent ç»‘å®šçš„ subClick æ–¹æ³•</span><br><span class="line">      &#x2F;&#x2F;  å»ºè®®  subClickEvent ä¸  subClick å‘½åç›¸åŒï¼Œè¿™ä¸ªåˆšæ¥è§¦æ„Ÿè§‰ä¼šæœ‰ä¸€ç‚¹æ··ä¹±</span><br><span class="line">      &#x2F;&#x2F; subClickEvent å°±æ˜¯é€šçŸ¥åã€‚subClickEvent è¿™ä¸ªé€šçŸ¥åœ¨ä½¿ç”¨è¯¥ç»„ä»¶æ—¶ç»‘å®šçš„ï¼Œç»‘å®šäº†çˆ¶ç»„ä»¶çš„ subClick æ–¹æ³•ã€‚ç„¶ååœ¨è¿™é‡Œè§¦å‘äº† subClickEvent é€šçŸ¥</span><br><span class="line">      this.triggerEvent(&#39;subClickEvent&#39;, &#39;æ¥è‡ª å­ç»„ä»¶ çš„ä¿¡å·è¿™ä¸ªæ˜¯ å‚æ•°&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    btnClick(e) &#123;</span><br><span class="line">      console.log(&#39;å¼€è½¦å¼€è½¦&#39;);</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;&#x2F; ç§æœ‰æ–¹æ³• ä¸‹åˆ’çº¿å¼€å¤´</span><br><span class="line">    _saySelfName() &#123;</span><br><span class="line">      console.log(&#39;header&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="1-3-header-wxml"><a href="#1-3-header-wxml" class="headerlink" title="1.3 header.wxml"></a>1.3 header.wxml</h2><p>header ç»„ä»¶å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;view class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">  &lt;text&gt;name:&#123;&#123;name&#125;&#125;  car:&#123;&#123;car&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">  &lt;button size&#x3D;&quot;default&quot; type&#x3D;&quot;primary&quot; bind:tap&#x3D;&quot;btnClick&quot;&gt;å¼€è½¦å¼€è½¦&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button size&#x3D;&quot;default&quot; type&#x3D;&quot;primary&quot; bind:tap&#x3D;&quot;cllParentClick&quot;&gt;è°ƒç”¨çˆ¶ç»„ä»¶ subClick æ–¹æ³•&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>
<p>header.wxss</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.header &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-ä½¿ç”¨-header-ç»„ä»¶"><a href="#2-ä½¿ç”¨-header-ç»„ä»¶" class="headerlink" title="2. ä½¿ç”¨ header ç»„ä»¶"></a>2. ä½¿ç”¨ header ç»„ä»¶</h1><h2 id="2-1-page-json"><a href="#2-1-page-json" class="headerlink" title="2.1 page.json"></a>2.1 page.json</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;usingComponents&quot;: &#123;</span><br><span class="line">    &quot;header&quot;: &quot;..&#x2F;..&#x2F;..&#x2F;components&#x2F;header&#x2F;header&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-page-wxml"><a href="#2-2-page-wxml" class="headerlink" title="2.2 page.wxml"></a>2.2 page.wxml</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;header id&#x3D;&#39;comHeader&#39; name&#x3D;&#39;æœ±å°æ˜&#39; car&#x3D;&#39;è‡ªè¡Œè½¦&#39; bind:subClickEvent&#x3D;&#39;subClick&#39;&gt;&lt;&#x2F;header&gt;</span><br><span class="line">&lt;button bind:tap&#x3D;&quot;getHeaderInfo&quot;&gt;è·å–ç»„ä»¶å±æ€§&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨è¿™é‡Œæ³¨å†Œçš„ subClickEvent äº‹ä»¶ï¼Œå½“ header ç»„ä»¶è§¦å‘ subClickEvent æ—¶ï¼Œè°ƒç”¨ page çš„  subClick æ–¹æ³•ã€‚ å»ºè®®å°† subClickEvent ä¸ subClick å‘½åç›¸åŒ</p>
</blockquote>
<h2 id="2-3-page-js"><a href="#2-3-page-js" class="headerlink" title="2.3 page.js"></a>2.3 page.js</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; header ç»„ä»¶é—´æ¥è°ƒç”¨è¯¥æ–¹æ³•</span><br><span class="line">  subClick(e) &#123;</span><br><span class="line">    console.log(e.detail);</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F; ä¸»åŠ¨è·å– header ç»„ä»¶å®ä¾‹å¯¹è±¡</span><br><span class="line">  getHeaderInfo() &#123;</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è·å–ç»„ä»¶å®ä¾‹å¯¹è±¡  è®°å¾—åŠ  # </span><br><span class="line">    let header &#x3D; this.selectComponent(&#39;#comHeader&#39;);</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è·å–å±æ€§</span><br><span class="line">    console.log(header.properties.color);</span><br><span class="line">    &#x2F;&#x2F;&#x2F; è°ƒç”¨æ–¹æ³•</span><br><span class="line">    header.logP();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å¾®ä¿¡å°ç¨‹åº</category>
      </categories>
  </entry>
  <entry>
    <title>ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹</title>
    <url>/2021/02/03/1000-000%E4%BB%8E%E8%BE%93%E5%85%A5%20URL%20%E5%88%B0%E5%B1%95%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="ä»è¾“å…¥-URL-åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹"><a href="#ä»è¾“å…¥-URL-åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹"></a>ä»è¾“å…¥ URL åˆ°å±•ç°é¡µé¢çš„å…¨è¿‡ç¨‹</h1><blockquote>
<p>8 ä¸ªè¿‡ç¨‹</p>
</blockquote>
<ul>
<li>URL è¾“å…¥</li>
<li>DNS è§£æ</li>
<li>TCP è¿æ¥</li>
<li>å‘é€ HTTP è¯·æ±‚</li>
<li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</li>
<li>æœåŠ¡å™¨ç›¸åº”è¯·æ±‚</li>
<li>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</li>
<li>è¿æ¥ç»“æŸ</li>
</ul>
<h2 id="1-URL-è¾“å…¥"><a href="#1-URL-è¾“å…¥" class="headerlink" title="1. URL è¾“å…¥"></a>1. URL è¾“å…¥</h2><blockquote>
<p>URLä¸­æ–‡åå«åšç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦æ˜¯å¯¹å¯ä»¥ä»äº’è”ç½‘ä¸Šå¾—åˆ°çš„èµ„æºçš„ä½ç½®å’Œè®¿é—®æ–¹æ³•çš„ä¸€ç§ç®€æ´çš„è¡¨ç¤ºï¼Œæ˜¯äº’è”ç½‘ä¸Šæ ‡å‡†èµ„æºçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„URLï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯æŒ‡å‡ºæ–‡ä»¶çš„ä½ç½®ä»¥åŠæµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚</p>
</blockquote>
<p><strong>ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼šprotocol :// hostname[:port] / path / [;parameters][?query]#fragment</strong></p>
<ul>
<li>protocol åè®®</li>
<li>hostname ä¸»æœºå</li>
<li>port ç«¯å£å·</li>
<li>path è·¯å¾„</li>
<li>parameters å‚æ•°</li>
<li>query æŸ¥è¯¢</li>
<li>fragment ä¿¡æ¯ç‰‡æ®µ<blockquote>
<p>å½“æˆ‘ä»¬å¼€å§‹åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€çš„æ—¶å€™ï¼Œæµè§ˆå™¨å…¶å®å°±å·²ç»åœ¨æ™ºèƒ½çš„åŒ¹é…å¯èƒ½å¾— url äº†ï¼Œä»–ä¼šä»å†å²è®°å½•ï¼Œä¹¦ç­¾ç­‰åœ°æ–¹ï¼Œæ‰¾åˆ°å·²ç»è¾“å…¥çš„å­—ç¬¦ä¸²å¯èƒ½å¯¹åº”çš„ urlï¼Œç„¶åç»™å‡ºæ™ºèƒ½æç¤ºï¼Œè®©ä½ å¯ä»¥è¡¥å…¨urlåœ°å€ã€‚å¯¹äº googleçš„chrome çš„æµè§ˆå™¨ï¼Œä»–ç”šè‡³ä¼šç›´æ¥ä»ç¼“å­˜ä¸­æŠŠç½‘é¡µå±•ç¤ºå‡ºæ¥ï¼Œå°±æ˜¯è¯´ï¼Œä½ è¿˜æ²¡æœ‰æŒ‰ä¸‹ enterï¼Œé¡µé¢å°±å‡ºæ¥äº†ã€‚</p>
</blockquote>
<h2 id="2-DNS-è§£æ"><a href="#2-DNS-è§£æ" class="headerlink" title="2. DNS è§£æ"></a>2. DNS è§£æ</h2><blockquote>
<p>DNSè§£æçš„è¿‡ç¨‹å°±æ˜¯å¯»æ‰¾å“ªå°æœºå™¨ä¸Šæœ‰ä½ éœ€è¦èµ„æºçš„è¿‡ç¨‹ã€‚å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªåœ°å€æ—¶ï¼Œä¾‹å¦‚<a class="link"   href="http://www.baidu.com,å…¶å®ä¸æ˜¯ç™¾åº¦ç½‘ç«™çœŸæ­£æ„ä¹‰ä¸Šçš„åœ°å€.äº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯†æ˜¯å®ƒçš„ipåœ°å€,ä½†æ˜¯ipåœ°å€å¹¶ä¸æ–¹ä¾¿è®°å¿†.ç”¨æˆ·æ›´å–œæ¬¢ç”¨æ–¹ä¾¿è®°å¿†çš„ç½‘å€å»å¯»æ‰¾äº’è”ç½‘ä¸Šçš„å…¶å®ƒè®¡ç®—æœº,ä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ç™¾åº¦çš„ç½‘å€.æ‰€ä»¥äº’è”ç½‘è®¾è®¡è€…éœ€è¦åœ¨ç”¨æˆ·çš„æ–¹ä¾¿æ€§ä¸å¯ç”¨æ€§æ–¹é¢åšä¸€ä¸ªæƒè¡¡,è¿™ä¸ªæƒè¡¡å°±æ˜¯ä¸€ä¸ªç½‘å€åˆ°ipåœ°å€çš„è½¬æ¢,è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯dnsè§£æ.å®ƒå®é™…ä¸Šå……å½“äº†ä¸€ä¸ªç¿»è¯‘çš„è§’è‰²,å®ç°äº†ç½‘å€åˆ°ipåœ°å€çš„è½¬æ¢.ç½‘å€åˆ°ipåœ°å€è½¬æ¢çš„è¿‡ç¨‹æ˜¯å¦‚ä½•è¿›è¡Œçš„/" >www.baidu.comï¼Œå…¶å®ä¸æ˜¯ç™¾åº¦ç½‘ç«™çœŸæ­£æ„ä¹‰ä¸Šçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šæ¯ä¸€å°è®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯†æ˜¯å®ƒçš„IPåœ°å€ï¼Œä½†æ˜¯IPåœ°å€å¹¶ä¸æ–¹ä¾¿è®°å¿†ã€‚ç”¨æˆ·æ›´å–œæ¬¢ç”¨æ–¹ä¾¿è®°å¿†çš„ç½‘å€å»å¯»æ‰¾äº’è”ç½‘ä¸Šçš„å…¶å®ƒè®¡ç®—æœºï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„ç™¾åº¦çš„ç½‘å€ã€‚æ‰€ä»¥äº’è”ç½‘è®¾è®¡è€…éœ€è¦åœ¨ç”¨æˆ·çš„æ–¹ä¾¿æ€§ä¸å¯ç”¨æ€§æ–¹é¢åšä¸€ä¸ªæƒè¡¡ï¼Œè¿™ä¸ªæƒè¡¡å°±æ˜¯ä¸€ä¸ªç½‘å€åˆ°IPåœ°å€çš„è½¬æ¢ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯DNSè§£æã€‚å®ƒå®é™…ä¸Šå……å½“äº†ä¸€ä¸ªç¿»è¯‘çš„è§’è‰²ï¼Œå®ç°äº†ç½‘å€åˆ°IPåœ°å€çš„è½¬æ¢ã€‚ç½‘å€åˆ°IPåœ°å€è½¬æ¢çš„è¿‡ç¨‹æ˜¯å¦‚ä½•è¿›è¡Œçš„<i class="fas fa-external-link-alt"></i></a>?</p>
</blockquote>
</li>
</ul>
<p><strong>æŸ¥æ‰¾é¡ºåºï¼š æµè§ˆå™¨ç¼“å­˜â€“&gt; æ“ä½œç³»ç»Ÿç¼“å­˜â€“&gt; æœ¬åœ°hostæ–‡ä»¶ â€“&gt; è·¯ç”±å™¨ç¼“å­˜â€“&gt; ISP DNSç¼“å­˜ â€“&gt; é¡¶çº§DNSæœåŠ¡å™¨/æ ¹DNSæœåŠ¡å™¨</strong></p>
<p><strong>1. æµè§ˆå™¨ç¼“å­˜ï¼š</strong> é¦–å…ˆä¼šå‘æµè§ˆå™¨çš„ç¼“å­˜ä¸­è¯»å–ä¸Šä¸€æ¬¡è®¿é—®çš„è®°å½•ï¼Œåœ¨ chrome å¯ä»¥é€šè¿‡åœ°å€æ ä¸­è¾“å…¥ chrome://net-internals/#dns æŸ¥çœ‹ç¼“å­˜çš„å½“å‰çŠ¶æ€ ã€‚</p>
<p><strong>2. æ“ä½œç³»ç»Ÿç¼“å­˜ï¼š</strong>  æŸ¥æ‰¾å­˜å‚¨åœ¨ç³»ç»Ÿè¿è¡Œå†…å­˜ä¸­çš„ç¼“å­˜ã€‚åœ¨macä¸­å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¸…é™¤ç³»ç»Ÿä¸­çš„DNSç¼“å­˜ã€‚<br><code>dscacheutil -flushcache</code></p>
<p><strong>3. æœ¬åœ° host æ–‡ä»¶ï¼š</strong> æŸ¥çœ‹æœ¬åœ°ç¡¬ç›˜çš„ hosts æ–‡ä»¶ï¼Œçœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å’Œè¿™ä¸ªåŸŸåå¯¹åº”çš„è§„åˆ™ï¼Œå¦‚æœæœ‰çš„è¯å°±ç›´æ¥ä½¿ç”¨ hosts æ–‡ä»¶é‡Œé¢çš„ ip åœ°å€ã€‚</p>
<p><strong>4. è·¯ç”±å™¨ç¼“å­˜ï¼š</strong> æœ‰äº›è·¯ç”±å™¨ä¹Ÿæœ‰DNSç¼“å­˜çš„åŠŸèƒ½ï¼Œè®¿é—®è¿‡çš„åŸŸåä¼šå­˜åœ¨è·¯ç”±å™¨ä¸Šã€‚</p>
<p><strong>5. ISP DNS ç¼“å­˜ï¼š</strong> äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆå¦‚ä¸­å›½ç”µä¿¡ï¼‰ä¹Ÿä¼šæä¾›DNSæœåŠ¡ï¼Œæ¯”å¦‚æ¯”è¾ƒè‘—åçš„ 114.114.114.114ï¼Œåœ¨æœ¬åœ°æŸ¥æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‘ISPè¿›è¡ŒæŸ¥è¯¢ï¼ŒISPä¼šåœ¨å½“å‰æœåŠ¡å™¨çš„ç¼“å­˜å†…æŸ¥æ‰¾æ˜¯å¦æœ‰è®°å½•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è¿”å›è¿™ä¸ªIPï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ä¼šå¼€å§‹å‘æ ¹åŸŸåæœåŠ¡å™¨è¯·æ±‚æŸ¥è¯¢ã€‚</p>
<p><strong>6. é¡¶çº§ DNS æœåŠ¡å™¨ / æ ¹ DNS æœåŠ¡å™¨ï¼š</strong> æ ¹åŸŸåæ”¶åˆ°è¯·æ±‚åï¼Œä¼šåˆ¤åˆ«è¿™ä¸ªåŸŸå(.com)æ˜¯æˆæƒç»™å“ªå°æœåŠ¡å™¨ç®¡ç†,å¹¶è¿”å›è¿™ä¸ªé¡¶çº§DNSæœåŠ¡å™¨çš„IPã€‚è¯·æ±‚è€…æ”¶åˆ°è¿™å°é¡¶çº§DNSçš„æœåŠ¡å™¨IPåï¼Œä¼šå‘è¯¥æœåŠ¡å™¨å‘èµ·æŸ¥è¯¢ï¼Œå¦‚æœè¯¥æœåŠ¡å™¨æ— æ³•è§£æï¼Œè¯¥æœåŠ¡å™¨å°±ä¼šè¿”å›ä¸‹ä¸€çº§çš„DNSæœåŠ¡å™¨IPï¼ˆbaidu.comï¼‰ï¼Œæœ¬æœºç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æœåŠ¡å™¨æ‰¾åˆ°(<a class="link"   href="http://www.baidu.com)çš„ä¸»æœº./" >www.baidu.com)çš„ä¸»æœºã€‚<i class="fas fa-external-link-alt"></i></a><br>æœ€åï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å‘åŸŸåçš„è§£ææœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿™æ—¶å°±èƒ½æ”¶åˆ°ä¸€ä¸ªåŸŸåå’ŒIPåœ°å€å¯¹åº”å…³ç³»ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨ä¸ä»…è¦æŠŠIPåœ°å€è¿”å›ç»™ç”¨æˆ·ç”µè„‘ï¼Œè¿˜è¦æŠŠè¿™ä¸ªå¯¹åº”å…³ç³»ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œä»¥å¤‡ä¸‹æ¬¡åˆ«çš„ç”¨æˆ·æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼ŒåŠ å¿«ç½‘ç»œè®¿é—®ã€‚</p>
<p><img src="https://files.catbox.moe/t5awpd.png" alt="è¿‡ç¨‹å›¾"></p>
<p>ä¸Šè¿°å›¾ç‰‡æ˜¯æŸ¥æ‰¾ <a class="link"   href="http://www.google.com/" >www.google.com<i class="fas fa-external-link-alt"></i></a> çš„ IP åœ°å€è¿‡ç¨‹ã€‚é¦–å…ˆåœ¨æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸­æŸ¥è¯¢ IP åœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µä¸‹ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¦‚æœæ ¹åŸŸåæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯¥åŸŸåæ—¶ï¼Œæœ¬åœ°åŸŸåä¼šå‘ com é¡¶çº§åŸŸåæœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä¾æ¬¡ç±»æ¨ä¸‹å»ã€‚ç›´åˆ°æœ€åæœ¬åœ°åŸŸåæœåŠ¡å™¨å¾—åˆ° google çš„ IP åœ°å€å¹¶æŠŠå®ƒç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¾›ä¸‹æ¬¡æŸ¥è¯¢ä½¿ç”¨ã€‚ä»ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹å‡ºç½‘å€çš„è§£ææ˜¯ä¸€ä¸ªä»å³å‘å·¦çš„è¿‡ç¨‹: com -&gt; google.com -&gt; <a href="http://www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯www.google.com.ï¼Œå¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.ï¼Œè¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œé€šå¸¸éƒ½ä¼šçœç•¥ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚DNSçš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šï¼Œæ‰€æœ‰ç½‘å€çœŸæ­£çš„è§£æè¿‡ç¨‹ä¸º">www.google.comã€‚ä½†æ˜¯ä½ æ˜¯å¦å‘ç°å°‘äº†ç‚¹ä»€ä¹ˆï¼Œæ ¹åŸŸåæœåŠ¡å™¨çš„è§£æè¿‡ç¨‹å‘¢ï¼Ÿäº‹å®ä¸Šï¼ŒçœŸæ­£çš„ç½‘å€æ˜¯www.google.com.ï¼Œå¹¶ä¸æ˜¯æˆ‘å¤šæ‰“äº†ä¸€ä¸ª.ï¼Œè¿™ä¸ª.å¯¹åº”çš„å°±æ˜¯æ ¹åŸŸåæœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„ç½‘å€çš„æœ€åä¸€ä½éƒ½æ˜¯.ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œé€šå¸¸éƒ½ä¼šçœç•¥ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚DNSçš„æ—¶å€™ä¼šè‡ªåŠ¨åŠ ä¸Šï¼Œæ‰€æœ‰ç½‘å€çœŸæ­£çš„è§£æè¿‡ç¨‹ä¸º</a>: . -&gt; .com -&gt; google.com. -&gt; <a class="link"   href="http://www.google.com../" >www.google.com.ã€‚<i class="fas fa-external-link-alt"></i></a></p>
<p>è¡¥å……ï¼š</p>
<ol>
<li><p>ä»€ä¹ˆæ˜¯ DNS ï¼Ÿ<br>DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰ï¼Œå› ç‰¹ç½‘ä¸Šä½œä¸ºåŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿ç”¨æˆ·æ›´æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘ï¼Œè€Œä¸ç”¨å»è®°ä½èƒ½å¤Ÿè¢«æœºå™¨ç›´æ¥è¯»å–çš„IPæ•°ä¸²ã€‚é€šè¿‡ä¸»æœºåï¼Œæœ€ç»ˆå¾—åˆ°è¯¥ä¸»æœºåå¯¹åº”çš„IPåœ°å€çš„è¿‡ç¨‹å«åšåŸŸåè§£æï¼ˆæˆ–ä¸»æœºåè§£æï¼‰ã€‚<br>â€ƒâ€ƒé€šä¿—çš„è®²ï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯äºè®°ä½ä¸€ä¸ªç½‘ç«™çš„åå­—ï¼Œæ¯”å¦‚<a href="http://www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚">www.baidu.com,è€Œä¸æ˜¯è®°ä½å®ƒçš„ipåœ°å€ï¼Œæ¯”å¦‚ï¼š167.23.10.2ã€‚è€Œè®¡ç®—æœºæ›´æ“…é•¿è®°ä½ç½‘ç«™çš„ipåœ°å€ï¼Œè€Œä¸æ˜¯åƒwww.baidu.comç­‰é“¾æ¥ã€‚å› ä¸ºï¼ŒDNSå°±ç›¸å½“äºä¸€ä¸ªç”µè¯æœ¬ï¼Œæ¯”å¦‚ä½ è¦æ‰¾www.baidu.comè¿™ä¸ªåŸŸåï¼Œé‚£æˆ‘ç¿»ä¸€ç¿»æˆ‘çš„ç”µè¯æœ¬ï¼Œæˆ‘å°±çŸ¥é“ï¼Œå“¦ï¼Œå®ƒçš„ç”µè¯ï¼ˆipï¼‰æ˜¯167.23.10.2ã€‚</a></p>
</li>
<li><p>DNS æŸ¥è¯¢çš„ä¸¤ç§æ–¹å¼ï¼šé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢</p>
<p> 2.1 é€’å½’è§£æ<br> å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œå®ƒå°±éœ€è¦å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚æ­¤æ—¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¦‚å›¾æ‰€ç¤ºçš„æ˜¯é€’å½’æ–¹å¼ã€‚å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±è´Ÿè´£å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œä¸€èˆ¬æ˜¯å…ˆå‘è¯¥åŸŸåçš„æ ¹åŸŸæœåŠ¡å™¨æŸ¥è¯¢ï¼Œå†ç”±æ ¹åŸŸåæœåŠ¡å™¨ä¸€çº§çº§å‘ä¸‹æŸ¥è¯¢ã€‚æœ€åå¾—åˆ°çš„æŸ¥è¯¢ç»“æœè¿”å›ç»™å±€éƒ¨DNSæœåŠ¡å™¨ï¼Œå†ç”±å±€éƒ¨DNSæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br><img src="https://files.catbox.moe/4vqiqy.png" alt="DNS é€’å½’è§£ææŸ¥è¯¢"></p>
<p> 2.2 è¿­ä»£è§£æ<br> å½“å±€éƒ¨DNSæœåŠ¡å™¨è‡ªå·±ä¸èƒ½å›ç­”å®¢æˆ·æœºçš„DNSæŸ¥è¯¢æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿­ä»£æŸ¥è¯¢çš„æ–¹å¼è¿›è¡Œè§£æï¼Œå¦‚å›¾æ‰€ç¤ºã€‚å±€éƒ¨DNSæœåŠ¡å™¨ä¸æ˜¯è‡ªå·±å‘å…¶ä»–DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œæ˜¯æŠŠèƒ½è§£æè¯¥åŸŸåçš„å…¶ä»–DNSæœåŠ¡å™¨çš„IPåœ°å€è¿”å›ç»™å®¢æˆ·ç«¯DNSç¨‹åºï¼Œå®¢æˆ·ç«¯DNSç¨‹åºå†ç»§ç»­å‘è¿™äº›DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œç›´åˆ°å¾—åˆ°æŸ¥è¯¢ç»“æœä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿­ä»£è§£æåªæ˜¯å¸®ä½ æ‰¾åˆ°ç›¸å…³çš„æœåŠ¡å™¨è€Œå·²ï¼Œè€Œä¸ä¼šå¸®ä½ å»æŸ¥ã€‚æ¯”å¦‚è¯´ï¼šbaidu.comçš„æœåŠ¡å™¨ipåœ°å€åœ¨192.168.4.5è¿™é‡Œï¼Œä½ è‡ªå·±å»æŸ¥å§ï¼Œæœ¬äººæ¯”è¾ƒå¿™ï¼Œåªèƒ½å¸®ä½ åˆ°è¿™é‡Œäº†ã€‚<br><img src="https://files.catbox.moe/rnsyzp.png" alt="DNS è¿­ä»£è§£ææŸ¥è¯¢"></p>
</li>
<li><p>DNS åŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼<br>æˆ‘ä»¬åœ¨å‰é¢æœ‰è¯´åˆ°æ ¹DNSæœåŠ¡å™¨ï¼ŒåŸŸDNSæœåŠ¡å™¨ï¼Œè¿™äº›éƒ½æ˜¯DNSåŸŸåç§°ç©ºé—´çš„ç»„ç»‡æ–¹å¼ã€‚æŒ‰å…¶åŠŸèƒ½å‘½åç©ºé—´ä¸­ç”¨æ¥æè¿° DNS åŸŸåç§°çš„äº”ä¸ªç±»åˆ«çš„ä»‹ç»è¯¦è§ä¸‹è¡¨ä¸­ï¼Œä»¥åŠä¸æ¯ä¸ªåç§°ç±»å‹çš„ç¤ºä¾‹</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>åç§°ç±»å‹</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>æ ¹åŸŸ</td>
<td>DNS åŸŸåä¸­ä½¿ç”¨æ—¶ï¼Œè§„æ¨¡ç”±å°¾éƒ¨å¥ç‚¹(.) æ¥æŒ‡å®šåç§°ä½äºæ ¹æˆ–æ›´é«˜çº§åˆ«çš„åŸŸå±‚æ¬¡ç»“æ„</td>
<td>å•ä¸ªå¥ç‚¹(.)æˆ–å¥ç‚¹ç”¨äºæœ«å°¾çš„åç§°</td>
</tr>
<tr>
<td>é¡¶çº§åŸŸ</td>
<td>ç”¨æ¥æŒ‡ç¤ºæŸä¸ªå›½å®¶/åœ°åŒºæˆ–ç»„ç»‡çš„åç§°</td>
<td>.com</td>
</tr>
<tr>
<td>ç¬¬äºŒå±‚åŸŸ</td>
<td>ä¸ªäººæˆ–ç»„ç»‡åœ¨ Internet ä¸Šä½¿ç”¨çš„æ³¨å†Œåç§°</td>
<td>qq.com</td>
</tr>
<tr>
<td>å­åŸŸ</td>
<td>å·²æ³¨å†Œçš„äºŒçº§åŸŸåæ´¾ç”Ÿçš„åŸŸåï¼Œé€šä¿—çš„è®²å°±æ˜¯ç½‘ç«™å</td>
<td><a class="link"   href="http://www.qq.com/" >www.qq.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>ä¸»æœºå</td>
<td>é€šå¸¸æƒ…å†µä¸‹ï¼ŒDNS åŸŸåçš„æœ€å·¦ä¾§çš„æ ‡ç­¾æ ‡ç¤ºç½‘ç»œä¸Šçš„ç‰¹å®šè®¡ç®—æœº å¦‚ h1</td>
<td>h1.<a class="link"   href="http://www.qq.com/" >www.qq.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
</tbody></table>
<ol start="4">
<li><p>DNS ä¼˜åŒ–<br>äº†è§£äº†DNSçš„è¿‡ç¨‹ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¸¦æ¥å“ªäº›ï¼Ÿä¸Šæ–‡ä¸­è¯·æ±‚åˆ°googleçš„IPåœ°å€æ—¶ï¼Œç»å†äº†8ä¸ªæ­¥éª¤ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å­˜åœ¨å¤šä¸ªè¯·æ±‚(åŒæ—¶å­˜åœ¨UDPå’ŒTCPè¯·æ±‚ï¼Œä¸ºä»€ä¹ˆæœ‰ä¸¤ç§è¯·æ±‚æ–¹å¼ï¼Œè¯·è‡ªè¡ŒæŸ¥æ‰¾)ã€‚å¦‚æœæ¯æ¬¡éƒ½ç»è¿‡è¿™ä¹ˆå¤šæ­¥éª¤ï¼Œæ˜¯å¦å¤ªè€—æ—¶é—´ï¼Ÿå¦‚ä½•å‡å°‘è¯¥è¿‡ç¨‹çš„æ­¥éª¤å‘¢ï¼Ÿé‚£å°±æ˜¯DNSç¼“å­˜ã€‚</p>
<p> 4.1 DNS ç¼“å­˜<br> DNSå­˜åœ¨ç€å¤šçº§ç¼“å­˜ï¼Œä»ç¦»æµè§ˆå™¨çš„è·ç¦»æ’åºçš„è¯ï¼Œæœ‰ä»¥ä¸‹å‡ ç§: æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œè·¯ç”±å™¨ç¼“å­˜ï¼ŒIPSæœåŠ¡å™¨ç¼“å­˜ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œé¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œä¸»åŸŸåæœåŠ¡å™¨ç¼“å­˜ã€‚<br> 4.2 DNS è´Ÿè½½å‡è¡¡<br> å½“ä¸€ä¸ªç½‘ç«™æœ‰è¶³å¤Ÿå¤šçš„ç”¨æˆ·çš„æ—¶å€™ï¼Œå‡å¦‚æ¯æ¬¡è¯·æ±‚çš„èµ„æºéƒ½ä½äºåŒä¸€å°æœºå™¨ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨éšæ—¶å¯èƒ½ä¼šè¹¦æ‰ã€‚å¤„ç†åŠæ³•å°±æ˜¯ç”¨DNSè´Ÿè½½å‡è¡¡æŠ€æœ¯ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨DNSæœåŠ¡å™¨ä¸­ä¸ºåŒä¸€ä¸ªä¸»æœºåé…ç½®å¤šä¸ªIPåœ°å€,åœ¨åº”ç­”DNSæŸ¥è¯¢æ—¶,DNSæœåŠ¡å™¨å¯¹æ¯ä¸ªæŸ¥è¯¢å°†ä»¥DNSæ–‡ä»¶ä¸­ä¸»æœºè®°å½•çš„IPåœ°å€æŒ‰é¡ºåºè¿”å›ä¸åŒçš„è§£æç»“æœ,å°†å®¢æˆ·ç«¯çš„è®¿é—®å¼•å¯¼åˆ°ä¸åŒçš„æœºå™¨ä¸Šå»,ä½¿å¾—ä¸åŒçš„å®¢æˆ·ç«¯è®¿é—®ä¸åŒçš„æœåŠ¡å™¨,ä»è€Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„ç›®çš„ï½¡ä¾‹å¦‚å¯ä»¥æ ¹æ®æ¯å°æœºå™¨çš„è´Ÿè½½é‡ï¼Œè¯¥æœºå™¨ç¦»ç”¨æˆ·åœ°ç†ä½ç½®çš„è·ç¦»ç­‰ç­‰ã€‚</p>
</li>
</ol>
<h2 id="3-å»ºç«‹-TCP-è¿æ¥"><a href="#3-å»ºç«‹-TCP-è¿æ¥" class="headerlink" title="3. å»ºç«‹ TCP è¿æ¥"></a>3. å»ºç«‹ TCP è¿æ¥</h2><p>æ‹¿åˆ°åŸŸåå¯¹åº”çš„IPåœ°å€ä¹‹åï¼Œæµè§ˆå™¨ä¼šä»¥ä¸€ä¸ªéšæœºç«¯å£ï¼ˆ1024&lt;ç«¯å£&lt;65535ï¼‰å‘æœåŠ¡å™¨çš„WEBç¨‹åºï¼ˆå¸¸ç”¨çš„æœ‰httpd,nginxç­‰ï¼‰80ç«¯å£å‘èµ·TCPçš„è¿æ¥è¯·æ±‚ã€‚è¿™ä¸ªè¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ç«¯åï¼ˆè¿™ä¸­é—´é€šè¿‡å„ç§è·¯ç”±è®¾å¤‡ï¼Œå±€åŸŸç½‘å†…é™¤å¤–ï¼‰ï¼Œè¿›å…¥åˆ°ç½‘å¡ï¼Œç„¶åæ˜¯è¿›å…¥åˆ°å†…æ ¸çš„TCP/IPåè®®æ ˆï¼ˆç”¨äºè¯†åˆ«è¯¥è¿æ¥è¯·æ±‚ï¼Œè§£å°åŒ…ï¼Œä¸€å±‚ä¸€å±‚çš„å‰¥å¼€ï¼‰ï¼Œè¿˜æœ‰å¯èƒ½è¦ç»è¿‡Netfilteré˜²ç«å¢™ï¼ˆå±äºå†…æ ¸çš„æ¨¡å—ï¼‰çš„è¿‡æ»¤ï¼Œæœ€ç»ˆåˆ°è¾¾WEBç¨‹åºï¼Œæœ€ç»ˆå»ºç«‹äº†TCP/IPçš„è¿æ¥ã€‚</p>
<p><img src="https://files.catbox.moe/bnd17b.png" alt="TCP è¿æ¥å›¾"></p>
<p>ä¸‰æ¬¡æ¡æ‰‹ä»¥å»ºç«‹ TCP è¿æ¥<br>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚</p>
<p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</p>
<p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</p>
<p><strong>ä¸ºä»€éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</strong><br>ã€Šè®¡ç®—æœºç½‘ç»œã€‹ç¬¬å››ç‰ˆä¸­è®²â€œä¸‰æ¬¡æ¡æ‰‹â€çš„ç›®çš„æ˜¯â€œä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯â€ï¼Œä¹¦ä¸­çš„ä¾‹å­æ˜¯è¿™æ ·çš„ï¼Œâ€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€çš„äº§ç”Ÿåœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼šclientå‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾serverã€‚æœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µã€‚ä½†serveræ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯clientå†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚äºæ˜¯å°±å‘clientå‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ã€‚å‡è®¾ä¸é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œé‚£ä¹ˆåªè¦serverå‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ã€‚ç”±äºç°åœ¨clientå¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬serverçš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘serverå‘é€æ•°æ®ã€‚ä½†serverå´ä»¥ä¸ºæ–°çš„è¿è¾“è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾…clientå‘æ¥æ•°æ®ã€‚è¿™æ ·ï¼Œserverçš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿã€‚ä¾‹å¦‚åˆšæ‰é‚£ç§æƒ…å†µï¼Œclientä¸ä¼šå‘serverçš„ç¡®è®¤å‘å‡ºç¡®è®¤ã€‚serverç”±äºæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“clientå¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¿æ¥ã€‚â€ã€‚ä¸»è¦ç›®çš„é˜²æ­¢serverç«¯ä¸€ç›´ç­‰å¾…ï¼Œæµªè´¹èµ„æºã€‚</p>
<h2 id="4-å‘é€HTTPè¯·æ±‚"><a href="#4-å‘é€HTTPè¯·æ±‚" class="headerlink" title="4. å‘é€HTTPè¯·æ±‚"></a>4. å‘é€HTTPè¯·æ±‚</h2><p>å»ºç«‹äº†TCPè¿æ¥ä¹‹åï¼Œå‘èµ·ä¸€ä¸ªhttpè¯·æ±‚ã€‚ä¸€ä¸ªå…¸å‹çš„ http request header ä¸€èˆ¬éœ€è¦åŒ…æ‹¬è¯·æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GET æˆ–è€… POST ç­‰ï¼Œä¸å¸¸ç”¨çš„è¿˜æœ‰ PUT å’Œ DELETE ã€HEADã€OPTIONä»¥åŠ TRACE æ–¹æ³•ï¼Œä¸€èˆ¬çš„æµè§ˆå™¨åªèƒ½å‘èµ· GET æˆ–è€… POST è¯·æ±‚ã€‚ â€ƒâ€ƒ</p>
<p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·httpè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›è¯·æ±‚ä¿¡æ¯ï¼Œè¯·æ±‚ä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹æ³•URIåè®®/ç‰ˆæœ¬</li>
<li>è¯·æ±‚å¤´(Request Header)</li>
<li>è¯·æ±‚æ­£æ–‡</li>
</ul>
<h2 id="5-æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘"><a href="#5-æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘" class="headerlink" title="5.æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘"></a>5.æœåŠ¡å™¨æ°¸ä¹…é‡å®šå‘</h2><p>æœåŠ¡å™¨ç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª301æ°¸ä¹…é‡å®šå‘å“åº”ï¼Œè¿™æ ·æµè§ˆå™¨å°±ä¼šè®¿é—®<a class="link"   href="http://www.google.com/" >http://www.google.com/<i class="fas fa-external-link-alt"></i></a>Â è€Œé<a class="link"   href="http://google.com/%E3%80%82" >http://google.com/ã€‚<i class="fas fa-external-link-alt"></i></a> â€ƒâ€ƒ<br>â€‹    ä¸ºä»€ä¹ˆæœåŠ¡å™¨ä¸€å®šè¦é‡å®šå‘è€Œä¸æ˜¯ç›´æ¥å‘é€ç”¨æˆ·æƒ³çœ‹çš„ç½‘é¡µå†…å®¹å‘¢ï¼Ÿå…¶ä¸­ä¸€ä¸ªåŸå› è·Ÿæœç´¢å¼•æ“æ’åæœ‰å…³ã€‚å¦‚æœä¸€ä¸ªé¡µé¢æœ‰ä¸¤ä¸ªåœ°å€ï¼Œå°±åƒ<a class="link"   href="http://www.yy.com/%E5%92%8Chttp://yy.com/%EF%BC%8C%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%9A%E8%AE%A4%E4%B8%BA%E5%AE%83%E4%BB%AC%E6%98%AF%E4%B8%A4%E4%B8%AA%E7%BD%91%E7%AB%99%EF%BC%8C%E7%BB%93%E6%9E%9C%E9%80%A0%E6%88%90%E6%AF%8F%E4%B8%AA%E6%90%9C%E7%B4%A2%E9%93%BE%E6%8E%A5%E9%83%BD%E5%87%8F%E5%B0%91%E4%BB%8E%E8%80%8C%E9%99%8D%E4%BD%8E%E6%8E%92%E5%90%8D%E3%80%82%E8%80%8C%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9F%A5%E9%81%93301%E6%B0%B8%E4%B9%85%E9%87%8D%E5%AE%9A%E5%90%91%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E4%BC%9A%E6%8A%8A%E8%AE%BF%E9%97%AE%E5%B8%A6www%E7%9A%84%E5%92%8C%E4%B8%8D%E5%B8%A6www%E7%9A%84%E5%9C%B0%E5%9D%80%E5%BD%92%E5%88%B0%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BD%91%E7%AB%99%E6%8E%92%E5%90%8D%E4%B8%8B%E3%80%82%E8%BF%98%E6%9C%89%E5%B0%B1%E6%98%AF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E5%9C%B0%E5%9D%80%E4%BC%9A%E9%80%A0%E6%88%90%E7%BC%93%E5%AD%98%E5%8F%8B%E5%A5%BD%E6%80%A7%E5%8F%98%E5%B7%AE%EF%BC%8C%E5%BD%93%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%E6%9C%89%E5%A5%BD%E5%87%A0%E4%B8%AA%E5%90%8D%E5%AD%97%E6%97%B6%EF%BC%8C%E5%AE%83%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%9C%A8%E7%BC%93%E5%AD%98%E9%87%8C%E5%87%BA%E7%8E%B0%E5%A5%BD%E5%87%A0%E6%AC%A1%E3%80%82" >http://www.yy.com/å’Œhttp://yy.com/ï¼Œæœç´¢å¼•æ“ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªç½‘ç«™ï¼Œç»“æœé€ æˆæ¯ä¸ªæœç´¢é“¾æ¥éƒ½å‡å°‘ä»è€Œé™ä½æ’åã€‚è€Œæœç´¢å¼•æ“çŸ¥é“301æ°¸ä¹…é‡å®šå‘æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™æ ·å°±ä¼šæŠŠè®¿é—®å¸¦wwwçš„å’Œä¸å¸¦wwwçš„åœ°å€å½’åˆ°åŒä¸€ä¸ªç½‘ç«™æ’åä¸‹ã€‚è¿˜æœ‰å°±æ˜¯ç”¨ä¸åŒçš„åœ°å€ä¼šé€ æˆç¼“å­˜å‹å¥½æ€§å˜å·®ï¼Œå½“ä¸€ä¸ªé¡µé¢æœ‰å¥½å‡ ä¸ªåå­—æ—¶ï¼Œå®ƒå¯èƒ½ä¼šåœ¨ç¼“å­˜é‡Œå‡ºç°å¥½å‡ æ¬¡ã€‚<i class="fas fa-external-link-alt"></i></a></p>
<ul>
<li>è¡¥å……</li>
</ul>
<ol>
<li>301å’Œ302çš„åŒºåˆ«ï¼š</li>
</ol>
<p>301å’Œ302çŠ¶æ€ç éƒ½è¡¨ç¤ºé‡å®šå‘ï¼Œå°±æ˜¯è¯´æµè§ˆå™¨åœ¨æ‹¿åˆ°æœåŠ¡å™¨è¿”å›çš„è¿™ä¸ªçŠ¶æ€ç åä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸€ä¸ªæ–°çš„URLåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯ä»¥ä»å“åº”çš„Locationé¦–éƒ¨ä¸­è·å–ï¼ˆç”¨æˆ·çœ‹åˆ°çš„æ•ˆæœå°±æ˜¯ä»–è¾“å…¥çš„åœ°å€Aç¬é—´å˜æˆäº†å¦ä¸€ä¸ªåœ°å€Bï¼‰â€”â€”è¿™æ˜¯å®ƒä»¬çš„å…±åŒç‚¹ã€‚<br>â€ƒâ€ƒä»–ä»¬çš„ä¸åŒåœ¨äºã€‚301è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºå·²ç»è¢«æ°¸ä¹…åœ°ç§»é™¤äº†ï¼ˆè¿™ä¸ªèµ„æºä¸å¯è®¿é—®äº†ï¼‰ï¼Œæœç´¢å¼•æ“åœ¨æŠ“å–æ–°å†…å®¹çš„åŒæ—¶ä¹Ÿå°†æ—§çš„ç½‘å€äº¤æ¢ä¸ºé‡å®šå‘ä¹‹åçš„ç½‘å€ï¼›<br>â€ƒâ€ƒ302è¡¨ç¤ºæ—§åœ°å€Açš„èµ„æºè¿˜åœ¨ï¼ˆä»ç„¶å¯ä»¥è®¿é—®ï¼‰ï¼Œè¿™ä¸ªé‡å®šå‘åªæ˜¯ä¸´æ—¶åœ°ä»æ—§åœ°å€Aè·³è½¬åˆ°åœ°å€Bï¼Œæœç´¢å¼•æ“ä¼šæŠ“å–æ–°çš„å†…å®¹è€Œä¿å­˜æ—§çš„ç½‘å€ã€‚ SEO302å¥½äº301</p>
<ol start="2">
<li><p>é‡å®šå‘åŸå› ï¼š<br>(1)ç½‘ç«™è°ƒæ•´ï¼ˆå¦‚æ”¹å˜ç½‘é¡µç›®å½•ç»“æ„ï¼‰ï¼›<br>(2)ç½‘é¡µè¢«ç§»åˆ°ä¸€ä¸ªæ–°åœ°å€ï¼›<br>(3)ç½‘é¡µæ‰©å±•åæ”¹å˜(å¦‚åº”ç”¨éœ€è¦æŠŠ.phpæ”¹æˆ.Htmlæˆ–.shtml)ã€‚<br>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åšé‡å®šå‘ï¼Œåˆ™ç”¨æˆ·æ”¶è—å¤¹æˆ–æœç´¢å¼•æ“æ•°æ®åº“ä¸­æ—§åœ°å€åªèƒ½è®©è®¿é—®å®¢æˆ·å¾—åˆ°ä¸€ä¸ª404é¡µé¢é”™è¯¯ä¿¡æ¯ï¼Œè®¿é—®æµé‡ç™½ç™½ä¸§å¤±ï¼›å†è€…æŸäº›æ³¨å†Œäº†å¤šä¸ªåŸŸåçš„ç½‘ç«™ï¼Œä¹Ÿéœ€è¦é€šè¿‡é‡å®šå‘è®©è®¿é—®è¿™äº›åŸŸåçš„ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ä¸»ç«™ç‚¹ç­‰ã€‚</p>
</li>
<li><p>ä»€ä¹ˆæ—¶å€™è¿›è¡Œ301æˆ–è€…302è·³è½¬å‘¢ï¼Ÿ<br>å½“ä¸€ä¸ªç½‘ç«™æˆ–è€…ç½‘é¡µ24â€”48å°æ—¶å†…ä¸´æ—¶ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®ï¼Œè¿™æ—¶å€™å°±è¦è¿›è¡Œ302è·³è½¬ï¼Œè€Œä½¿ç”¨301è·³è½¬çš„åœºæ™¯å°±æ˜¯ä¹‹å‰çš„ç½‘ç«™å› ä¸ºæŸç§åŸå› éœ€è¦ç§»é™¤æ‰ï¼Œç„¶åè¦åˆ°æ–°çš„åœ°å€è®¿é—®ï¼Œæ˜¯æ°¸ä¹…æ€§çš„ã€‚ æ¸…æ™°æ˜ç¡®è€Œè¨€ï¼šä½¿ç”¨301è·³è½¬çš„å¤§æ¦‚åœºæ™¯å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<ul>
<li>åŸŸååˆ°æœŸä¸æƒ³ç»­è´¹ï¼ˆæˆ–è€…å‘ç°äº†æ›´é€‚åˆç½‘ç«™çš„åŸŸåï¼‰ï¼Œæƒ³æ¢ä¸ªåŸŸåã€‚</li>
<li>åœ¨æœç´¢å¼•æ“çš„æœç´¢ç»“æœä¸­å‡ºç°äº†ä¸å¸¦wwwçš„åŸŸåï¼Œè€Œå¸¦wwwçš„åŸŸåå´æ²¡æœ‰æ”¶å½•ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨301é‡å®šå‘æ¥å‘Šè¯‰æœç´¢å¼•æ“æˆ‘ä»¬ç›®æ ‡çš„åŸŸåæ˜¯å“ªä¸€ä¸ªã€‚</li>
<li>ç©ºé—´æœåŠ¡å™¨ä¸ç¨³å®šï¼Œæ¢ç©ºé—´çš„æ—¶å€™ã€‚</li>
</ul>
<h2 id="6-æœåŠ¡å™¨å¤„ç†è¯·æ±‚"><a href="#6-æœåŠ¡å™¨å¤„ç†è¯·æ±‚" class="headerlink" title="6. æœåŠ¡å™¨å¤„ç†è¯·æ±‚"></a>6. æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h2><p>ç»è¿‡å‰é¢çš„é‡é‡æ­¥éª¤ï¼Œæˆ‘ä»¬ç»ˆäºå°†æˆ‘ä»¬çš„httpè¯·æ±‚å‘é€åˆ°äº†æœåŠ¡å™¨è¿™é‡Œï¼Œå…¶å®å‰é¢çš„é‡å®šå‘å·²ç»æ˜¯åˆ°è¾¾æœåŠ¡å™¨äº†ï¼Œé‚£ä¹ˆï¼ŒæœåŠ¡å™¨æ˜¯å¦‚ä½•å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚çš„å‘¢ï¼Ÿ â€ƒâ€ƒ</p>
<p>åç«¯ä»åœ¨å›ºå®šçš„ç«¯å£æ¥æ”¶åˆ°TCPæŠ¥æ–‡å¼€å§‹ï¼Œå®ƒä¼šå¯¹TCPè¿æ¥è¿›è¡Œå¤„ç†ï¼Œå¯¹HTTPåè®®è¿›è¡Œè§£æï¼Œå¹¶æŒ‰ç…§æŠ¥æ–‡æ ¼å¼è¿›ä¸€æ­¥å°è£…æˆHTTP Requestå¯¹è±¡ï¼Œä¾›ä¸Šå±‚ä½¿ç”¨ã€‚ â€ƒâ€ƒ<br>ä¸€äº›å¤§ä¸€ç‚¹çš„ç½‘ç«™ä¼šå°†ä½ çš„è¯·æ±‚åˆ°åå‘ä»£ç†æœåŠ¡å™¨ä¸­ï¼Œå› ä¸ºå½“ç½‘ç«™è®¿é—®é‡éå¸¸å¤§ï¼Œç½‘ç«™è¶Šæ¥è¶Šæ…¢ï¼Œä¸€å°æœåŠ¡å™¨å·²ç»ä¸å¤Ÿç”¨äº†ã€‚äºæ˜¯å°†åŒä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå°†å¤§é‡ç”¨æˆ·çš„è¯·æ±‚åˆ†é…ç»™å¤šå°æœºå™¨å¤„ç†ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¸æ˜¯ç›´æ¥é€šè¿‡HTTPåè®®è®¿é—®æŸç½‘ç«™åº”ç”¨æœåŠ¡å™¨ï¼Œè€Œæ˜¯å…ˆè¯·æ±‚åˆ°Nginxï¼ŒNginxå†è¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™é‡ŒNginxçš„ä½œç”¨æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªå¥½å¤„ï¼Œå…¶ä¸­ä¸€å°æœåŠ¡å™¨ä¸‡ä¸€æŒ‚äº†ï¼Œåªè¦è¿˜æœ‰å…¶ä»–æœåŠ¡å™¨æ­£å¸¸è¿è¡Œï¼Œå°±ä¸ä¼šå½±å“ç”¨æˆ·ä½¿ç”¨ã€‚</p>
<p><img src="https://files.catbox.moe/pn6p43.png" alt="ç¤ºä¾‹å›¾"></p>
<ul>
<li>è¡¥å……ï¼š</li>
</ul>
<ol>
<li>ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ<br>å®¢æˆ·ç«¯æœ¬æ¥å¯ä»¥ç›´æ¥é€šè¿‡HTTPåè®®è®¿é—®æŸç½‘ç«™åº”ç”¨æœåŠ¡å™¨ï¼Œç½‘ç«™ç®¡ç†å‘˜å¯ä»¥åœ¨ä¸­é—´åŠ ä¸Šä¸€ä¸ªNginxï¼Œå®¢æˆ·ç«¯è¯·æ±‚Nginxï¼ŒNginxè¯·æ±‚åº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶Nginxå°±æ˜¯åå‘ä»£ç†æœåŠ¡å™¨ã€‚<br><img src="https://files.catbox.moe/ysfjxn.png" alt="ç¤ºä¾‹å›¾"></li>
</ol>
<h2 id="7-æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”"><a href="#7-æœåŠ¡å™¨è¿”å›ä¸€ä¸ª-HTTP-å“åº”" class="headerlink" title="7. æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”"></a>7. æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”</h2><p>ç»è¿‡å‰é¢çš„6ä¸ªæ­¥éª¤ï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œä¹Ÿå¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œå®ƒä¼šæŠŠå®ƒçš„å¤„ç†ç»“æœè¿”å›ï¼Œä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªHTPPå“åº”ã€‚ HTTPå“åº”ä¸HTTPè¯·æ±‚ç›¸ä¼¼ï¼ŒHTTPå“åº”ä¹Ÿç”±3ä¸ªéƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>çŠ¶æ€è¡Œ</li>
<li>å“åº”å¤´</li>
<li>ç©ºè¡Œ</li>
<li>å“åº”æ­£æ–‡</li>
</ul>
<p><strong>çŠ¶æ€è¡Œï¼š</strong><br>çŠ¶æ€è¡Œç”±åè®®ç‰ˆæœ¬ã€æ•°å­—å½¢å¼çš„çŠ¶æ€ä»£ç ã€åŠç›¸åº”çš„çŠ¶æ€æè¿°ï¼Œå„å…ƒç´ ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚<br>æ ¼å¼: HTTP-Version Status-Code Reason-Phrase CRLF<br>ä¾‹å¦‚: HTTP/1.1 200 OK \r\n<br>| -åè®®ç‰ˆæœ¬ï¼šæ˜¯ç”¨http1.0è¿˜æ˜¯å…¶ä»–ç‰ˆæœ¬<br>| -çŠ¶æ€æè¿°ï¼šçŠ¶æ€æè¿°ç»™å‡ºäº†å…³äºçŠ¶æ€ä»£ç çš„ç®€çŸ­çš„æ–‡å­—æè¿°ã€‚æ¯”å¦‚çŠ¶æ€ä»£ç ä¸º200æ—¶çš„æè¿°ä¸º ok<br>| -æ€ä»£ç ï¼šçŠ¶æ€ä»£ç ç”±ä¸‰ä½æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªæ•°å­—å®šä¹‰äº†å“åº”çš„ç±»åˆ«ï¼Œä¸”æœ‰äº”ç§å¯èƒ½å–å€¼ã€‚</p>
<p>==1xxï¼š== ä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æ¥æ”¶äº†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯ç»§ç»­å‘é€è¯·æ±‚ã€‚</p>
<ul>
<li>100 Continue</li>
<li>101 Switching Protocols</li>
</ul>
<p>==2xxï¼š== æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æˆåŠŸæ¥æ”¶åˆ°è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>200 OK è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ</li>
<li>204 No Content æˆåŠŸï¼Œä½†ä¸è¿”å›ä»»ä½•å®ä½“çš„ä¸»ä½“éƒ¨åˆ†</li>
<li>206 Partial Content æˆåŠŸæ‰§è¡Œäº†ä¸€ä¸ªèŒƒå›´ï¼ˆRangeï¼‰è¯·æ±‚</li>
</ul>
<p>==3xxï¼š== é‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯é‡å®šå‘ã€‚</p>
<ul>
<li>301 Moved Permanently æ°¸ä¹…æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨åº”è¯¥æœ‰è¯¥èµ„æºçš„æ–°URL</li>
<li>302 Found ä¸´æ—¶æ€§é‡å®šå‘ï¼Œå“åº”æŠ¥æ–‡çš„Locationé¦–éƒ¨ç»™å‡ºçš„URLç”¨æ¥ä¸´æ—¶å®šä½èµ„æº</li>
<li>303 See Other è¯·æ±‚çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ªURIï¼Œå®¢æˆ·ç«¯åº”ä½¿ç”¨GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æº</li>
<li>304 Not Modified æœåŠ¡å™¨å†…å®¹æ²¡æœ‰æ›´æ–°ï¼Œå¯ä»¥ç›´æ¥è¯»å–æµè§ˆå™¨ç¼“å­˜</li>
<li>307 Temporary Redirect ä¸´æ—¶é‡å®šå‘ã€‚ä¸302 Foundå«ä¹‰ä¸€æ ·ã€‚302ç¦æ­¢POSTå˜æ¢ä¸ºGETï¼Œä½†å®é™…ä½¿ç”¨æ—¶å¹¶ä¸ä¸€å®šï¼Œ307åˆ™æ›´å¤šæµè§ˆå™¨å¯èƒ½ä¼šéµå¾ªè¿™ä¸€æ ‡å‡†ï¼Œä½†ä¹Ÿä¾èµ–äºæµè§ˆå™¨å…·ä½“å®ç°</li>
</ul>
<p>==4xxï¼š== å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰éæ³•å†…å®¹ã€‚</p>
<ul>
<li>400 Bad Request è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯ï¼Œä¸èƒ½è¢«æœåŠ¡å™¨æ‰€ç†è§£</li>
<li>401 Unauthonzed è¡¨ç¤ºè¯·æ±‚æœªç»æˆæƒï¼Œè¯¥çŠ¶æ€ä»£ç å¿…é¡»ä¸ WWW-Authenticate æŠ¥å¤´åŸŸä¸€èµ·ä½¿ç”¨</li>
<li>403 Forbidden è¡¨ç¤ºæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æä¾›æœåŠ¡ï¼Œé€šå¸¸ä¼šåœ¨å“åº”æ­£æ–‡ä¸­ç»™å‡ºä¸æä¾›æœåŠ¡çš„åŸå› </li>
<li>404 Not Found è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œä¾‹å¦‚ï¼Œè¾“å…¥äº†é”™è¯¯çš„URL</li>
</ul>
<p>==5xxï¼š== æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æœªèƒ½æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚è€Œå‡ºç°æ„å¤–é”™è¯¯ã€‚</p>
<ul>
<li>500 Internel Server Error è¡¨ç¤ºæœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•å®Œæˆå®¢æˆ·ç«¯çš„è¯·æ±‚</li>
<li>503 Service Unavailable è¡¨ç¤ºæœåŠ¡å™¨å½“å‰ä¸èƒ½å¤Ÿå¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œåœ¨ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ¢å¤æ­£å¸¸</li>
</ul>
<p><strong>å“åº”å¤´ï¼š</strong><br>å“åº”å¤´éƒ¨ï¼šç”±å…³é”®å­—/å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨è‹±æ–‡å†’å·â€:â€åˆ†éš”ï¼Œå…¸å‹çš„å“åº”å¤´æœ‰ï¼š<br><img src="https://files.catbox.moe/m1chic.png" alt="å“åº”å¤´"></p>
<p><strong>å“åº”æ­£æ–‡ï¼š</strong><br>åŒ…å«ç€æˆ‘ä»¬éœ€è¦çš„ä¸€äº›å…·ä½“ä¿¡æ¯ï¼Œæ¯”å¦‚cookieï¼Œhtml,imageï¼Œåç«¯è¿”å›çš„è¯·æ±‚æ•°æ®ç­‰ç­‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå“åº”æ­£æ–‡å’Œå“åº”å¤´ä¹‹é—´æœ‰ä¸€è¡Œç©ºæ ¼ï¼Œè¡¨ç¤ºå“åº”å¤´çš„ä¿¡æ¯åˆ°ç©ºæ ¼ä¸ºæ­¢ï¼Œä¸‹å›¾æ˜¯fiddleræŠ“åˆ°çš„è¯·æ±‚æ­£æ–‡ï¼Œçº¢è‰²æ¡†ä¸­çš„ï¼šå“åº”æ­£æ–‡ï¼š<br><img src="https://files.catbox.moe/0qw5o5.png" alt="å“åº”æ­£æ–‡"></p>
<h2 id="8-æµè§ˆå™¨æ˜¾ç¤º-html"><a href="#8-æµè§ˆå™¨æ˜¾ç¤º-html" class="headerlink" title="8. æµè§ˆå™¨æ˜¾ç¤º html"></a>8. æµè§ˆå™¨æ˜¾ç¤º html</h2><blockquote>
<p>æµè§ˆå™¨åœ¨æ”¶åˆ°HTML,CSS,JSæ–‡ä»¶åï¼Œå®ƒæ˜¯å¦‚ä½•æŠŠé¡µé¢å‘ˆç°åˆ°å±å¹•ä¸Šçš„ï¼Ÿä¸‹å›¾å¯¹åº”çš„å°±æ˜¯WebKitæ¸²æŸ“çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>æ„å»ºdomæ ‘ -&gt; æ„å»ºrenderæ ‘ -&gt; å¸ƒå±€renderæ ‘ -&gt; ç»˜åˆ¶renderæ ‘</strong><br>æ¸²æŸ“è¿‡ç¨‹ï¼š</p>
<p>æµè§ˆå™¨æ˜¯ä¸€ä¸ªè¾¹è§£æè¾¹æ¸²æŸ“çš„è¿‡ç¨‹ã€‚é¦–å…ˆæµè§ˆå™¨è§£æHTMLæ–‡ä»¶æ„å»ºDOMæ ‘ï¼Œç„¶åè§£æCSSæ–‡ä»¶æ„å»ºæ¸²æŸ“æ ‘ï¼Œç­‰åˆ°æ¸²æŸ“æ ‘æ„å»ºå®Œæˆåï¼Œæµè§ˆå™¨å¼€å§‹å¸ƒå±€æ¸²æŸ“æ ‘å¹¶å°†å…¶ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠåˆ°ä¸¤ä¸ªæ¦‚å¿µ: reflow(å›æµ)å’Œrepain(é‡ç»˜)ã€‚DOMèŠ‚ç‚¹ä¸­çš„å„ä¸ªå…ƒç´ éƒ½æ˜¯ä»¥ç›’æ¨¡å‹çš„å½¢å¼å­˜åœ¨ï¼Œè¿™äº›éƒ½éœ€è¦æµè§ˆå™¨å»è®¡ç®—å…¶ä½ç½®å’Œå¤§å°ç­‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºrelow;å½“ç›’æ¨¡å‹çš„ä½ç½®,å¤§å°ä»¥åŠå…¶ä»–å±æ€§ï¼Œå¦‚é¢œè‰²,å­—ä½“,ç­‰ç¡®å®šä¸‹æ¥ä¹‹åï¼Œæµè§ˆå™¨ä¾¿å¼€å§‹ç»˜åˆ¶å†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºrepainã€‚é¡µé¢åœ¨é¦–æ¬¡åŠ è½½æ—¶å¿…ç„¶ä¼šç»å†reflowå’Œrepainã€‚reflowå’Œrepainè¿‡ç¨‹æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå®ƒä¼šç ´åç”¨æˆ·ä½“éªŒï¼Œæœ‰æ—¶ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½å°‘çš„å‡å°‘reflowå’Œrepainã€‚<br>â€‹    å½“æ–‡æ¡£åŠ è½½è¿‡ç¨‹ä¸­é‡åˆ°jsæ–‡ä»¶ï¼Œhtmlæ–‡æ¡£ä¼šæŒ‚èµ·æ¸²æŸ“ï¼ˆåŠ è½½è§£ææ¸²æŸ“åŒæ­¥ï¼‰çš„çº¿ç¨‹ï¼Œä¸ä»…è¦ç­‰å¾…æ–‡æ¡£ä¸­jsæ–‡ä»¶åŠ è½½å®Œæ¯•ï¼Œè¿˜è¦ç­‰å¾…è§£ææ‰§è¡Œå®Œæ¯•ï¼Œæ‰å¯ä»¥æ¢å¤htmlæ–‡æ¡£çš„æ¸²æŸ“çº¿ç¨‹ã€‚å› ä¸ºJSæœ‰å¯èƒ½ä¼šä¿®æ”¹DOMï¼Œæœ€ä¸ºç»å…¸çš„document.writeï¼Œè¿™æ„å‘³ç€ï¼Œåœ¨JSæ‰§è¡Œå®Œæˆå‰ï¼Œåç»­æ‰€æœ‰èµ„æºçš„ä¸‹è½½å¯èƒ½æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œè¿™æ˜¯jsé˜»å¡åç»­èµ„æºä¸‹è½½çš„æ ¹æœ¬åŸå› ã€‚æ‰€ä»¥æˆ‘æ˜å¹³æ—¶çš„ä»£ç ä¸­ï¼Œjsæ˜¯æ”¾åœ¨htmlæ–‡æ¡£æœ«å°¾çš„ã€‚<br>â€‹    JSçš„è§£ææ˜¯ç”±æµè§ˆå™¨ä¸­çš„JSè§£æå¼•æ“å®Œæˆçš„ã€‚JSæ˜¯å•çº¿ç¨‹è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´å†…åªèƒ½åšä¸€ä»¶äº‹ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œåä¸€ä¸ªä»»åŠ¡æ‰èƒ½å¼€å§‹ã€‚ä½†æ˜¯åˆå­˜åœ¨æŸäº›ä»»åŠ¡æ¯”è¾ƒè€—æ—¶ï¼Œå¦‚IOè¯»å†™ç­‰ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§æœºåˆ¶å¯ä»¥å…ˆæ‰§è¡Œæ’åœ¨åé¢çš„ä»»åŠ¡ï¼Œè¿™å°±æ˜¯ï¼šåŒæ­¥ä»»åŠ¡(synchronous)å’Œå¼‚æ­¥ä»»åŠ¡(asynchronous)ã€‚<br>â€‹    JSçš„æ‰§è¡Œæœºåˆ¶å°±å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªä¸»çº¿ç¨‹åŠ ä¸Šä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—(task queue)ã€‚åŒæ­¥ä»»åŠ¡å°±æ˜¯æ”¾åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡æ˜¯æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ;å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœå°±ä¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ï¼›è„šæœ¬è¿è¡Œæ—¶å…ˆä¾æ¬¡è¿è¡Œæ‰§è¡Œæ ˆï¼Œç„¶åä¼šä»ä»»åŠ¡é˜Ÿåˆ—é‡Œæå–äº‹ä»¶ï¼Œè¿è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸æ–­é‡å¤çš„ï¼Œæ‰€ä»¥åˆå«åšäº‹ä»¶å¾ªç¯(Event loop)ã€‚<br><img src="https://files.catbox.moe/we6f9l.png" alt="æ¸²æŸ“è¿‡ç¨‹"></p>
<h2 id="9-è¿æ¥ç»“æŸ"><a href="#9-è¿æ¥ç»“æŸ" class="headerlink" title="9. è¿æ¥ç»“æŸ"></a>9. è¿æ¥ç»“æŸ</h2><p>ç°åœ¨çš„é¡µé¢ä¸ºäº†ä¼˜åŒ–è¯·æ±‚çš„è€—æ—¶ï¼Œé»˜è®¤éƒ½ä¼šå¼€å¯æŒä¹…è¿æ¥ï¼ˆkeep-aliveï¼‰ï¼Œé‚£ä¹ˆä¸€ä¸ªTCPè¿æ¥ç¡®åˆ‡å…³é—­çš„æ—¶æœºï¼Œæ˜¯è¿™ä¸ªtabæ ‡ç­¾é¡µå…³é—­çš„æ—¶å€™ã€‚è¿™ä¸ªå…³é—­çš„è¿‡ç¨‹å°±æ˜¯è‘—åçš„å››æ¬¡æŒ¥æ‰‹ã€‚å…³é—­æ˜¯ä¸€ä¸ªå…¨åŒå·¥çš„è¿‡ç¨‹ï¼Œå‘åŒ…çš„é¡ºåºçš„ä¸ä¸€å®šçš„ã€‚ä¸€èˆ¬æ¥è¯´æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·çš„å…³é—­ï¼Œè¿‡ç¨‹å¦‚ä¸‹ã€‚<br>å¯¹äºä¸€ä¸ªå·²ç»å»ºç«‹çš„è¿æ¥ï¼ŒTCPä½¿ç”¨æ”¹è¿›çš„ä¸‰æ¬¡æ¡æ‰‹æ¥é‡Šæ”¾è¿æ¥ï¼ˆä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼‰ã€‚TCPå…³é—­è¿æ¥çš„æ­¥éª¤å¦‚ä¸‹ï¼š<br>ç¬¬ä¸€æ­¥ï¼Œå½“ä¸»æœºAçš„åº”ç”¨ç¨‹åºé€šçŸ¥TCPæ•°æ®å·²ç»å‘é€å®Œæ¯•æ—¶ï¼ŒTCPå‘ä¸»æœºBå‘é€ä¸€ä¸ªå¸¦æœ‰FINé™„åŠ æ ‡è®°çš„æŠ¥æ–‡æ®µï¼ˆFINè¡¨ç¤ºè‹±æ–‡finishï¼‰ã€‚<br>ç¬¬äºŒæ­¥ï¼Œä¸»æœºBæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µä¹‹åï¼Œå¹¶ä¸ç«‹å³ç”¨FINæŠ¥æ–‡æ®µå›å¤ä¸»æœºAï¼Œè€Œæ˜¯å…ˆå‘ä¸»æœºAå‘é€ä¸€ä¸ªç¡®è®¤åºå·ACKï¼ŒåŒæ—¶é€šçŸ¥è‡ªå·±ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼šå¯¹æ–¹è¦æ±‚å…³é—­è¿æ¥ï¼ˆå…ˆå‘é€ACKçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹é‡ä¼ FINæŠ¥æ–‡æ®µï¼‰ã€‚<br>ç¬¬ä¸‰æ­¥ï¼Œä¸»æœºBçš„åº”ç”¨ç¨‹åºå‘Šè¯‰TCPï¼šæˆ‘è¦å½»åº•çš„å…³é—­è¿æ¥ï¼ŒTCPå‘ä¸»æœºAé€ä¸€ä¸ªFINæŠ¥æ–‡æ®µã€‚<br>ç¬¬å››æ­¥ï¼Œä¸»æœºAæ”¶åˆ°è¿™ä¸ªFINæŠ¥æ–‡æ®µåï¼Œå‘ä¸»æœºBå‘é€ä¸€ä¸ªACKè¡¨ç¤ºè¿æ¥å½»åº•é‡Šæ”¾ã€‚</p>
<p><strong>è¡¥å……ï¼š</strong><br><strong>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</strong><br>ç­”ï¼šå› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œâ€ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚</p>
<blockquote>
<p>æ‘˜å½•äº <a class="link"   href="https://juejin.cn/post/6844903616101220366" >https://juejin.cn/post/6844903616101220366<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
]]></content>
      <categories>
        <category>ç½‘ç»œåè®®</category>
      </categories>
      <tags>
        <tag>ä¸‰æ¬¡æ¡æ‰‹</tag>
        <tag>DNS</tag>
        <tag>HTTP è¯·æ±‚</tag>
      </tags>
  </entry>
</search>
